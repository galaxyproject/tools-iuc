<tool id="dada2_phyloseq_plot_richness" name="Plot alpha diverstiy measure" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@">
  <description>from dada2 sequence and taxonomy tables</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command detect_errors="exit_code"><![CDATA[
Rscript '${__tool_directory__}/dada2_phyloseq_plot_richness.R' 
--sequence_table '$sequence_table' 
--taxonomy_table '$taxonomy_table' 
--output_richness_plot '$output_richness_plot'
    ]]></command>
    <inputs>
        <param name="sequence_table" type="data" format="dada2_sequencetable" label="Sequence table" help="Produced by the dada2 removeBimeraDenovo tool"/>
        <param name="taxonomy_table" type="data" format="tabular" label="Taxonomy table" help="Produced by the dada2 assignTaxonomyAndAddSpecies tool"/>
    </inputs>
    <outputs>
        <data name="output_richness_plot" format="pdf"/>
    </outputs>
    <tests>
        <test>
            <param name="sequence_table" value="sequence_table.dada2_sequencetable" ftype="dada2_sequencetable"/>
            <param name="taxonomy_table" value="taxonomy_table.tabular" ftype="tabular"/>
            <output name="output_richness_plot" ftype="pdf">
                <assert_contents>
                    <has_text text="%PDF"/>
                    <has_text text="%%EOF"/>
                </assert_contents>
            </output>
        </test>
    </tests>
    <help>
**What it does**

Accepts a sequence table produced by the dada2 removeBimeraDenovo tool and a taxonomy table produced by the dada2 assignTaxonomyAndAddSpecies tool,
estimates a number of alpha-diversity metrics, and generates a colored plot that includes the alpha diverstiy measure of each sample. 
    </help>
    <expand macro="citations"/>
</tool>

