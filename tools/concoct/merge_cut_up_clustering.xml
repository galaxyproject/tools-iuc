<tool id="concoct_merge_cut_up_clustering" name="CONCOCT: Merge cut clusters" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@">
    <description>and assign concensus clusters for the original contigs</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command detect_errors="exit_code"><![CDATA[
merge_cutup_clustering.py
    '$cutup_clustering_result'
    > '$output'
    ]]></command>
    <inputs>
        <param name="cutup_clustering_result" type="data" format="csv" label="Clusters generated by CONCOCT"/>
    </inputs>
    <outputs>
        <data name="output" format="csv"/>
    </outputs>
    <tests>
        <!-- default settings -->
        <test expect_num_outputs="1">
            <param name="cutup_clustering_result" value="clusters.csv" ftype="csv"/>
            <output name="output" ftype="csv">
                <assert_contents>
                    <has_size value="6923"/>
                    <has_text text="contig-21000001,39"/>
                </assert_contents>
            </output>
        </test>
    </tests>
    <help><![CDATA[
**What it does**

This tool merges the clustering created by concoct by looking at cluster assignments per contig part and assigning a concensus cluster for the original contig. The output contains a header line and contig_id and cluster_id per line, separated by a comma.

@HELP_OVERVIEW@
    ]]></help>
    <expand macro="citations"/>
</tool>
