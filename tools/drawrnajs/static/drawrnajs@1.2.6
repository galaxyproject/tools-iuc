require=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){},{}],2:[function(t,e,n){(function(e){"use strict";function r(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t){return this instanceof o?(o.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):l(this,t)):arguments.length>1?new o(t,arguments[1]):new o(t)}function a(t,e){if(t=g(t,0>e?0:0|v(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;e>n;n++)t[n]=0;return t}function s(t,e,n){"string"==typeof n&&""!==n||(n="utf8");var r=0|m(e,n);return t=g(t,r),t.write(e,n),t}function l(t,e){if(o.isBuffer(e))return u(t,e);if(Z(e))return c(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return h(t,e);if(e instanceof ArrayBuffer)return d(t,e)}return e.length?f(t,e):p(t,e)}function u(t,e){var n=0|v(e.length);return t=g(t,n),e.copy(t,0,0,n),t}function c(t,e){var n=0|v(e.length);t=g(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function h(t,e){var n=0|v(e.length);t=g(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function d(t,e){return o.TYPED_ARRAY_SUPPORT?(e.byteLength,t=o._augment(new Uint8Array(e))):t=h(t,new Uint8Array(e)),t}function f(t,e){var n=0|v(e.length);t=g(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function p(t,e){var n,r=0;"Buffer"===e.type&&Z(e.data)&&(n=e.data,r=0|v(n.length)),t=g(t,r);for(var i=0;r>i;i+=1)t[i]=255&n[i];return t}function g(t,e){o.TYPED_ARRAY_SUPPORT?(t=o._augment(new Uint8Array(e)),t.__proto__=o.prototype):(t.length=e,t._isBuffer=!0);var n=0!==e&&e<=o.poolSize>>>1;return n&&(t.parent=K),t}function v(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function y(t,e){if(!(this instanceof y))return new y(t,e);var n=new o(t,e);return delete n.parent,n}function m(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function b(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return N(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return D(this,e,n);case"binary":return M(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function x(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+a]=s}return a}function w(t,e,n,r){return U(H(e,t.length-n),t,n,r)}function E(t,e,n,r){return U(Y(e),t,n,r)}function _(t,e,n,r){return E(t,e,n,r)}function S(t,e,n,r){return U(V(e),t,n,r)}function T(t,e,n,r){return U(X(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?W.fromByteArray(t):W.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;n>i;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=i+s){var l,u,c,h;switch(s){case 1:128>o&&(a=o);break;case 2:l=t[i+1],128===(192&l)&&(h=(31&o)<<6|63&l,h>127&&(a=h));break;case 3:l=t[i+1],u=t[i+2],128===(192&l)&&128===(192&u)&&(h=(15&o)<<12|(63&l)<<6|63&u,h>2047&&(55296>h||h>57343)&&(a=h));break;case 4:l=t[i+1],u=t[i+2],c=t[i+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(h=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c,h>65535&&1114112>h&&(a=h))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return P(r)}function P(t){var e=t.length;if(J>=e)return String.fromCharCode.apply(String,t);for(var n="",r=0;e>r;)n+=String.fromCharCode.apply(String,t.slice(r,r+=J));return n}function D(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function N(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=q(t[o]);return i}function A(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>i||a>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range")}function B(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function R(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function j(t,e,n,r,i){return i||R(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),G.write(t,e,n,r,23,4),n+4}function $(t,e,n,r,i){return i||R(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),G.write(t,e,n,r,52,8),n+8}function z(t){if(t=F(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function F(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t){return 16>t?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;r>a;a++){if(n=t.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function X(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function V(t){return W.toByteArray(z(t))}function U(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}var W=t("base64-js"),G=t("ieee754"),Z=t("isarray");n.Buffer=o,n.SlowBuffer=y,n.INSPECT_MAX_BYTES=50,o.poolSize=8192;var K={};o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:r(),o.TYPED_ARRAY_SUPPORT?(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array):(o.prototype.length=void 0,o.prototype.parent=void 0),o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);a>i&&t[i]===e[i];)++i;return i!==a&&(n=t[i],r=e[i]),r>n?-1:n>r?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Z(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new o(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var r=new o(e),i=0;for(n=0;n<t.length;n++){var a=t[n];a.copy(r,i),i+=a.length}return r},o.byteLength=m,o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):b.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:o.compare(this,t)},o.prototype.indexOf=function(t,e){function n(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(o.isBuffer(t))return n(this,t,e);if("number"==typeof t)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);throw new TypeError("val must be string, number or Buffer")},o.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},o.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=e,e=0|n,n=i}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return E(this,t,e,n);case"binary":return _(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=o._augment(this.subarray(t,e));else{var i=e-t;r=new o(i,void 0);for(var a=0;i>a;a++)r[a]=this[a+t]}return r.length&&(r.parent=this.parent||this),r},o.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),G.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),G.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),G.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),G.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||O(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||O(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e=0|e,n||O(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=0|e,n||O(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=0|e,n||O(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=0|e,n||O(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=0|e,n||O(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=0,a=1,s=0>t?1:0;for(this[e]=255&t;++o<n&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e=0|e,n||O(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e=0|e,n||O(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e=0|e,n||O(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e=0|e,n||O(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e=0|e,n||O(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return $(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return $(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&e>n&&r>e)for(i=a-1;i>=0;i--)t[i+e]=this[i+n];else if(1e3>a||!o.TYPED_ARRAY_SUPPORT)for(i=0;a>i;i++)t[i+e]=this[i+n];else t._set(this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=H(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=o.prototype;o._augment=function(t){return t.constructor=o,t._isBuffer=!0,t._set=t.set,t.get=Q.get,t.set=Q.set,t.write=Q.write,t.toString=Q.toString,t.toLocaleString=Q.toString,t.toJSON=Q.toJSON,t.equals=Q.equals,t.compare=Q.compare,t.indexOf=Q.indexOf,t.copy=Q.copy,t.slice=Q.slice,t.readUIntLE=Q.readUIntLE,t.readUIntBE=Q.readUIntBE,t.readUInt8=Q.readUInt8,t.readUInt16LE=Q.readUInt16LE,t.readUInt16BE=Q.readUInt16BE,t.readUInt32LE=Q.readUInt32LE,t.readUInt32BE=Q.readUInt32BE,t.readIntLE=Q.readIntLE,t.readIntBE=Q.readIntBE,t.readInt8=Q.readInt8,t.readInt16LE=Q.readInt16LE,t.readInt16BE=Q.readInt16BE,t.readInt32LE=Q.readInt32LE,t.readInt32BE=Q.readInt32BE,t.readFloatLE=Q.readFloatLE,t.readFloatBE=Q.readFloatBE,t.readDoubleLE=Q.readDoubleLE,t.readDoubleBE=Q.readDoubleBE,t.writeUInt8=Q.writeUInt8,t.writeUIntLE=Q.writeUIntLE,t.writeUIntBE=Q.writeUIntBE,t.writeUInt16LE=Q.writeUInt16LE,t.writeUInt16BE=Q.writeUInt16BE,t.writeUInt32LE=Q.writeUInt32LE,t.writeUInt32BE=Q.writeUInt32BE,t.writeIntLE=Q.writeIntLE,t.writeIntBE=Q.writeIntBE,t.writeInt8=Q.writeInt8,t.writeInt16LE=Q.writeInt16LE,t.writeInt16BE=Q.writeInt16BE,t.writeInt32LE=Q.writeInt32LE,t.writeInt32BE=Q.writeInt32BE,t.writeFloatLE=Q.writeFloatLE,t.writeFloatBE=Q.writeFloatBE,t.writeDoubleLE=Q.writeDoubleLE,t.writeDoubleBE=Q.writeDoubleBE,t.fill=Q.fill,t.inspect=Q.inspect,t.toArrayBuffer=Q.toArrayBuffer,t};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":3,ieee754:4,isarray:5}],3:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===h?62:e===s||e===d?63:l>e?-1:l+10>e?e-l+26+26:c+26>e?e-c:u+26>e?e-u+26:void 0}function n(t){function n(t){u[h++]=t}var r,i,a,s,l,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;l="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,u=new o(3*t.length/4-l),a=l>0?t.length-4:t.length;var h=0;for(r=0,i=0;a>r;r+=4,i+=3)s=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===l?(s=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&s)):1===l&&(s=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(s>>8&255),n(255&s)),u}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,a,s=t.length%3,l="";for(i=0,a=t.length-s;a>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],l+=n(o);switch(s){case 1:o=t[t.length-1],l+=e(o>>2),l+=e(o<<4&63),l+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],l+=e(o>>10),l+=e(o>>4&63),l+=e(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),l="0".charCodeAt(0),u="a".charCodeAt(0),c="A".charCodeAt(0),h="-".charCodeAt(0),d="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],4:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:(f?-1:1)*(1/0);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+h>=1?d/l:d*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*l-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+f]=255&a,f+=p,a/=256,u-=8);t[n+f-p]|=128*g}},{}],5:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],6:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),l=1;r>l;l++)o[l-1]=arguments[l];n.apply(this,o)}else if(a(n)){for(r=arguments.length,o=new Array(r-1),l=1;r>l;l++)o[l-1]=arguments[l];for(u=n.slice(),r=u.length,l=0;r>l;l++)u[l].apply(this,o)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(s=o;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],7:[function(t,e,n){n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],8:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=e(r(n.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(t){var i=n.isAbsolute(t),o="/"===a(t,-1);return t=e(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),o=r(e.split("/")),a=Math.min(i.length,o.length),s=a,l=0;a>l;l++)if(i[l]!==o[l]){s=l;break}for(var u=[],l=s;l<i.length;l++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:9}],9:[function(t,e,n){function r(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var r=[];if(e){var i=document.createElement("div"),o=new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})});return o.observe(i,{attributes:!0}),function(t){r.length||i.setAttribute("yes","no"),r.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],10:[function(t,e,n){(function(e){!function(r){var i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,n){i.Backbone=r(i,n,t,e)});else if("undefined"!=typeof n){var o,a=t("underscore");try{o=t("jquery")}catch(s){}r(i,n,a,o)}else i.Backbone=r(i,{},i._,i.jQuery||i.Zepto||i.ender||i.$)}(function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],l(t,this),i)};case 4:return function(t,i,o){return n[e](this[r],l(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},s=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=a(e,i,r))})},l=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},h=/\s+/,d=function(t,e,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)e=d(t,e,a[s],r[a[s]],o)}else if(r&&h.test(r))for(a=r.split(h);s<a.length;s++)e=t(e,a[s],i,o);else e=t(e,r,i,o);return e};c.on=function(t,e,n){return f(this,t,e,n)};var f=function(t,e,n,r,i){if(t._events=d(p,t._events||{},e,n,{context:r,ctx:t,listening:i}),i){var o=t._listeners||(t._listeners={});o[i.id]=i}return t};c.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[i];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[i]={obj:t,objId:i,id:s,listeningTo:o,count:0}}return f(t,e,r,this,a),this};var p=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return t};c.off=function(t,e,n){return this._events?(this._events=d(g,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(e,r,this)}return this};var g=function(t,e,r,i){if(t){var o,a=0,s=i.context,l=i.listeners;if(e||r||s){for(var u=e?[e]:n.keys(t);a<u.length;a++){e=u[a];var c=t[e];if(!c)break;for(var h=[],d=0;d<c.length;d++){var f=c[d];r&&r!==f.callback&&r!==f.callback._callback||s&&s!==f.context?h.push(f):(o=f.listening,o&&0===--o.count&&(delete l[o.id],delete o.listeningTo[o.objId]))}h.length?t[e]=h:delete t[e]}return t}for(var p=n.keys(l);a<p.length;a++)o=l[p[a]],delete l[o.id],delete o.listeningTo[o.objId]}};c.once=function(t,e,r){var i=d(v,{},t,e,n.bind(this.off,this));
return"string"==typeof t&&null==r&&(e=void 0),this.on(i,e,r)},c.listenToOnce=function(t,e,r){var i=d(v,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var v=function(t,e,r,i){if(r){var o=t[e]=n.once(function(){i(e,o),r.apply(this,arguments)});o._callback=r}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;e>r;r++)n[r]=arguments[r+1];return d(y,this._events,t,void 0,n),this};var y=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&m(i,r),o&&m(o,[e].concat(r))}return t},m=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var b=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,h=this._previousAttributes;for(var d in i)e=i[d],n.isEqual(u[d],e)||s.push(d),n.isEqual(h[d],e)?delete c[d]:c[d]=e,o?delete u[d]:u[d]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=r);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,u[s[f]],r)}if(l)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var o=t[i];n.isEqual(e[i],o)||(r[i]=o)}return n.size(r)?r:!1},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;return e.set(i,t)?(r&&r.call(t.context,e,n,t),void e.trigger("sync",e,n,t)):!1},F(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,l=this.attributes;r.success=function(t){a.attributes=l;var e=r.parse?a.parse(t,r):t;return o&&(e=n.extend({},i,e)),e&&!a.set(e,r)?!1:(s&&s.call(r.context,a,t,r),void a.trigger("sync",a,t,r))},F(this,r),i&&o&&(this.attributes=n.extend({},l,i));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=i);var c=this.sync(u,this,r);return this.attributes=l,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(F(this,t),a=this.sync("delete",this,t)),i||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||z();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var x={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s(b,x,"attributes");var w=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},E={add:!0,remove:!0,merge:!0},_={add:!0,remove:!1},S=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),o=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;o>r;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+o+n]=i[r]};n.extend(w.prototype,c,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,_))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){e=n.extend({},E,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),0>i&&(i+=this.length+1);var o,a,s=[],l=[],u=[],c=[],h={},d=e.add,f=e.merge,p=e.remove,g=!1,v=this.comparator&&null==i&&e.sort!==!1,y=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var m=this.get(o);if(m){if(f&&o!==m){var b=this._isModel(o)?o.attributes:o;e.parse&&(b=m.parse(b,e)),m.set(b,e),u.push(m),v&&!g&&(g=m.hasChanged(y))}h[m.cid]||(h[m.cid]=!0,s.push(m)),t[a]=m}else d&&(o=t[a]=this._prepareModel(o,e),o&&(l.push(o),this._addReference(o,e),h[o.cid]=!0,s.push(o)))}if(p){for(a=0;a<this.length;a++)o=this.models[a],h[o.cid]||c.push(o);c.length&&this._removeModels(c,e)}var x=!1,w=!v&&d&&p;if(s.length&&w?(x=this.length!==s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,S(this.models,s,0),this.length=this.models.length):l.length&&(v&&(g=!0),S(this.models,l,null==i?this.length:i),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(a=0;a<l.length;a++)null!=i&&(e.index=i+a),o=l[a],o.trigger("add",o,this,e);(g||x)&&this.trigger("sort",this,e),(l.length||c.length||u.length)&&(e.changes={added:l,removed:c,merged:u},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){return null!=t?this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]:void 0},has:function(t){return null!=this.get(t)},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(t=this._prepareModel(t,e),!t)return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var T={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};s(w,T,"models");var C=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,P)),this._ensureElement(),this.initialize.apply(this,arguments)},k=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];n.extend(C.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(k);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var o=D[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||z()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var l=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,l&&l.call(i.context,t,e,n)};var u=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,u,i),u};var D={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var M=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},N=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,I=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(M.prototype,c,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);o.execute(i,a,r)!==!1&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(O,"\\$&").replace(N,"(?:$1)?").replace(A,function(t,e){return e?t:"([^/?]+)"}).replace(I,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var B=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,j=/#.*$/;B.started=!1,n.extend(B.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(L,"")},start:function(t){if(B.started)throw new Error("Backbone.history has already been started");if(B.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),B.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!B.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(j,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new B;var $=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};b.extend=w.extend=M.extend=C.extend=B.extend=$;var z=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:26,underscore:88}],11:[function(t,e,n){t("../../js/transition.js"),t("../../js/alert.js"),t("../../js/button.js"),t("../../js/carousel.js"),t("../../js/collapse.js"),t("../../js/dropdown.js"),t("../../js/modal.js"),t("../../js/tooltip.js"),t("../../js/popover.js"),t("../../js/scrollspy.js"),t("../../js/tab.js"),t("../../js/affix.js")},{"../../js/affix.js":12,"../../js/alert.js":13,"../../js/button.js":14,"../../js/carousel.js":15,"../../js/collapse.js":16,"../../js/dropdown.js":17,"../../js/modal.js":18,"../../js/popover.js":19,"../../js/scrollspy.js":20,"../../js/tab.js":21,"../../js/tooltip.js":22,"../../js/transition.js":23}],12:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.affix"),o="object"==typeof e&&e;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,r){this.options=t.extend({},n.DEFAULTS,r),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=o.top?!1:"bottom":t-r>=i+a?!1:"bottom";var s=null==this.affixed,l=s?i:o.top,u=s?a:e;return null!=n&&n>=i?"top":null!=r&&l+u>=t-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,e,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-o})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),e.call(n,r)})})}(jQuery)},{}],13:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',r=function(e){t(e).on("click",n,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===o?[]:o);e&&e.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=r,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery)},{}],14:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.button"),o="object"==typeof e&&e;i||r.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,r){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();e+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(t.proxy(function(){r[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=r,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=t(n.target).closest(".btn");e.call(r,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery)},{}],15:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.carousel"),o=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e),a="string"==typeof e?e:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof e?i.to(e):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),r="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(r&&!this.options.wrap)return e;var i="prev"==t?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(e,i),a=this.interval,s="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var r=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=r,this};var i=function(n){var r,i=t(this),o=t(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery)},{}],16:[function(t,e,n){+function(t){"use strict";function e(e){var n,r=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(r)}function n(e){return this.each(function(){var n=t(this),i=n.data("bs.collapse"),o=t.extend({},r.DEFAULTS,n.data(),"object"==typeof e&&e);!i&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof e&&i[e]()})}var r=function(e,n){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),e||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){
this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,r){var i=t(r);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=r,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=t(this);i.attr("data-target")||r.preventDefault();var o=e(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery)},{}],17:[function(t,e,n){+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function n(n){n&&3===n.which||(t(i).remove(),t(o).each(function(){var r=t(this),i=e(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(i[0],n.target)||(i.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function r(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof e&&r[e].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=t(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=e(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=r,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery)},{}],18:[function(t,e,n){+function(t){"use strict";function e(e,r){return this.each(function(){var i=t(this),o=i.data("bs.modal"),a=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof e?o[e](r):a.show&&o.show(r)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var r=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=t.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var r=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=r,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=t(this),i=r.attr("href"),o=t(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),e.call(o,a,this)})}(jQuery)},{}],19:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.popover"),o="object"==typeof e&&e;!i&&/destroy|hide/.test(e)||(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=r,this}}(jQuery)},{}],20:[function(t,e,n){+function(t){"use strict";function e(n,r){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=t(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=r)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(void 0===i[t+1]||e<i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery)},{}],21:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),e.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=t(r);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(e,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&t.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=r,this};var i=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery)},{}],22:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tooltip"),o="object"==typeof e&&e;!i&&/destroy|hide/.test(e)||(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,r){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var r=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(u){var f=s,p=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+d>p.bottom?"top":"top"==s&&c.top-d<p.top?"bottom":"right"==s&&c.right+h>p.width?"left":"left"==s&&c.left-h<p.left?"right":s,o.removeClass(f).addClass(s)}var g=this.getCalculatedOffset(s,c,h,d);this.applyPlacement(g,s);var v=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(e,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(n),d=h?2*c.left-i+l:2*c.top-o+u,f=h?"offsetWidth":"offsetHeight";r.offset(e),this.replaceArrow(d,r[0][f],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function r(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),e&&e()}var i=this,o=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=r?{top:0,left:0}:o?null:e.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=r?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,s,l,a)},n.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var u=e.left-o,c=e.left+o+n;u<a.left?i.left=a.left-u:c>a.right&&(i.left=a.left+a.width-c)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var r=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=r,this}}(jQuery)},{}],23:[function(t,e,n){+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery)},{}],24:[function(t,e,n){!function(t,n){"use strict";var r=function(t,e){if(cytoscape){var n={preview:!0,handleSize:10,handleTouchTargetMult:3,handleColor:"#ff0000",handleLineType:"ghost",handleLineWidth:1,handleNodes:"node",hoverDelay:150,cxt:!1,enabled:!0,toggleOffOnLeave:!1,edgeType:function(t,e){return"flat"},loopAllowed:function(t){return!1},nodeLoopOffset:-50,nodeParams:function(t,e){return{}},edgeParams:function(t,e,n){return{}},start:function(t){},complete:function(t,e,n){},stop:function(t){}};e.fn.cytoscapeEdgehandles=function(r){var i=r,o={destroy:function(){var t=e(this),n=t.data("cyedgehandles");return null!=n?(n.unbind(),t.data("cyedgehandles",{}),t):void 0},option:function(t,r){var i=e(this),o=i.data("cyedgehandles");if(null!=o){var a=o.options;if(void 0===r){if(typeof t!=typeof{})return a[t];var s=t;a=e.extend(!0,{},n,s),o.options=a}else a[t]=r;return i.data("cyedgehandles",o),i}},disable:function(){return o.option.apply(this,["enabled",!1])},enable:function(){return o.option.apply(this,["enabled",!0])},resize:function(){var t=e(this);t.trigger("cyedgehandles.resize")},drawon:function(){e(this).trigger("cyedgehandles.drawon")},drawoff:function(){e(this).trigger("cyedgehandles.drawoff")},init:function(){function i(){D.attr("height",P.height()).attr("width",P.width()).css({position:"absolute","z-index":"999"})}function o(){return j||(j=P.data("cyedgehandles").options)}function a(){return o().enabled}function s(){return!a()}function l(){if(!I){var t=P.width(),e=P.height();L.clearRect(0,0,t,e),I=!0}}function u(){$=m.panningEnabled(),z=m.zoomingEnabled(),F=m.boxSelectionEnabled(),m.zoomingEnabled(!1).panningEnabled(!1).boxSelectionEnabled(!1)}function c(){m.zoomingEnabled(z).panningEnabled($).boxSelectionEnabled(F)}function h(){l(),m.nodes().removeClass("edgehandles-hover").removeClass("edgehandles-source").removeClass("edgehandles-target"),m.$(".edgehandles-ghost").remove(),b=null,C=null,c()}function d(t,e){g(!0),e.trigger("cyedgehandles.addpreview")}function f(t,e){t.edgesWith(e).filter(".edgehandles-preview").remove(),e.neighborhood("node.edgehandles-preview").closedNeighborhood(".edgehandles-preview").remove(),e.trigger("cyedgehandles.removepreview")}function p(t,e,n){L.fillStyle=o().handleColor,L.strokeStyle=o().handleColor,L.beginPath(),L.arc(t,e,n,0,2*Math.PI),L.closePath(),L.fill(),I=!1}function g(t,n,r){var i=n?n:m.nodes(".edgehandles-source"),a=r?r:m.nodes(".edgehandles-target"),s=t?"edgehandles-preview":"",l=m.collection();if(n||r||t||!o().preview||m.$(".edgehandles-ghost").remove(),0!==i.size()&&0!==a.size()){if(!n&&!r){if(!t&&o().preview)return l=m.elements(".edgehandles-preview").removeClass("edgehandles-preview"),o().complete(i,a,l),void i.trigger("cyedgehandles.complete");m.elements(".edgehandles-preview").remove()}for(var u=0;u<a.length;u++){var c=a[u];switch(o().edgeType(i,c)){case"node":var h,d=i.position(),f=c.position();h=i.id()===c.id()?{x:d.x+o().nodeLoopOffset,y:d.y+o().nodeLoopOffset}:{x:(d.x+f.x)/2,y:(d.y+f.y)/2};var p=m.add(e.extend(!0,{group:"nodes",position:h},o().nodeParams(i,c))).addClass(s),g=m.add(e.extend(!0,{group:"edges",data:{source:i.id(),target:p.id()}},o().edgeParams(i,c,0))).addClass(s),v=m.add(e.extend(!0,{group:"edges",data:{source:p.id(),target:c.id()}},o().edgeParams(i,c,1))).addClass(s);l=l.add(p).add(g).add(v);break;case"flat":var y=m.add(e.extend(!0,{group:"edges",data:{source:i.id(),target:c.id()}},o().edgeParams(i,c,0))).addClass(s);l=l.add(y);break;default:c.removeClass("edgehandles-target")}}t||(o().complete(i,a,l),i.trigger("cyedgehandles.complete"))}}function v(t){var e=t;clearTimeout(_),_=setTimeout(function(){var n=m.nodes(".edgehandles-source"),r=t.hasClass("edgehandles-source"),i=o().loopAllowed(t),a=t.hasClass("edgehandles-ghost-node"),s=null==o().edgeType(n,t);a||s||(!r||r&&i)&&(t.addClass("edgehandles-hover"),t.toggleClass("edgehandles-target"),o().preview&&(t.hasClass("edgehandles-target")?d(n,e):f(n,e)))},o().hoverDelay)}function y(t){var e=t;if(t.removeClass("edgehandles-hover"),clearTimeout(_),o().toggleOffOnLeave){var n=C;t.removeClass("edgehandles-target"),f(n,e)}}var m,b,x,w,E,_,S,T,C,k=e.extend(!0,{},n,r),P=e(this),D=e("<canvas></canvas>"),M=!1,N=!1,A=!1,I=!0,O=!1;P.append(D),i(),e(window).bind("resize",function(){i()}),P.bind("cyedgehandles.resize",function(){i()});var B;P.on("cyedgehandles.drawon",function(){O=!0,B=m.autoungrabify(),m.autoungrabify(!0)}),P.on("cyedgehandles.drawoff",function(){O=!1,m.autoungrabify(B)});var L=D[0].getContext("2d"),R=P.data("cyedgehandles");null==R&&(R={}),R.options=k;var j,$,z,F,q=1e3/30,H=0,Y=function(t,e,n,r){var i=+new Date;if(!(q>i-H)){switch(H=i,"ghost"!==o().handleLineType&&(L.fillStyle=o().handleColor,L.strokeStyle=o().handleColor,L.lineWidth=o().handleLineWidth),o().handleLineType){case"ghost":S&&!S.removed()||(p(),S=m.add({group:"nodes",classes:"edgehandles-ghost edgehandles-ghost-node",css:{"background-color":"blue",width:1e-4,height:1e-4,opacity:0},position:{x:0,y:0}}),T=m.add({group:"edges",classes:"edgehandles-ghost edgehandles-ghost-edge",data:{source:C.id(),target:S.id()}})),S.renderedPosition({x:n,y:r});break;case"straight":L.beginPath(),L.moveTo(t,e),L.lineTo(n,r),L.closePath(),L.stroke();break;case"draw":default:null==b?b=[[n,r]]:b.push([n,r]),L.beginPath(),L.moveTo(t,e);for(var a=0;a<b.length;a++){var s=b[a];L.lineTo(s[0],s[1])}L.stroke()}"ghost"!==o().handleLineType&&(I=!1)}};P.cytoscape(function(n){m=this,$=m.panningEnabled(),z=m.zoomingEnabled(),F=m.boxSelectionEnabled();var r,i;m.bind("zoom pan",i=function(){l()});var a,c,d,f,b,_,S,T,k,D,I,B,L,j,q,H,X;m.on("mouseover tap","node",c=function(n){function i(n){function r(t){if(M&&!A){e(this);M=!1,e(window).unbind("mousemove touchmove",c),g(),h(),o().stop(d),d.trigger("cyedgehandles.stop")}}P[0].removeEventListener("mousedown",i,!0),P[0].removeEventListener("touchstart",i,!0);var a=n.touches?n.touches[0].pageX:n.pageX,s=n.touches?n.touches[0].pageY:n.pageY,l=a-P.offset().left,f=s-P.offset().top,p=t.is.touch()?E*o().handleTouchTargetMult:E;return 0!==n.button&&!n.touches||Math.abs(l-x)>p||Math.abs(f-w)>p||A?void 0:(M=!0,n.preventDefault(),n.stopPropagation(),C=d,d.addClass("edgehandles-source"),d.trigger("cyedgehandles.start"),e(window).one("mouseup touchend touchcancel blur",r).bind("mousemove touchmove",c),u(),o().start(d),!1)}function c(t){var e=t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,n=t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY,r=e-P.offset().left,i=n-P.offset().top;return"ghost"!==o().handleLineType&&(l(),p(x,w,E)),Y(x,w,r,i),!1}var d=this;if(!(s()||O||M||N||this.hasClass("edgehandles-preview")||A||this.hasClass("edgehandles-ghost-node")||0===d.filter(o().handleNodes).length)){a&&(P[0].removeEventListener("mousedown",a,!0),P[0].removeEventListener("touchstart",a,!0));var f=d.renderedPosition(),v=d.renderedOuterHeight();
r=d.id(),l(),E=o().handleSize/2*m.zoom(),x=f.x,w=f.y-v/2,p(x,w,E),d.trigger("cyedgehandles.showhandle"),P[0].addEventListener("mousedown",i,!0),P[0].addEventListener("touchstart",i,!0),a=i}}).on("mouseover tapdragover","node",d=function(){var t=this;return s()||O||this.hasClass("edgehandles-preview")?void 0:M?(v(t),!1):void 0}).on("mouseout tapdragout","node",f=function(){var t=this;O||M&&y(t)}).on("drag position","node",S=function(){if(!O){var t=this;t.hasClass("edgehandles-ghost")||setTimeout(l,50)}}).on("grab","node",X=function(){l()}).on("drag","node",H=function(){N=!0}).on("free","node",_=function(){N=!1}).on("cyedgehandles.forcestart","node",T=function(){var t=this;if(0!==t.filter(o().handleNodes).length){A=!0,l();var n=C=t;r=t.id(),t.trigger("cyedgehandles.start"),t.addClass("edgehandles-source");var i=t.renderedPosition(),a=t.renderedOuterHeight(),s=t.renderedOuterWidth(),c=o().handleSize/2*m.zoom(),d=i.x,f=i.y-a/2;p(d,f,c),t.trigger("cyedgehandles.showhandle");var v=function(n){P[0].removeEventListener("mousedown",v,!0),P[0].removeEventListener("touchstart",v,!0);var r=(void 0!==n.pageX?n.pageX:n.originalEvent.touches[0].pageX)-P.offset().left,x=(void 0!==n.pageY?n.pageY:n.originalEvent.touches[0].pageY)-P.offset().top,w=c/2,E=i.x-s/2-w<=r&&r<=i.x+s/2+w&&i.y-a/2-w<=x&&x<=i.y+a/2+w;if(E){u(),M=!0;var _=function(t){var e=(void 0!==t.pageX?t.pageX:t.originalEvent.touches[0].pageX)-P.offset().left,n=(void 0!==t.pageY?t.pageY:t.originalEvent.touches[0].pageY)-P.offset().top;"ghost"!==o().handleLineType&&(l(),p(d,f,c)),Y(d,f,e,n)};return P[0].addEventListener("mousemove",_,!0),P[0].addEventListener("touchmove",_,!0),e(window).one("mouseup touchend blur",function(){P[0].removeEventListener("mousemove",_,!0),P[0].removeEventListener("touchmove",_,!0),A=!1,M=!1,g(),o().stop(t),t.trigger("cyedgehandles.stop"),m.off("tap","node",b),t.off("remove",y),h()}),n.stopPropagation(),n.preventDefault(),!1}};P[0].addEventListener("mousedown",v,!0),P[0].addEventListener("touchstart",v,!0);var y;t.one("remove",function(){P[0].removeEventListener("mousedown",v,!0),P[0].removeEventListener("touchstart",v,!0),m.off("tap","node",b)});var b;m.one("tap","node",b=function(){var e=this,r=n.id()===e.id(),i=o().loopAllowed(e);(!r||r&&i)&&g(!1,n,e),A=!1,o().stop(t),t.trigger("cyedgehandles.stop"),P[0].removeEventListener("mousedown",v,!0),P[0].removeEventListener("touchstart",v,!0),t.off("remove",y),h()})}}).on("remove","node",k=function(){var t=this.id();t===r&&setTimeout(function(){h()},5)}).on("cxttapstart tapstart","node",D=function(t){var e=this;if(0!==e.filter(o().handleNodes).length){var n=o().cxt&&"cxttapstart"===t.type,i=O&&"tapstart"===t.type;if(n||i){l();var e=C=this;r=e.id(),e.trigger("cyedgehandles.start"),e.addClass("edgehandles-source");var a=e.renderedPosition(),s=e.renderedOuterHeight();e.renderedOuterWidth();E=o().handleSize/2*m.zoom(),x=a.x,w=a.y-s/2-E/2,p(x,w,E),e.trigger("cyedgehandles.showhandle"),o().start(e),e.trigger("cyedgehandles.start")}}}).on("cxtdrag tapdrag",B=function(t){var e=o().cxt&&"cxtdrag"===t.type,n=O&&"tapdrag"===t.type;if((e||n)&&C){var r=t.cyRenderedPosition;Y(x,w,r.x,r.y)}}).on("cxtdragover tapdragover","node",L=function(t){var e=o().cxt&&"cxtdragover"===t.type,n=O&&"tapdragover"===t.type;if((e||n)&&C){var r=this;v(r)}}).on("cxtdragout tapdragout","node",j=function(t){var e=o().cxt&&"cxtdragout"===t.type,n=O&&"tapdragout"===t.type;if((e||n)&&C){var r=this;y(r)}}).on("cxttapend tapend",q=function(t){var e=o().cxt&&"cxttapend"===t.type,n=O&&"tapend"===t.type;(e||n)&&(g(),h(),C=null,C&&(o().stop(C),node.trigger("cyedgehandles.stop"),o().complete(C)))}).on("tap","node",I=function(){return}),R.unbind=function(){m.off("mouseover","node",c).off("mouseover","node",d).off("mouseout","node",f).off("drag position","node",S).off("grab","node",b).off("free","node",_).off("cyedgehandles.forcestart","node",T).off("remove","node",k).off("cxttapstart","node",D).off("cxttapend",q).off("cxtdrag",B).off("cxtdragover","node",L).off("cxtdragout","node",j).off("tap","node",I),m.unbind("zoom pan",i)}}),P.data("cyedgehandles",R)},start:function(t){var n=e(this);n.cytoscape(function(e){var n=this;n.$("#"+t).trigger("cyedgehandles.forcestart")})}};return o[i]?o[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(e.error("No such function `"+i+"` for jquery.cytoscapeEdgeHandles"),e(this)):o.init.apply(this,arguments)},e.fn.cyEdgehandles=e.fn.cytoscapeEdgehandles,t("core","edgehandles",function(t){var n=this;return e(n.container()).cytoscapeEdgehandles(t)})}};"undefined"!=typeof e&&e.exports&&(e.exports=r),"undefined"!=typeof define&&define.amd&&define("cytoscape-edgehandles",function(){return r}),n&&t&&r(t,n)}(cytoscape,jQuery)},{}],25:[function(require,module,exports){(function(process,__dirname){var cytoscape;!function(t){"use strict";var e=cytoscape=function(){return cytoscape.init.apply(cytoscape,arguments)};e.version="2.4.6",e.init=function(t){return void 0===t&&(t={}),e.is.plainObject(t)?new e.Core(t):e.is.string(t)?e.extension.apply(e.extension,arguments):void 0},e.fn={},"undefined"!=typeof module&&module.exports&&(module.exports=cytoscape),"undefined"!=typeof define&&define.amd&&define("cytoscape",function(){return cytoscape}),t&&(t.cytoscape=cytoscape)}("undefined"==typeof window?null:window),this.cytoscape=cytoscape,function(t){"use strict";var e=0,n=1,r=2,i=function(t){return this instanceof i?(this.id="Thenable/1.0.7",this.state=e,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new i(t)};i.prototype={fulfill:function(t){return o(this,n,"fulfillValue",t)},reject:function(t){return o(this,r,"rejectReason",t)},then:function(t,e){var n=this,r=new i;return n.onFulfilled.push(l(t,r,"fulfill")),n.onRejected.push(l(e,r,"reject")),a(n),r.proxy}};var o=function(t,n,r,i){return t.state===e&&(t.state=n,t[r]=i,a(t)),t},a=function(t){t.state===n?s(t,"onFulfilled",t.fulfillValue):t.state===r&&s(t,"onRejected",t.rejectReason)},s=function(t,e,n){if(0!==t[e].length){var r=t[e];t[e]=[];var i=function(){for(var t=0;t<r.length;t++)r[t](n)};"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(i):"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},l=function(t,e,n){return function(r){if("function"!=typeof t)e[n].call(e,r);else{var i;try{i=t(r)}catch(o){return void e.reject(o)}u(e,i)}}},u=function(t,e){if(t===e||t.proxy===e)return void t.reject(new TypeError("cannot resolve promise with itself"));var n;if("object"==typeof e&&null!==e||"function"==typeof e)try{n=e.then}catch(r){return void t.reject(r)}if("function"!=typeof n)t.fulfill(e);else{var i=!1;try{n.call(e,function(n){i||(i=!0,n===e?t.reject(new TypeError("circular thenable chain")):u(t,n))},function(e){i||(i=!0,t.reject(e))})}catch(r){i||t.reject(r)}}};t.Promise="undefined"==typeof Promise?i:Promise,t.Promise.all=t.Promise.all||function(e){return new t.Promise(function(t,n){for(var r=new Array(e.length),i=0,o=function(n,o){r[n]=o,i++,i===e.length&&t(r)},a=0;a<e.length;a++)!function(t){var r=e[t],i=null!=r.then;if(i)r.then(function(e){o(t,e)},function(t){n(t)});else{var a=r;o(t,a)}}(a)})}}(cytoscape),function(t,e){"use strict";var n="string",r=typeof{},i="function";t.is={defined:function(t){return null!=t},string:function(t){return null!=t&&typeof t==n},fn:function(t){return null!=t&&typeof t===i},array:function(t){return Array.isArray?Array.isArray(t):null!=t&&t instanceof Array},plainObject:function(e){return null!=e&&typeof e===r&&!t.is.array(e)&&e.constructor===Object},object:function(t){return null!=t&&typeof t===r},number:function(t){return null!=t&&"number"==typeof t&&!isNaN(t)},integer:function(e){return t.is.number(e)&&Math.floor(e)===e},color:function(t){return null!=t&&"string"==typeof t&&""!==$.Color(t).toString()},bool:function(t){return null!=t&&typeof t==typeof!0},elementOrCollection:function(e){return t.is.element(e)||t.is.collection(e)},element:function(e){return e instanceof t.Element&&e._private.single},collection:function(e){return e instanceof t.Collection&&!e._private.single},core:function(e){return e instanceof t.Core},style:function(e){return e instanceof t.Style},stylesheet:function(e){return e instanceof t.Stylesheet},event:function(e){return e instanceof t.Event},thread:function(e){return e instanceof t.Thread},fabric:function(e){return e instanceof t.Fabric},emptyString:function(e){return e?!(!t.is.string(e)||""!==e&&!e.match(/^\s+$/)):!0},nonemptyString:function(e){return!(!e||!t.is.string(e)||""===e||e.match(/^\s+$/))},domElement:function(t){return"undefined"==typeof HTMLElement?!1:t instanceof HTMLElement},boundingBox:function(e){return t.is.plainObject(e)&&t.is.number(e.x1)&&t.is.number(e.x2)&&t.is.number(e.y1)&&t.is.number(e.y2)},promise:function(e){return t.is.object(e)&&t.is.fn(e.then)},touch:function(){return e&&("ontouchstart"in e||e.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return navigator.vendor.match(/kde/i)},khtmlEtc:function(){return t.is.khtml()||t.is.webkit()||t.is.chromium()},trident:function(){return"undefined"!=typeof ActiveXObject||!1},windows:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Win/i)},mac:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Mac/i)},linux:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Linux/i)},unix:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/X11/i)}}}(cytoscape,"undefined"==typeof window?null:window),function(t,e){"use strict";t.util={extend:function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||t.is.fn(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(t.is.plainObject(i)||(o=t.is.array(i)))?(o?(o=!1,a=r&&t.is.array(r)?r:[]):a=r&&t.is.plainObject(r)?r:{},s[n]=t.util.extend(c,a,i)):void 0!==i&&(s[n]=i));return s},require:function(n,r,i){var o;i=t.util.extend({msgIfNotFound:!0},i);var a=!1,s=function(t){a=!0,r(t)},l=function(t){e&&(o=e[n]),void 0!==o&&s(o),t&&t()},u=function(){a||c(h)},c=function(t){if("undefined"!=typeof module&&module.exports&&require)try{o=require(n)}catch(e){}void 0!==o&&s(o),t&&t()},h=function(){a||d(f)},d=function(t){"undefined"!=typeof define&&define.amd&&require&&require([n],function(e){o=e,void 0!==o&&s(o),t&&t()},function(e){t&&t()})},f=function(){!a&&i.msgIfNotFound&&t.util.error("Cytoscape.js tried to pull in dependency `"+n+"` but no module (i.e. CommonJS, AMD, or window) was found")};l(u)},requires:function(e,n){for(var r=[],i=[],o=function(){for(var t=0;t<e.length;t++)if(!i[t])return;n.apply(n,r)},a=0;a<e.length;a++)!function(){var n=e[a],s=a;t.util.require(n,function(t){r[s]=t,i[s]=!0,o()})}()},throttle:function(e,n,r){var i=!0,o=!0;return r===!1?i=!1:t.is.plainObject(r)&&(i="leading"in r?r.leading:i,o="trailing"in r?r.trailing:o),r=r||{},r.leading=i,r.maxWait=n,r.trailing=o,t.util.debounce(e,n,r)},now:function(){return+new Date},debounce:function(e,n,r){var i,o,a,s,l,u,c,h=0,d=!1,f=!0;if(t.is.fn(e)){if(n=Math.max(0,n)||0,r===!0){var p=!0;f=!1}else t.is.plainObject(r)&&(p=r.leading,d="maxWait"in r&&(Math.max(n,r.maxWait)||0),f="trailing"in r?r.trailing:f);var g=function(){var r=n-(t.util.now()-s);if(0>=r){o&&clearTimeout(o);var d=c;o=u=c=void 0,d&&(h=t.util.now(),a=e.apply(l,i),u||o||(i=l=null))}else u=setTimeout(g,r)},v=function(){u&&clearTimeout(u),o=u=c=void 0,(f||d!==n)&&(h=t.util.now(),a=e.apply(l,i),u||o||(i=l=null))};return function(){if(i=arguments,s=t.util.now(),l=this,c=f&&(u||!p),d===!1)var r=p&&!u;else{o||p||(h=s);var y=d-(s-h),m=0>=y;m?(o&&(o=clearTimeout(o)),h=s,a=e.apply(l,i)):o||(o=setTimeout(v,y))}return m&&u?u=clearTimeout(u):u||n===d||(u=setTimeout(g,n)),r&&(m=!0,a=e.apply(l,i)),!m||u||o||(i=l=null),a}}},error:function(t){if(!console)throw t;if(console.error)console.error.apply(console,arguments);else{if(!console.log)throw t;console.log.apply(console,arguments)}},clone:function(t){var e={};for(var n in t)e[n]=t[n];return e},copy:function(e){return null==e?e:t.is.array(e)?e.slice():t.is.plainObject(e)?t.util.clone(e):e},makeBoundingBox:function(t){if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},mapEmpty:function(t){var e=!0;if(null!=t)for(var n in t){e=!1;break}return e},pushMap:function(e){var n=t.util.getMap(e);null==n?t.util.setMap($.extend({},e,{value:[e.value]})):n.push(e.value)},setMap:function(e){for(var n,r=e.map,i=e.keys,o=i.length,a=0;o>a;a++){var n=i[a];t.is.plainObject(n)&&t.util.error("Tried to set map with object key"),a<i.length-1?(null==r[n]&&(r[n]={}),r=r[n]):r[n]=e.value}},getMap:function(e){for(var n=e.map,r=e.keys,i=r.length,o=0;i>o;o++){var a=r[o];if(t.is.plainObject(a)&&t.util.error("Tried to get map with object key"),n=n[a],null==n)return n}return n},deleteMap:function(e){for(var n=e.map,r=e.keys,i=r.length,o=e.keepChildren,a=0;i>a;a++){var s=r[a];t.is.plainObject(s)&&t.util.error("Tried to delete map with object key");var l=a===e.keys.length-1;if(l)if(o)for(var u in n)o[u]||(n[u]=void 0);else n[s]=void 0;else n=n[s]}},capitalize:function(e){return t.is.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},trim:function(t){var e,n;for(e=0;e<t.length&&" "===t[e];e++);for(n=t.length-1;n>e&&" "===t[n];n--);return t.substring(e,n+1)},hex2tuple:function(t){if((4===t.length||7===t.length)&&"#"===t[0]){var e,n,r,i=4===t.length,o=16;return i?(e=parseInt(t[1]+t[1],o),n=parseInt(t[2]+t[2],o),r=parseInt(t[3]+t[3],o)):(e=parseInt(t[1]+t[2],o),n=parseInt(t[3]+t[4],o),r=parseInt(t[5]+t[6],o)),[e,n,r]}},hsl2tuple:function(e){function n(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var r,i,o,a,s,l,u,c,h=new RegExp("^"+t.util.regex.hsla+"$").exec(e);if(h){if(i=parseInt(h[1]),0>i?i=(360- -1*i%360)%360:i>360&&(i%=360),i/=360,o=parseFloat(h[2]),0>o||o>100)return;if(o/=100,a=parseFloat(h[3]),0>a||a>100)return;if(a/=100,s=h[4],void 0!==s&&(s=parseFloat(s),0>s||s>1))return;if(0===o)l=u=c=Math.round(255*a);else{var d=.5>a?a*(1+o):a+o-a*o,f=2*a-d;l=Math.round(255*n(f,d,i+1/3)),u=Math.round(255*n(f,d,i)),c=Math.round(255*n(f,d,i-1/3))}r=[l,u,c,s]}return r},rgb2tuple:function(e){var n,r=new RegExp("^"+t.util.regex.rgba+"$").exec(e);if(r){n=[];for(var i=[],o=1;3>=o;o++){var a=r[o];if("%"===a[a.length-1]&&(i[o]=!0),a=parseFloat(a),i[o]&&(a=a/100*255),0>a||a>255)return;n.push(Math.floor(a))}var s=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(s&&!l)return;var u=r[4];if(void 0!==u){if(u=parseFloat(u),0>u||u>1)return;n.push(u)}}return n},colorname2tuple:function(e){return t.util.colors[e.toLowerCase()]},color2tuple:function(e){return(t.is.array(e)?e:null)||t.util.colorname2tuple(e)||t.util.hex2tuple(e)||t.util.rgb2tuple(e)||t.util.hsl2tuple(e)},tuple2hex:function(t){function e(t){var e=t.toString(16);return 1===e.length&&(e="0"+e),e}var n=t[0],r=t[1],i=t[2];return"#"+e(n)+e(r)+e(i)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},memoize:function(t,e){var n=this,r={};return e||(e=function(){if(1===arguments.length)return arguments[0];for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")}),function(){var i,o=arguments,a=e.apply(n,o);return(i=r[a])||(i=r[a]=t.apply(n,o)),i}}},t.util.camel2dash=t.util.memoize(function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=r.toLowerCase(),o=r!==i;o?(e.push("-"),e.push(i)):e.push(r)}var a=e.length===t.length;return a?t:e.join("")}),t.util.dash2camel=t.util.memoize(function(t){for(var e=[],n=!1,r=0;r<t.length;r++){var i=t[r],o="-"===i;o?n=!0:(n?e.push(i.toUpperCase()):e.push(i),n=!1)}return e.join("")}),t.util.regex={},t.util.regex.number="(?:[-]?\\d*\\.\\d+|[-]?\\d+|[-]?\\d*\\.\\d+[eE]\\d+)",t.util.regex.rgba="rgb[a]?\\(("+t.util.regex.number+"[%]?)\\s*,\\s*("+t.util.regex.number+"[%]?)\\s*,\\s*("+t.util.regex.number+"[%]?)(?:\\s*,\\s*("+t.util.regex.number+"))?\\)",t.util.regex.rgbaNoBackRefs="rgb[a]?\\((?:"+t.util.regex.number+"[%]?)\\s*,\\s*(?:"+t.util.regex.number+"[%]?)\\s*,\\s*(?:"+t.util.regex.number+"[%]?)(?:\\s*,\\s*(?:"+t.util.regex.number+"))?\\)",t.util.regex.hsla="hsl[a]?\\(("+t.util.regex.number+")\\s*,\\s*("+t.util.regex.number+"[%])\\s*,\\s*("+t.util.regex.number+"[%])(?:\\s*,\\s*("+t.util.regex.number+"))?\\)",t.util.regex.hslaNoBackRefs="hsl[a]?\\((?:"+t.util.regex.number+")\\s*,\\s*(?:"+t.util.regex.number+"[%])\\s*,\\s*(?:"+t.util.regex.number+"[%])(?:\\s*,\\s*(?:"+t.util.regex.number+"))?\\)",t.util.regex.hex3="\\#[0-9a-fA-F]{3}",t.util.regex.hex6="\\#[0-9a-fA-F]{6}";var n=e?e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame:null;n=n||function(t){t&&setTimeout(t,1e3/60)},t.util.requestAnimationFrame=function(t){n(t)}}(cytoscape,"undefined"==typeof window?null:window),function(t){"use strict";t.math={},t.math.signum=function(t){return t>0?1:0>t?-1:0},t.math.distance=function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},t.math.qbezierAt=function(t,e,n,r){return(1-r)*(1-r)*t+2*(1-r)*r*e+r*r*n},t.math.qbezierPtAt=function(e,n,r,i){return{x:t.math.qbezierAt(e.x,n.x,r.x,i),y:t.math.qbezierAt(e.y,n.y,r.y,i)}},t.math.boundingBoxesIntersect=function(t,e){return t.x1>e.x2?!1:e.x1>t.x2?!1:t.x2<e.x1?!1:e.x2<t.x1?!1:t.y2<e.y1?!1:e.y2<t.y1?!1:t.y1>e.y2?!1:!(e.y1>t.y2)},t.math.inBoundingBox=function(t,e,n){return t.x1<=e&&e<=t.x2&&t.y1<=n&&n<=t.y2},t.math.pointInBoundingBox=function(t,e){return this.inBoundingBox(t,e.x,e.y)},t.math.roundRectangleIntersectLine=function(t,e,n,r,i,o,a){var s,l=this.getRoundRectangleRadius(i,o),u=i/2,c=o/2,h=n-u+l-a,d=r-c-a,f=n+u-l+a,p=d;if(s=this.finiteLinesIntersect(t,e,n,r,h,d,f,p,!1),s.length>0)return s;var g=n+u+a,v=r-c+l-a,y=g,m=r+c-l+a;if(s=this.finiteLinesIntersect(t,e,n,r,g,v,y,m,!1),s.length>0)return s;var b=n-u+l-a,x=r+c+a,w=n+u-l+a,E=x;if(s=this.finiteLinesIntersect(t,e,n,r,b,x,w,E,!1),s.length>0)return s;var _=n-u-a,S=r-c+l-a,T=_,C=r+c-l+a;if(s=this.finiteLinesIntersect(t,e,n,r,_,S,T,C,!1),s.length>0)return s;var k,P=n-u+l,D=r-c+l;if(k=this.intersectLineCircle(t,e,n,r,P,D,l+a),k.length>0&&k[0]<=P&&k[1]<=D)return[k[0],k[1]];var M=n+u-l,N=r-c+l;if(k=this.intersectLineCircle(t,e,n,r,M,N,l+a),k.length>0&&k[0]>=M&&k[1]<=N)return[k[0],k[1]];var A=n+u-l,I=r+c-l;if(k=this.intersectLineCircle(t,e,n,r,A,I,l+a),k.length>0&&k[0]>=A&&k[1]>=I)return[k[0],k[1]];var O=n-u+l,B=r+c-l;return k=this.intersectLineCircle(t,e,n,r,O,B,l+a),k.length>0&&k[0]<=O&&k[1]>=B?[k[0],k[1]]:[]},t.math.roundRectangleIntersectBox=function(t,e,n,r,i,o,a,s,l){var u=this.getRoundRectangleRadius(i,o),c=a-i/2-l,h=s-o/2+u-l,d=a+i/2+l,f=s+o/2-u+l,p=a-i/2+u-l,g=s-o/2-l,v=a+i/2-u+l,y=s+o/2+l,m=Math.min(t,n),b=Math.max(t,n),x=Math.min(e,r),w=Math.max(e,r);return c>b?!1:m>d?!1:g>w?!1:x>y?!1:c>=m&&b>=c&&h>=x&&w>=h?!0:d>=m&&b>=d&&h>=x&&w>=h?!0:d>=m&&b>=d&&f>=x&&w>=f?!0:c>=m&&b>=c&&f>=x&&w>=f?!0:m>=c&&d>=m&&x>=h&&f>=x?!0:b>=c&&d>=b&&x>=h&&f>=x?!0:b>=c&&d>=b&&w>=h&&f>=w?!0:m>=c&&d>=m&&w>=h&&f>=w?!0:p>=m&&b>=p&&g>=x&&w>=g?!0:v>=m&&b>=v&&g>=x&&w>=g?!0:v>=m&&b>=v&&y>=x&&w>=y?!0:p>=m&&b>=p&&y>=x&&w>=y?!0:m>=p&&v>=m&&x>=g&&y>=x?!0:b>=p&&v>=b&&x>=g&&y>=x?!0:b>=p&&v>=b&&w>=g&&y>=w?!0:m>=p&&v>=m&&w>=g&&y>=w?!0:this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,p+l,h+l)?!0:this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,v-l,h+l)?!0:this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,v-l,f-l)?!0:!!this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,p+l,f-l)},t.math.checkInBoundingCircle=function(t,e,n,r,i,o,a,s){return t=(t-a)/(i+r),e=(e-s)/(o+r),n>=t*t+e*e},t.math.boxInBezierVicinity=function(t,e,n,r,i,o,a,s,l,u,c){var h=.25*i+.5*a+.25*l,d=.25*o+.5*s+.25*u,f=Math.min(t,n)-c,p=Math.min(e,r)-c,g=Math.max(t,n)+c,v=Math.max(e,r)+c;if(i>=f&&g>=i&&o>=p&&v>=o)return 1;if(l>=f&&g>=l&&u>=p&&v>=u)return 1;if(h>=f&&g>=h&&d>=p&&v>=d)return 1;if(a>=f&&g>=a&&s>=p&&v>=s)return 1;var y=Math.min(i,h,l),m=Math.min(o,d,u),b=Math.max(i,h,l),x=Math.max(o,d,u);return y>g||f>b||m>v||p>x?0:1},t.math.checkBezierInBox=function(e,n,r,i,o,a,s,l,u,c,h){function d(h){var d=t.math.qbezierAt(o,s,u,h),f=t.math.qbezierAt(a,l,c,h);return d>=e&&r>=d&&f>=n&&i>=f}for(var f=0;1>=f;f+=.25)if(!d(f))return!1;return!0},t.math.checkStraightEdgeInBox=function(t,e,n,r,i,o,a,s,l){return i>=t&&n>=i&&a>=t&&n>=a&&o>=e&&r>=o&&s>=e&&r>=s},t.math.checkStraightEdgeCrossesBox=function(t,e,n,r,i,o,a,s,l){var u,c,h=Math.min(t,n)-l,d=Math.min(e,r)-l,f=Math.max(t,n)+l,p=Math.max(e,r)+l,g=a-i,v=i,y=s-o,m=o;if(Math.abs(g)<1e-4)return i>=h&&f>=i&&Math.min(o,s)<=d&&Math.max(o,s)>=p;var b=(h-v)/g;if(b>0&&1>=b&&(u=y*b+m,u>=d&&p>=u))return!0;var x=(f-v)/g;if(x>0&&1>=x&&(u=y*x+m,u>=d&&p>=u))return!0;var w=(d-m)/y;if(w>0&&1>=w&&(c=g*w+v,c>=h&&f>=c))return!0;var E=(p-m)/y;return E>0&&1>=E&&(c=g*E+v,c>=h&&f>=c)},t.math.checkBezierCrossesBox=function(t,e,n,r,i,o,a,s,l,u,c){var h=Math.min(t,n)-c,d=Math.min(e,r)-c,f=Math.max(t,n)+c,p=Math.max(e,r)+c;if(i>=h&&f>=i&&o>=d&&p>=o)return!0;if(l>=h&&f>=l&&u>=d&&p>=u)return!0;var g=i-2*a+l,v=-2*i+2*a,y=i,m=[];if(Math.abs(g)<1e-4){var b=(h-i)/v,x=(f-i)/v;m.push(b,x)}else{var w,E,_=v*v-4*g*(y-h);if(_>0){var S=Math.sqrt(_);w=(-v+S)/(2*g),E=(-v-S)/(2*g),m.push(w,E)}var T,C,k=v*v-4*g*(y-f);if(k>0){var S=Math.sqrt(k);T=(-v+S)/(2*g),C=(-v-S)/(2*g),m.push(T,C)}}m.sort(function(t,e){return t-e});var P=o-2*s+u,D=-2*o+2*s,M=o,N=[];if(Math.abs(P)<1e-4){var A=(d-o)/D,I=(p-o)/D;N.push(A,I)}else{var O,B,L=D*D-4*P*(M-d);if(L>0){var S=Math.sqrt(L);O=(-D+S)/(2*P),B=(-D-S)/(2*P),N.push(O,B)}var R,j,$=D*D-4*P*(M-p);if($>0){var S=Math.sqrt($);R=(-D+S)/(2*P),j=(-D-S)/(2*P),N.push(R,j)}}N.sort(function(t,e){return t-e});for(var z=0;z<m.length;z+=2)for(var F=1;F<N.length;F+=2)if(m[z]<N[F]&&N[F]>=0&&m[z]<=1&&m[z+1]>N[F-1]&&N[F-1]<=1&&m[z+1]>=0)return!0;return!1},t.math.inLineVicinity=function(t,e,n,r,i,o,a){var s=a,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,o),h=Math.max(r,o);return t>=l-s&&u+s>=t&&e>=c-s&&h+s>=e},t.math.inBezierVicinity=function(t,e,n,r,i,o,a,s,l){var u={x1:Math.min(n,a,i),x2:Math.max(n,a,i),y1:Math.min(r,s,o),y2:Math.max(r,s,o)};return!(t<u.x1||t>u.x2||e<u.y1||e>u.y2)},t.math.solveCubic=function(t,e,n,r,i){e/=t,n/=t,r/=t;var o,a,s,l,u,c,h,d;return a=(3*n-e*e)/9,s=-(27*r)+e*(9*n-2*(e*e)),s/=54,o=a*a*a+s*s,i[1]=0,h=e/3,o>0?(u=s+Math.sqrt(o),u=0>u?-Math.pow(-u,1/3):Math.pow(u,1/3),c=s-Math.sqrt(o),c=0>c?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-h+u+c,h+=(u+c)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-c+u)/2,i[3]=h,void(i[5]=-h)):(i[5]=i[3]=0,0===o?(d=0>s?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=-h+2*d,void(i[4]=i[2]=-(d+h))):(a=-a,l=a*a*a,l=Math.acos(s/Math.sqrt(l)),d=2*Math.sqrt(a),i[0]=-h+d*Math.cos(l/3),i[2]=-h+d*Math.cos((l+2*Math.PI)/3),void(i[4]=-h+d*Math.cos((l+4*Math.PI)/3))))},t.math.sqDistanceToQuadraticBezier=function(t,e,n,r,i,o,a,s){var l=1*n*n-4*n*i+2*n*a+4*i*i-4*i*a+a*a+r*r-4*r*o+2*r*s+4*o*o-4*o*s+s*s,u=9*n*i-3*n*n-3*n*a-6*i*i+3*i*a+9*r*o-3*r*r-3*r*s-6*o*o+3*o*s,c=3*n*n-6*n*i+n*a-n*t+2*i*i+2*i*t-a*t+3*r*r-6*r*o+r*s-r*e+2*o*o+2*o*e-s*e,h=1*n*i-n*n+n*t-i*t+r*o-r*r+r*e-o*e,d=[];this.solveCubic(l,u,c,h,d);for(var f=1e-7,p=[],g=0;6>g;g+=2)Math.abs(d[g+1])<f&&d[g]>=0&&d[g]<=1&&p.push(d[g]);p.push(1),p.push(0);for(var v,y,m,b,x=-1,w=0;w<p.length;w++)y=Math.pow(1-p[w],2)*n+2*(1-p[w])*p[w]*i+p[w]*p[w]*a,m=Math.pow(1-p[w],2)*r+2*(1-p[w])*p[w]*o+p[w]*p[w]*s,b=Math.pow(y-t,2)+Math.pow(m-e,2),x>=0?x>b&&(x=b,v=p[w]):(x=b,v=p[w]);return x},t.math.sqDistanceToFiniteLine=function(t,e,n,r,i,o){var a=[t-n,e-r],s=[i-n,o-r],l=s[0]*s[0]+s[1]*s[1],u=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],h=c*c/l;return 0>c?u:h>l?(t-i)*(t-i)+(e-o)*(e-o):u-h},t.math.pointInsidePolygon=function(t,e,n,r,i,o,a,s,l){var u=new Array(n.length),c=Math.asin(s[1]/Math.sqrt(s[0]*s[0]+s[1]*s[1]));s[0]<0?c+=Math.PI/2:c=-c-Math.PI/2;for(var h=Math.cos(-c),d=Math.sin(-c),f=0;f<u.length/2;f++)u[2*f]=o/2*(n[2*f]*h-n[2*f+1]*d),u[2*f+1]=a/2*(n[2*f+1]*h+n[2*f]*d),u[2*f]+=r,u[2*f+1]+=i;var p;if(l>0){var g=this.expandPolygon(u,-l);p=this.joinLines(g)}else p=u;for(var v,y,m,b,x,w=0,E=0,f=0;f<p.length/2;f++)if(v=p[2*f],y=p[2*f+1],f+1<p.length/2?(m=p[2*(f+1)],b=p[2*(f+1)+1]):(m=p[2*(f+1-p.length/2)],b=p[2*(f+1-p.length/2)+1]),v==t&&m==t);else{if(!(v>=t&&t>=m||t>=v&&m>=t))continue;x=(t-v)/(m-v)*(b-y)+y,x>e&&w++,e>x&&E++}return w%2!==0},t.math.joinLines=function(t){for(var e,n,r,i,o,a,s,l,u=new Array(t.length/2),c=0;c<t.length/4;c++){e=t[4*c],n=t[4*c+1],r=t[4*c+2],i=t[4*c+3],c<t.length/4-1?(o=t[4*(c+1)],a=t[4*(c+1)+1],s=t[4*(c+1)+2],l=t[4*(c+1)+3]):(o=t[0],a=t[1],s=t[2],l=t[3]);var h=this.finiteLinesIntersect(e,n,r,i,o,a,s,l,!0);u[2*c]=h[0],u[2*c+1]=h[1]}return u},t.math.expandPolygon=function(t,e){for(var n,r,i,o,a=new Array(2*t.length),s=0;s<t.length/2;s++){n=t[2*s],r=t[2*s+1],s<t.length/2-1?(i=t[2*(s+1)],o=t[2*(s+1)+1]):(i=t[0],o=t[1]);var l=o-r,u=-(i-n),c=Math.sqrt(l*l+u*u),h=l/c,d=u/c;a[4*s]=n+h*e,a[4*s+1]=r+d*e,a[4*s+2]=i+h*e,a[4*s+3]=o+d*e}return a},t.math.intersectLineEllipse=function(t,e,n,r,i,o){var a=n-t,s=r-e;a/=i,s/=o;var l=Math.sqrt(a*a+s*s),u=l-1;if(0>u)return[];var c=u/l;return[(n-t)*c+t,(r-e)*c+e]},t.math.dotProduct=function(t,e){if(2!=t.length||2!=e.length)throw"dot product: arguments are not vectors";return t[0]*e[0]+t[1]*e[1]},t.math.intersectLineCircle=function(t,e,n,r,i,o,a){var s=[n-t,r-e],l=[i,o],u=[t-i,e-o],c=s[0]*s[0]+s[1]*s[1],h=2*(u[0]*s[0]+u[1]*s[1]),l=u[0]*u[0]+u[1]*u[1]-a*a,d=h*h-4*c*l;if(0>d)return[];var f=(-h+Math.sqrt(d))/(2*c),p=(-h-Math.sqrt(d))/(2*c),g=Math.min(f,p),v=Math.max(f,p),y=[];if(g>=0&&1>=g&&y.push(g),v>=0&&1>=v&&y.push(v),0===y.length)return[];var m=y[0]*s[0]+t,b=y[0]*s[1]+e;if(y.length>1){if(y[0]==y[1])return[m,b];var x=y[1]*s[0]+t,w=y[1]*s[1]+e;return[m,b,x,w]}return[m,b]},t.math.findCircleNearPoint=function(t,e,n,r,i){var o=r-t,a=i-e,s=Math.sqrt(o*o+a*a),l=o/s,u=a/s;return[t+l*n,e+u*n]},t.math.findMaxSqDistanceToOrigin=function(t){for(var e,n=1e-6,r=0;r<t.length/2;r++)e=t[2*r]*t[2*r]+t[2*r+1]*t[2*r+1],e>n&&(n=e);return n},t.math.finiteLinesIntersect=function(t,e,n,r,i,o,a,s,l){var u=(a-i)*(e-o)-(s-o)*(t-i),c=(n-t)*(e-o)-(r-e)*(t-i),h=(s-o)*(n-t)-(a-i)*(r-e);if(0!==h){var d=u/h,f=c/h;return d>=0&&1>=d&&f>=0&&1>=f?[t+d*(n-t),e+d*(r-e)]:l?[t+d*(n-t),e+d*(r-e)]:[]}return 0===u||0===c?[t,n,a].sort()[1]===a?[a,s]:[t,n,i].sort()[1]===i?[i,o]:[i,a,n].sort()[1]===n?[n,r]:[]:[]},t.math.boxIntersectEllipse=function(t,e,n,r,i,o,a,s,l){if(t>n){var u=t;t=n,n=u}if(e>r){var c=e;e=r,r=c}var h=[s-o/2-i,l],d=[s+o/2+i,l],f=[s,l-a/2-i],p=[s,l+a/2+i];return n<h[0]?!1:t>d[0]?!1:e>p[1]?!1:r<f[1]?!1:t<=d[0]&&d[0]<=n&&e<=d[1]&&d[1]<=r?!0:t<=h[0]&&h[0]<=n&&e<=h[1]&&h[1]<=r?!0:t<=f[0]&&f[0]<=n&&e<=f[1]&&f[1]<=r?!0:t<=p[0]&&p[0]<=n&&e<=p[1]&&p[1]<=r?!0:(t=(t-s)/(o/2+i),n=(n-s)/(o/2+i),e=(e-l)/(a/2+i),r=(r-l)/(a/2+i),1>=t*t+e*e?!0:1>=n*n+e*e?!0:1>=n*n+r*r?!0:1>=t*t+r*r)},t.math.boxIntersectPolygon=function(e,n,r,i,o,a,s,l,u,c,h){if(e>r){var d=e;e=r,r=d}if(n>i){var f=n;n=i,i=f}var p=new Array(o.length),g=Math.asin(c[1]/Math.sqrt(c[0]*c[0]+c[1]*c[1]));c[0]<0?g+=Math.PI/2:g=-g-Math.PI/2;for(var v=Math.cos(-g),y=Math.sin(-g),m=0;m<p.length/2;m++)p[2*m]=a/2*(o[2*m]*v-o[2*m+1]*y),p[2*m+1]=s/2*(o[2*m+1]*v+o[2*m]*y),p[2*m]+=l,p[2*m+1]+=u;for(var b=p[0],x=p[0],w=p[1],E=p[1],m=1;m<p.length/2;m++)p[2*m]>x&&(x=p[2*m]),p[2*m]<b&&(b=p[2*m]),p[2*m+1]>E&&(E=p[2*m+1]),p[2*m+1]<w&&(w=p[2*m+1]);if(b-h>r)return!1;if(e>x+h)return!1;if(w-h>i)return!1;if(n>E+h)return!1;var _;if(h>0){var S=t.math.expandPolygon(p,-h);_=t.math.joinLines(S)}else _=p;for(var m=0;m<p.length/2;m++)if(e<=p[2*m]&&p[2*m]<=r&&n<=p[2*m+1]&&p[2*m+1]<=i)return!0;for(var m=0;m<_.length/2;m++){var T,C,k=_[2*m],P=_[2*m+1];if(m<_.length/2-1?(T=_[2*(m+1)],C=_[2*(m+1)+1]):(T=_[0],C=_[1]),t.math.finiteLinesIntersect(k,P,T,C,e,n,r,n,!1).length>0)return!0;if(t.math.finiteLinesIntersect(k,P,T,C,e,i,r,i,!1).length>0)return!0;if(t.math.finiteLinesIntersect(k,P,T,C,e,n,e,i,!1).length>0)return!0;if(t.math.finiteLinesIntersect(k,P,T,C,r,n,r,i,!1).length>0)return!0}return!1},t.math.polygonIntersectLine=function(e,n,r,i,o,a,s,l){for(var u,c=[],h=new Array(r.length),d=0;d<h.length/2;d++)h[2*d]=r[2*d]*a+i,h[2*d+1]=r[2*d+1]*s+o;var f;if(l>0){var p=t.math.expandPolygon(h,-l);f=t.math.joinLines(p);
}else f=h;for(var g,v,y,m,d=0;d<f.length/2;d++)g=f[2*d],v=f[2*d+1],d<f.length/2-1?(y=f[2*(d+1)],m=f[2*(d+1)+1]):(y=f[0],m=f[1]),u=this.finiteLinesIntersect(e,n,i,o,g,v,y,m),0!==u.length&&c.push(u[0],u[1]);return c},t.math.shortenIntersection=function(t,e,n){var r=[t[0]-e[0],t[1]-e[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),o=(i-n)/i;return 0>o&&(o=1e-5),[e[0]+o*r[0],e[1]+o*r[1]]},t.math.generateUnitNgonPointsFitToSquare=function(e,n){var r=t.math.generateUnitNgonPoints(e,n);return r=t.math.fitPolygonToSquare(r)},t.math.fitPolygonToSquare=function(t){for(var e,n,r=t.length/2,i=1/0,o=1/0,a=-(1/0),s=-(1/0),l=0;r>l;l++)e=t[2*l],n=t[2*l+1],i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);for(var u=2/(a-i),c=2/(s-o),l=0;r>l;l++)e=t[2*l]=t[2*l]*u,n=t[2*l+1]=t[2*l+1]*c,i=Math.min(i,e),a=Math.max(a,e),o=Math.min(o,n),s=Math.max(s,n);if(-1>o)for(var l=0;r>l;l++)n=t[2*l+1]=t[2*l+1]+(-1-o);return t},t.math.generateUnitNgonPoints=function(t,e){var n=1/t*2*Math.PI,r=t%2===0?Math.PI/2+n/2:Math.PI/2;r+=e;for(var i,o,a,s=new Array(2*t),l=0;t>l;l++)i=l*n+r,o=s[2*l]=Math.cos(i),a=s[2*l+1]=Math.sin(-i);return s},t.math.getRoundRectangleRadius=function(t,e){return Math.min(t/4,e/4,8)}}(cytoscape),function(t){"use strict";function e(e,n,r){var i={};switch(i[n]=r,e){case"core":case"collection":t.fn[e](i)}if("layout"===e){for(var a=r.prototype,s=[],l=0;l<s.length;l++){var u=s[l];a[u]=a[u]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this}),a.stop||(a.stop=function(){var t=this.options;return t&&t.animate&&t.eles.stop(),this}),a.on=t.define.on({layout:!0}),a.one=t.define.on({layout:!0,unbindSelfOnTrigger:!0}),a.once=t.define.on({layout:!0,unbindAllBindersOnTrigger:!0}),a.off=t.define.off({layout:!0}),a.trigger=t.define.trigger({layout:!0}),t.define.eventAliasesOn(a)}return t.util.setMap({map:o,keys:[e,n],value:r})}function n(e,n){return t.util.getMap({map:o,keys:[e,n]})}function r(e,n,r,i,o){return t.util.setMap({map:a,keys:[e,n,r,i],value:o})}function i(e,n,r,i){return t.util.getMap({map:a,keys:[e,n,r,i]})}var o={};t.extensions=o;var a={};t.modules=a,t.extension=function(){return 2==arguments.length?n.apply(this,arguments):3==arguments.length?e.apply(this,arguments):4==arguments.length?i.apply(this,arguments):5==arguments.length?r.apply(this,arguments):void t.util.error("Invalid extension access syntax")}}(cytoscape),function(t,e){"use strict";var n=function(t){var e=t[0]._cyreg=t[0]._cyreg||{};return e};e.registerJquery=function(t){t&&(t.fn.cytoscape||(t.fn.cytoscape=function(r){var i=t(this);if("get"===r)return n(i).cy;if(e.is.fn(r)){var o=r,a=n(i).cy;if(a&&a.isReady())a.trigger("ready",[],o);else{var s=n(i),l=s.readies=s.readies||[];l.push(o)}}else if(e.is.plainObject(r))return i.each(function(){var e=t.extend({},r,{container:t(this)[0]});cytoscape(e)})},t.cytoscape=cytoscape,null==t.fn.cy&&null==t.cy&&(t.fn.cy=t.fn.cytoscape,t.cy=t.cytoscape)))},e.registerJquery(t),e.util.require("jquery",function(t){e.registerJquery(t)})}("undefined"!=typeof jQuery?jQuery:null,cytoscape),function(t){"use strict";function e(){return!1}function n(){return!0}t.Event=function(r,i){return this instanceof t.Event?(r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented?n:e):this.type=r,i&&(this.type=void 0!==i.type?i.type:this.type,this.cy=i.cy,this.cyTarget=i.cyTarget,this.cyPosition=i.cyPosition,this.cyRenderedPosition=i.cyRenderedPosition,this.namespace=i.namespace,this.layout=i.layout,this.data=i.data,this.message=i.message),void(this.timeStamp=r&&r.timeStamp||+new Date)):new t.Event(r,i)},t.Event.prototype={preventDefault:function(){this.isDefaultPrevented=n;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=n;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n,this.stopPropagation()},isDefaultPrevented:e,isPropagationStopped:e,isImmediatePropagationStopped:e}}(cytoscape),function(t){"use strict";t.define={data:function(e){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(t){},canSet:function(t){return!0}};return e=t.util.extend({},n,e),function(n,r){var i=e,o=this,a=void 0!==o.length,s=a?o:[o],l=a?o[0]:o;if(t.is.string(n)){if(i.allowGetting&&void 0===r){var u;return l&&(u=l._private[i.field][n]),u}if(i.allowSetting&&void 0!==r){var c=!i.immutableKeys[n];if(c){for(var h=0,d=s.length;d>h;h++)i.canSet(s[h])&&(s[h]._private[i.field][n]=r);i.updateStyle&&o.updateStyle(),i.onSet(o),i.settingTriggersEvent&&o[i.triggerFnName](i.settingEvent)}}}else if(i.allowSetting&&t.is.plainObject(n)){var f,p,g=n;for(f in g){p=g[f];var c=!i.immutableKeys[f];if(c)for(var h=0,d=s.length;d>h;h++)i.canSet(s[h])&&(s[h]._private[i.field][f]=p)}i.updateStyle&&o.updateStyle(),i.onSet(o),i.settingTriggersEvent&&o[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&t.is.fn(n)){var v=n;o.bind(i.bindingEvent,v)}else if(i.allowGetting&&void 0===n){var u;return l&&(u=l._private[i.field]),u}return o}},removeData:function(e){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=t.util.extend({},n,e),function(n){var r=e,i=this,o=void 0!==i.length,a=o?i:[i];if(t.is.string(n)){for(var s=n.split(/\s+/),l=s.length,u=0;l>u;u++){var c=s[u];if(!t.is.emptyString(c)){var h=!r.immutableKeys[c];if(h)for(var d=0,f=a.length;f>d;d++)a[d]._private[r.field][c]=void 0}}r.triggerEvent&&i[r.triggerFnName](r.event)}else if(void 0===n){for(var d=0,f=a.length;f>d;d++){var p=a[d]._private[r.field];for(var c in p){var g=!r.immutableKeys[c];g&&(p[c]=void 0)}}r.triggerEvent&&i[r.triggerFnName](r.event)}return i}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(e){var n={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return e=t.util.extend({},n,e),function(n,r,i,o){var a=this,s=void 0!==a.length,l=s?a:[a],u=t.is.string(n),c=e;if(t.is.plainObject(r)?(o=i,i=r,r=void 0):(t.is.fn(r)||r===!1)&&(o=r,i=void 0,r=void 0),(t.is.fn(i)||i===!1)&&(o=i,i=void 0),!t.is.fn(o)&&o!==!1&&u)return a;if(u){var h={};h[n]=o,n=h}for(var d in n)if(o=n[d],o===!1&&(o=t.define.event.falseCallback),t.is.fn(o)){d=d.split(/\s+/);for(var f=0;f<d.length;f++){var p=d[f];if(!t.is.emptyString(p)){var g=p.match(t.define.event.regex);if(g)for(var v=g[1],y=g[2]?g[2]:void 0,m={callback:o,data:i,delegated:!!r,selector:r,selObj:new t.Selector(r),type:v,namespace:y,unbindSelfOnTrigger:c.unbindSelfOnTrigger,unbindAllBindersOnTrigger:c.unbindAllBindersOnTrigger,binders:l},b=0;b<l.length;b++){var x=l[b]._private;x.listeners=x.listeners||[],x.listeners.push(m)}}}}return a}},eventAliasesOn:function(e){var n=e;n.addListener=n.listen=n.bind=n.on,n.removeListener=n.unlisten=n.unbind=n.off,n.emit=n.trigger,n.pon=n.promiseOn=function(e,n){var r=this,i=Array.prototype.slice.call(arguments,0);return new t.Promise(function(t,e){var n=function(e){r.off.apply(r,a),t(e)},o=i.concat([n]),a=o.concat([]);r.on.apply(r,o)})}},off:function(e){var n={};return e=t.util.extend({},n,e),function(e,n,r){var i=this,o=void 0!==i.length,a=o?i:[i],s=t.is.string(e);if(0===arguments.length){for(var l=0;l<a.length;l++)a[l]._private.listeners=[];return i}if((t.is.fn(n)||n===!1)&&(r=n,n=void 0),s){var u={};u[e]=r,e=u}for(var c in e){r=e[c],r===!1&&(r=t.define.event.falseCallback),c=c.split(/\s+/);for(var h=0;h<c.length;h++){var d=c[h];if(!t.is.emptyString(d)){var f=d.match(t.define.event.optionalTypeRegex);if(f)for(var p=f[1]?f[1]:void 0,g=f[2]?f[2]:void 0,l=0;l<a.length;l++)for(var v=a[l]._private.listeners=a[l]._private.listeners||[],y=0;y<v.length;y++){var m=v[y],b=!g||g===m.namespace,x=!p||m.type===p,w=!r||r===m.callback,E=b&&x&&w;E&&(v.splice(y,1),y--)}}}}return i}},trigger:function(e){var n={};return e=t.util.extend({},n,e),function(n,r,i){var o=this,a=void 0!==o.length,s=a?o:[o],l=t.is.string(n),u=t.is.plainObject(n),c=t.is.event(n),h=this._private.cy||(t.is.core(this)?this:null),d=h?h.hasCompoundNodes():!1;if(l){var f=n.split(/\s+/);n=[];for(var p=0;p<f.length;p++){var g=f[p];if(!t.is.emptyString(g)){var v=g.match(t.define.event.regex),y=v[1],m=v[2]?v[2]:void 0;n.push({type:y,namespace:m})}}}else if(u){var b=n;n=[b]}r?t.is.array(r)||(r=[r]):r=[];for(var p=0;p<n.length;p++)for(var x=n[p],w=0;w<s.length;w++){var g,E=s[w],_=E._private.listeners=E._private.listeners||[],S=t.is.element(E),T=S||e.layout;if(c?(g=x,g.cyTarget=g.cyTarget||E,g.cy=g.cy||h):g=new t.Event(x,{cyTarget:E,cy:h,namespace:x.namespace}),x.layout&&(g.layout=x.layout),e.layout&&(g.layout=E),g.cyPosition){var C=g.cyPosition,k=h.zoom(),P=h.pan();g.cyRenderedPosition={x:C.x*k+P.x,y:C.y*k+P.y}}i&&(_=[{namespace:g.namespace,type:g.type,callback:i}]);for(var D=0;D<_.length;D++){var M=_[D],N=!M.namespace||M.namespace===g.namespace,A=M.type===g.type,I=M.delegated?E!==g.cyTarget&&t.is.element(g.cyTarget)&&M.selObj.matches(g.cyTarget):!0,O=N&&A&&I;if(O){var B=[g];if(B=B.concat(r),M.data?g.data=M.data:g.data=void 0,(M.unbindSelfOnTrigger||M.unbindAllBindersOnTrigger)&&(_.splice(D,1),D--),M.unbindAllBindersOnTrigger)for(var L=M.binders,R=0;R<L.length;R++){var j=L[R];if(j&&j!==E)for(var $=j._private.listeners,z=0;z<$.length;z++){var F=$[z];F===M&&($.splice(z,1),z--)}}var q=M.delegated?g.cyTarget:E,H=M.callback.apply(q,B);(H===!1||g.isPropagationStopped())&&(T=!1,H===!1&&(g.stopPropagation(),g.preventDefault()))}}if(T){var Y=d?E._private.parent:null,X=null!=Y&&0!==Y.length;X?(Y=Y[0],Y.trigger(g)):h.trigger(g)}}return o}},animated:function(e){var n={};return e=t.util.extend({},n,e),function(){var t=this,e=void 0!==t.length,n=e?t:[t],r=this._private.cy||this;if(!r.styleEnabled())return!1;var i=n[0];return i?i._private.animation.current.length>0:void 0}},clearQueue:function(e){var n={};return e=t.util.extend({},n,e),function(){var t=this,e=void 0!==t.length,n=e?t:[t],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var i=0;i<n.length;i++){var o=n[i];o._private.animation.queue=[]}return this}},delay:function(e){var n={};return e=t.util.extend({},n,e),function(t,e){var n=this._private.cy||this;return n.styleEnabled()?(this.animate({delay:t},{duration:t,complete:e}),this):this}},animate:function(e){var n={};return e=t.util.extend({},n,e),function(t,e){var n=this,r=void 0!==n.length,i=r?n:[n],o=this._private.cy||this,a=!r,s=!a;if(!o.styleEnabled())return this;var l,u=+new Date,c=o.style();switch(void 0===e&&(e={}),void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}var h=!0;if(t)for(var d in t){h=!1;break}if(h)return this;if(t.css&&s&&(t.css=c.getPropsList(t.css)),t.renderedPosition&&s){var f=t.renderedPosition,p=o.pan(),g=o.zoom();t.position={x:(f.x-p.x)/g,y:(f.y-p.y)/g}}if(t.panBy&&a){var v=t.panBy,y=o.pan();t.pan={x:y.x+v.x,y:y.y+v.y}}var m=t.center||t.centre;if(m&&a){var b=o.getCenterPan(m.eles,t.zoom);b&&(t.pan=b)}if(t.fit&&a){var x=t.fit,w=o.getFitViewport(x.eles||x.boundingBox,x.padding);w&&(t.pan=w.pan,t.zoom=w.zoom)}for(var d=0;d<i.length;d++){var E=i[d];l=E.animated()&&(void 0===e.queue||e.queue)?E._private.animation.queue:E._private.animation.current,l.push({properties:t,duration:e.duration,params:e,callTime:u})}return s&&o.addToAnimationPool(this),this}},stop:function(e){var n={};return e=t.util.extend({},n,e),function(t,e){var n=this,r=void 0!==n.length,i=r?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var a=0;a<i.length;a++){for(var s=i[a],l=s._private.animation.current,u=0;u<l.length;u++){var c=l[u];e&&(c.duration=0)}t&&(s._private.animation.queue=[]),e||(s._private.animation.current=[])}return o.notify({collection:this,type:"draw"}),this}}}}(cytoscape),function(t){"use strict";t.fn.selector=function(e,n){for(var r in e){var i=e[r];t.Selector.prototype[r]=i}},t.Selector=function(e,n){if(!(this instanceof t.Selector))return new t.Selector(e,n);void 0===n&&void 0!==e&&(n=e,e=void 0);var r=this;if(r._private={selectorText:null,invalid:!0},!n||t.is.string(n)&&n.match(/^\s*$/))null==e?r.length=0:(r[0]=a(),r[0].group=e,r.length=1);else if(t.is.element(n)){var i=new t.Collection(r.cy(),[n]);r[0]=a(),r[0].collection=i,r.length=1}else if(t.is.collection(n))r[0]=a(),r[0].collection=n,r.length=1;else if(t.is.fn(n))r[0]=a(),r[0].filter=n,r.length=1;else{if(!t.is.string(n))return void t.util.error("A selector must be created from a string; found "+n);var o=null,a=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}},s={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",number:t.util.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};s.variable="(?:[\\w-]|(?:\\\\"+s.metaChar+"))+",s.value=s.string+"|"+s.number,s.className=s.variable,s.id=s.variable;for(var l=function(t){return t.replace(new RegExp("\\\\("+s.metaChar+")","g"),function(t,e,n,r){return e})},u=s.comparatorOp.split("|"),c=0;c<u.length;c++){var h=u[c];s.comparatorOp+="|@"+h}for(var u=s.comparatorOp.split("|"),c=0;c<u.length;c++){var h=u[c];h.indexOf("!")>=0||"="!==h&&(s.comparatorOp+="|\\!"+h)}var d={group:{query:!0,regex:"(node|edge|\\*)",populate:function(t){this.group="*"==t?t:t+"s"}},state:{query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(t){this.colonSelectors.push(t)}},id:{query:!0,regex:"\\#("+s.id+")",populate:function(t){this.ids.push(l(t))}},className:{query:!0,regex:"\\.("+s.className+")",populate:function(t){this.classes.push(l(t))}},dataExists:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*\\]",populate:function(t){this.data.push({field:l(t)})}},dataCompare:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*("+s.comparatorOp+")\\s*("+s.value+")\\s*\\]",populate:function(t,e,n){var r=null!=new RegExp("^"+s.string+"$").exec(n);n=r?n.substring(1,n.length-1):parseFloat(n),this.data.push({field:l(t),operator:e,value:n})}},dataBool:{query:!0,regex:"\\[\\s*("+s.boolOp+")\\s*("+s.variable+")\\s*\\]",populate:function(t,e){this.data.push({field:l(e),operator:t})}},metaCompare:{query:!0,regex:"\\[\\[\\s*("+s.meta+")\\s*("+s.comparatorOp+")\\s*("+s.number+")\\s*\\]\\]",populate:function(t,e,n){this.meta.push({field:l(t),operator:e,value:parseFloat(n)})}},nextQuery:{separator:!0,regex:s.separator,populate:function(){r[++c]=a(),o=null}},child:{separator:!0,regex:s.child,populate:function(){var t=a();t.parent=this,t.subject=o,r[c]=t}},descendant:{separator:!0,regex:s.descendant,populate:function(){var t=a();t.ancestor=this,t.subject=o,r[c]=t}},subject:{modifier:!0,regex:s.subject,populate:function(){return null!=o&&this.subject!=this?(t.util.error("Redefinition of subject in selector `"+n+"`"),!1):(o=this,void(this.subject=this))}}},f=0;for(var p in d)d[f]=d[p],d[f].name=p,f++;d.length=f,r._private.selectorText=n;var g=n,c=0,v=function(e){for(var n,r,i,o=0;o<d.length;o++){var a=d[o],s=a.name;if(!t.is.fn(e)||e(s,a)){var l=g.match(new RegExp("^"+a.regex));if(null!=l){r=l,n=a,i=s;var u=l[0];g=g.substring(u.length);break}}}return{expr:n,match:r,name:i}},y=function(){var t=g.match(/^\s+/);if(t){var e=t[0];g=g.substring(e.length)}};for(r[0]=a(),y();;){var m=v();if(null==m.expr)return void t.util.error("The selector `"+n+"`is invalid");for(var b=[],f=1;f<m.match.length;f++)b.push(m.match[f]);var x=m.expr.populate.apply(r[c],b);if(x===!1)return;if(g.match(/^\s*$/))break}for(r.length=c+1,f=0;f<r.length;f++){var w=r[f];if(null!=w.subject){for(;w.subject!=w;)if(null!=w.parent){var E=w.parent,_=w;_.parent=null,E.child=_,w=E}else{if(null==w.ancestor){t.util.error("When adjusting references for the selector `"+w+"`, neither parent nor ancestor was found");break}var S=w.ancestor,T=w;T.ancestor=null,S.descendant=T,w=S}r[f]=w.subject}}if(null!=e)for(var f=0;f<r.length;f++){if(null!=r[f].group&&r[f].group!=e)return void t.util.error("Group `"+r[f].group+"` conflicts with implicit group `"+e+"` in selector `"+n+"`");r[f].group=e}}r._private.invalid=!1},t.selfn=t.Selector.prototype,t.selfn.size=function(){return this.length},t.selfn.eq=function(t){return this[t]},t.selfn.find=function(){};var e=function(n,r){if(null!=n.group&&"*"!=n.group&&n.group!=r._private.group)return!1;for(var i=r.cy(),o=!0,a=0;a<n.colonSelectors.length;a++){var s=n.colonSelectors[a];switch(s){case":selected":o=r.selected();break;case":unselected":o=!r.selected();break;case":selectable":o=r.selectable();break;case":unselectable":o=!r.selectable();break;case":locked":o=r.locked();break;case":unlocked":o=!r.locked();break;case":visible":o=r.visible();break;case":hidden":o=!r.visible();break;case":transparent":o=r.transparent();break;case":grabbed":o=r.grabbed();break;case":free":o=!r.grabbed();break;case":removed":o=r.removed();break;case":inside":o=!r.removed();break;case":grabbable":o=r.grabbable();break;case":ungrabbable":o=!r.grabbable();break;case":animated":o=r.animated();break;case":unanimated":o=!r.animated();break;case":parent":o=r.isNode()&&r.children().nonempty();break;case":child":case":nonorphan":o=r.isNode()&&r.parent().nonempty();break;case":orphan":o=r.isNode()&&r.parent().empty();break;case":loop":o=r.isEdge()&&r.data("source")===r.data("target");break;case":simple":o=r.isEdge()&&r.data("source")!==r.data("target");break;case":active":o=r.active();break;case":inactive":o=!r.active();break;case":touch":o=t.is.touch();break;case":backgrounding":o=r.backgrounding();break;case":nonbackgrounding":o=!r.backgrounding()}if(!o)break}if(!o)return!1;for(var l=!0,a=0;a<n.ids.length;a++){var u=n.ids[a],c=r._private.data.id;if(l=l&&u==c,!l)break}if(!l)return!1;for(var h=!0,a=0;a<n.classes.length;a++){var d=n.classes[a];if(h=h&&r.hasClass(d),!h)break}if(!h)return!1;var f=function(e){for(var r=!0,i=0;i<n[e.name].length;i++){var o,a=n[e.name][i],s=a.operator,l=a.value,u=a.field;if(null!=s&&null!=l){var c=e.fieldValue(u),h=t.is.string(c)||t.is.number(c)?""+c:"",d=""+l,f=!1;s.indexOf("@")>=0&&(h=h.toLowerCase(),d=d.toLowerCase(),s=s.replace("@",""),f=!0);var p=!1,g=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),p=!0),f&&(l=d.toLowerCase(),c=h.toLowerCase()),s){case"*=":o=h.search(d)>=0;break;case"$=":o=null!=new RegExp(d+"$").exec(h);break;case"^=":o=null!=new RegExp("^"+d).exec(h);break;case"=":o=c===l;break;case"!=":o=c!==l;break;case">":o=p?l>=c:c>l,g=!0;break;case">=":o=p?l>c:c>=l,g=!0;break;case"<":o=p?c>=l:l>c,g=!0;break;case"<=":o=p?c>l:l>=c,g=!0;break;default:o=!1}}else if(null!=s)switch(s){case"?":o=e.fieldTruthy(u);break;case"!":o=!e.fieldTruthy(u);break;case"^":o=e.fieldUndefined(u)}else o=!e.fieldUndefined(u);if(p&&!g&&(o=!o,g=!0),!o){r=!1;break}}return r},p=f({name:"data",fieldValue:function(t){return r._private.data[t]},fieldRef:function(t){return"element._private.data."+t},fieldUndefined:function(t){return void 0===r._private.data[t]},fieldTruthy:function(t){return!!r._private.data[t]}});if(!p)return!1;var g=f({name:"meta",fieldValue:function(t){return r[t]()},fieldRef:function(t){return"element."+t+"()"},fieldUndefined:function(t){return null==r[t]()},fieldTruthy:function(t){return!!r[t]()}});if(!g)return!1;if(null!=n.collection){var v=null!=n.collection._private.ids[r.id()];if(!v)return!1}if(null!=n.filter&&0===r.collection().filter(n.filter).size())return!1;var y=function(t,n){if(null!=t){var r=!1;if(!i.hasCompoundNodes())return!1;n=n();for(var o=0;o<n.length;o++)if(e(t,n[o])){r=!0;break}return r}return!0};return y(n.parent,function(){return r.parent()})&&y(n.ancestor,function(){return r.parents()})&&y(n.child,function(){return r.children()})?!!y(n.descendant,function(){return r.descendants()}):!1};t.selfn.filter=function(n){var r=this,i=n.cy();if(r._private.invalid)return new t.Collection(i);var o=function(t,n){for(var i=0;i<r.length;i++){var o=r[i];if(e(o,n))return!0}return!1};null==r._private.selectorText&&(o=function(){return!0});var a=n.filter(o);return a},t.selfn.matches=function(t){var n=this;if(n._private.invalid)return!1;for(var r=0;r<n.length;r++){var i=n[r];if(e(i,t))return!0}return!1},t.selfn.toString=t.selfn.selector=function(){for(var e="",n=function(e,n){return t.is.string(e)?n?'"'+e+'"':e:""},r=function(t){var e="";t.subject===t&&(e+="$");var o=n(t.group);e+=o.substring(0,o.length-1);for(var a=0;a<t.data.length;a++){var s=t.data[a];e+=s.value?"["+s.field+n(s.operator)+n(s.value,!0)+"]":"["+n(s.operator)+s.field+"]"}for(var a=0;a<t.meta.length;a++){var l=t.meta[a];e+="[["+l.field+n(l.operator)+n(l.value,!0)+"]]"}for(var a=0;a<t.colonSelectors.length;a++){var u=t.colonSelectors[i];e+=u}for(var a=0;a<t.ids.length;a++){var u="#"+t.ids[i];e+=u}for(var a=0;a<t.classes.length;a++){var u="."+t.classes[i];e+=u}return null!=t.parent&&(e=r(t.parent)+" > "+e),null!=t.ancestor&&(e=r(t.ancestor)+" "+e),null!=t.child&&(e+=" > "+r(t.child)),null!=t.descendant&&(e+=" "+r(t.descendant)),e},i=0;i<this.length;i++){var o=this[i];e+=r(o),this.length>1&&i<this.length-1&&(e+=", ")}return e}}(cytoscape),function(t){"use strict";t.Style=function(e){return this instanceof t.Style?t.is.core(e)?(this._private={cy:e,coreStyle:{},newStyle:!0},this.length=0,void this.addDefaultStylesheet()):void t.util.error("A style must have a core reference"):new t.Style(e)},t.style=t.Style,t.styfn=t.Style.prototype,t.fn.style=function(e,n){for(var r in e){var i=e[r];t.Style.prototype=i}},function(){var e=t.util.regex.number,n=t.util.regex.rgbaNoBackRefs,r=t.util.regex.hslaNoBackRefs,i=t.util.regex.hex3,o=t.util.regex.hex6,a=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(t){return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+e+"|\\w+|"+n+"|"+r+"|"+i+"|"+o+")\\s*\\,\\s*("+e+"|\\w+|"+n+"|"+r+"|"+i+"|"+o+")\\)$"};t.style.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},autoSize:{number:!0,min:0,enums:["auto"]},number:{number:!0},size:{number:!0,min:0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad"},textRotation:{enums:["none","autorotate"]}};var l=t.style.types,u=t.style.properties=[{name:"text-valign",type:l.valign},{name:"text-halign",type:l.halign},{name:"color",type:l.color},{name:"content",type:l.text},{name:"text-outline-color",type:l.color},{name:"text-outline-width",type:l.size},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size},{name:"text-border-style",type:l.borderStyle},{name:"text-background-shape",type:l.textBackgroundShape},{name:"text-transform",type:l.textTransform},{name:"text-wrap",type:l.textWrap},{name:"text-max-width",type:l.size},{name:"font-family",type:l.fontFamily},{name:"font-style",type:l.fontStyle},{name:"font-weight",type:l.fontWeight},{name:"font-size",type:l.size},{name:"min-zoomed-font-size",type:l.size},{name:"edge-text-rotation",type:l.textRotation},{name:"display",type:l.display},{name:"visibility",type:l.visibility},{name:"opacity",type:l.zeroOneNumber},{name:"z-index",type:l.nonNegativeInt},{name:"overlay-padding",type:l.size},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber},{name:"shadow-blur",type:l.size},{name:"shadow-color",type:l.color},{name:"shadow-opacity",type:l.zeroOneNumber},{name:"shadow-offset-x",type:l.number},{name:"shadow-offset-y",type:l.number},{name:"text-shadow-blur",type:l.size},{name:"text-shadow-color",type:l.color},{name:"text-shadow-opacity",type:l.zeroOneNumber},{name:"text-shadow-offset-x",type:l.number},{name:"text-shadow-offset-y",type:l.number},{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"height",type:l.autoSize},{name:"width",type:l.autoSize},{name:"shape",type:l.nodeShape},{name:"background-color",type:l.color},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size},{name:"border-style",type:l.borderStyle},{name:"background-image",type:l.url},{name:"background-image-opacity",type:l.zeroOneNumber},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"padding-left",type:l.size},{name:"padding-right",type:l.size},{name:"padding-top",type:l.size},{name:"padding-bottom",type:l.size},{name:"position",type:l.position},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels},{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"control-point-step-size",type:l.size},{name:"control-point-distance",type:l.number},{name:"control-point-weight",type:l.zeroOneNumber},{name:"curve-style",type:l.curveStyle},{name:"haystack-radius",type:l.zeroOneNumber},{name:"source-arrow-shape",type:l.arrowShape},{name:"target-arrow-shape",type:l.arrowShape},{name:"mid-source-arrow-shape",type:l.arrowShape},{name:"mid-target-arrow-shape",type:l.arrowShape},{name:"source-arrow-color",type:l.color},{name:"target-arrow-color",type:l.color},{name:"mid-source-arrow-color",type:l.color},{name:"mid-target-arrow-color",type:l.color},{name:"source-arrow-fill",type:l.arrowFill},{name:"target-arrow-fill",type:l.arrowFill},{name:"mid-source-arrow-fill",type:l.arrowFill},{name:"mid-target-arrow-fill",type:l.arrowFill},{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}];t.style.pieBackgroundN=16,u.push({name:"pie-size",type:l.bgSize});for(var c=1;c<=t.style.pieBackgroundN;c++)u.push({name:"pie-"+c+"-background-color",type:l.color}),u.push({name:"pie-"+c+"-background-size",type:l.percent}),u.push({name:"pie-"+c+"-background-opacity",type:l.zeroOneNumber});for(var c=0;c<u.length;c++){var h=u[c];u[h.name]=h}}(),t.styfn.addDefaultStylesheet=function(){var t="Helvetica",e="normal",n="normal",r="#000",i="none",o=16,a=9999;this.selector("node, edge").css({"text-valign":"top","text-halign":"center",color:r,"text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":i,"text-wrap":"none","text-max-width":a,"text-background-color":"#000","text-background-opacity":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":t,"font-style":e,"font-weight":n,"font-size":o,"min-zoomed-font-size":0,"edge-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,content:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"background-blacken":0,"background-color":"#888","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include","pie-size":"100%","pie-1-background-color":"black","pie-2-background-color":"black","pie-3-background-color":"black","pie-4-background-color":"black","pie-5-background-color":"black","pie-6-background-color":"black","pie-7-background-color":"black","pie-8-background-color":"black","pie-9-background-color":"black","pie-10-background-color":"black","pie-11-background-color":"black","pie-12-background-color":"black","pie-13-background-color":"black","pie-14-background-color":"black","pie-15-background-color":"black","pie-16-background-color":"black","pie-1-background-size":"0%","pie-2-background-size":"0%","pie-3-background-size":"0%","pie-4-background-size":"0%","pie-5-background-size":"0%","pie-6-background-size":"0%","pie-7-background-size":"0%","pie-8-background-size":"0%","pie-9-background-size":"0%","pie-10-background-size":"0%","pie-11-background-size":"0%","pie-12-background-size":"0%","pie-13-background-size":"0%","pie-14-background-size":"0%","pie-15-background-size":"0%","pie-16-background-size":"0%","pie-1-background-opacity":1,"pie-2-background-opacity":1,"pie-3-background-opacity":1,"pie-4-background-opacity":1,"pie-5-background-opacity":1,"pie-6-background-opacity":1,"pie-7-background-opacity":1,"pie-8-background-opacity":1,
"pie-9-background-opacity":1,"pie-10-background-opacity":1,"pie-11-background-opacity":1,"pie-12-background-opacity":1,"pie-13-background-opacity":1,"pie-14-background-opacity":1,"pie-15-background-opacity":1,"pie-16-background-opacity":1,"source-arrow-shape":"none","mid-source-arrow-shape":"none","target-arrow-shape":"none","mid-target-arrow-shape":"none","source-arrow-color":"#ddd","mid-source-arrow-color":"#ddd","target-arrow-color":"#ddd","mid-target-arrow-color":"#ddd","source-arrow-fill":"filled","mid-source-arrow-fill":"filled","target-arrow-fill":"filled","mid-target-arrow-fill":"filled","line-style":"solid","line-color":"#ddd","control-point-step-size":40,"control-point-weight":.5,"curve-style":"bezier","haystack-radius":.8}).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","background-opacity":.5,"padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},t.styfn.clear=function(){for(var t=0;t<this.length;t++)this[t]=void 0;return this.length=0,this._private.newStyle=!0,this},t.styfn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},t.styfn.core=function(){return this._private.coreStyle},t.styfn.parse=function(e,n,r,i){var o,a=[e,n,r,i].join("$"),s=this.propCache=this.propCache||{};return(o=s[a])||(o=s[a]=this.parseImpl(e,n,r,i)),t.util.copy(o)},t.styfn.parseImpl=function(e,n,r,i){e=t.util.camel2dash(e);var o=t.style.properties[e],a=n,s=t.style.types;if(!o)return null;if(void 0===n||null===n)return null;var l=t.is.string(n);l&&(n=t.util.trim(n));var u=o.type;if(!u)return null;if(r&&(""===n||null===n))return{name:e,value:n,bypass:!0,deleteBypass:!0};var c=e.match(/pie-(\d+)-background-size/);if(t.is.fn(n))return{name:e,value:n,strValue:"fn",mapped:s.fn,bypass:r,hasPie:c};var h,d,f,p,g,v;if(!l||i);else{if((h=new RegExp(s.data.regex).exec(n))||(f=new RegExp(s.layoutData.regex).exec(n))||(g=new RegExp(s.scratch.regex).exec(n))){if(r)return!1;var y;return y=h?s.data:f?s.layoutData:s.scratch,h=h||f||g,{name:e,value:h,strValue:""+n,mapped:y,field:h[1],bypass:r,hasPie:c}}if((d=new RegExp(s.mapData.regex).exec(n))||(p=new RegExp(s.mapLayoutData.regex).exec(n))||(v=new RegExp(s.mapScratch.regex).exec(n))){if(r)return!1;var y;if(y=d?s.mapData:p?s.mapLayoutData:s.mapScratch,d=d||p||v,!u.color&&!u.number)return!1;var m=this.parse(e,d[4]);if(!m||m.mapped)return!1;var b=this.parse(e,d[5]);if(!b||b.mapped)return!1;if(m.value===b.value)return!1;if(u.color){var x=m.value,w=b.value,E=!(x[0]!==w[0]||x[1]!==w[1]||x[2]!==w[2]||x[3]!==w[3]&&(null!=x[3]&&1!==x[3]||null!=w[3]&&1!==w[3]));if(E)return!1}return{name:e,value:d,strValue:""+n,mapped:y,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:m.value,valueMax:b.value,bypass:r,hasPie:c}}}if(u.number){var _,S="px";if(u.units&&(_=u.units),u.implicitUnits&&(S=u.implicitUnits),!u.unitless)if(l){var T="px|em"+(u.allowPercent?"|\\%":"");_&&(T=_);var C=n.match("^("+t.util.regex.number+")("+T+")?$");C&&(n=C[1],_=C[2]||S)}else _&&!u.implicitUnits||(_=S);if(n=parseFloat(n),isNaN(n)&&void 0===u.enums)return null;if(isNaN(n)&&void 0!==u.enums){n=a;for(var k=0;k<u.enums.length;k++){var P=u.enums[k];if(P===n)return{name:e,value:n,strValue:""+n,bypass:r}}return null}if(u.integer&&!t.is.integer(n))return null;if(void 0!==u.min&&n<u.min||void 0!==u.max&&n>u.max)return null;var D={name:e,value:n,strValue:""+n+(_?_:""),units:_,bypass:r,hasPie:c&&null!=n&&0!==n&&""!==n};return u.unitless||"px"!==_&&"em"!==_||(D.pxValue="px"!==_&&_?this.getEmSizeInPixels()*n:n),"ms"!==_&&"s"!==_||(D.msValue="ms"===_?n:1e3*n),D}if(u.propList){var M=[],N=""+n;if("none"===N);else{for(var A=N.split(","),k=0;k<A.length;k++){var I=t.util.trim(A[k]);t.style.properties[I]&&M.push(I)}if(0===M.length)return null}return{name:e,value:M,strValue:0===M.length?"none":M.join(", "),bypass:r}}if(u.color){var O=t.util.color2tuple(n);return O?{name:e,value:O,strValue:""+n,bypass:r}:null}if(u.enums){for(var k=0;k<u.enums.length;k++){var P=u.enums[k];if(P===n)return{name:e,value:n,strValue:""+n,bypass:r}}return null}if(u.regex){var B=new RegExp(u.regex),L=B.exec(n);return L?{name:e,value:L,strValue:""+n,bypass:r}:null}return u.string?{name:e,value:n,strValue:""+n,bypass:r}:null},t.styfn.selector=function(e){var n="core"===e?null:new t.Selector(e),r=this.length++;return this[r]={selector:n,properties:[],mappedProperties:[],index:r},this},t.styfn.css=function(){var e=arguments;switch(e.length){case 1:for(var n=e[0],r=0;r<t.style.properties.length;r++){var i=t.style.properties[r],o=n[i.name];void 0===o&&(o=n[t.util.dash2camel(i.name)]),void 0!==o&&this.cssRule(i.name,o)}break;case 2:this.cssRule(e[0],e[1])}return this},t.styfn.style=t.styfn.css,t.styfn.cssRule=function(t,e){var n=this.parse(t,e);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.hasPie&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n);var i=!this[r].selector;i&&(this._private.coreStyle[n.name]=n)}return this}}(cytoscape),function(t){"use strict";t.styfn.apply=function(t){var e=this;e._private.newStyle&&(this._private.contextStyles={},this._private.propDiffs={});for(var n=0;n<t.length;n++){var r=t[n],i=e.getContextMeta(r),o=e.getContextStyle(i),a=e.applyContextStyle(i,o,r);e.updateTransitions(r,a.diffProps),e.updateStyleHints(r)}e._private.newStyle=!1},t.styfn.getPropertiesDiff=function(t,e){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=t+"-"+e,o=r[i];if(o)return o;for(var a=[],s={},l=0;l<n.length;l++){var u=n[l],c="t"===t[l],h="t"===e[l],d=c!==h,f=u.mappedProperties.length>0;if(d||f){var p;d&&f?p=u.properties:d?p=u.properties:f&&(p=u.mappedProperties);for(var g=0;g<p.length;g++){for(var v=p[g],y=v.name,m=!1,b=l+1;b<n.length;b++){var x=n[b],w="t"===e[b];if(w&&(m=null!=x.properties[v.name]))break}s[y]||m||(s[y]=!0,a.push(y))}}}return r[i]=a,a},t.styfn.getContextMeta=function(t){var e,n=this,r="",i=t._private.styleCxtKey||"";n._private.newStyle&&(i="");for(var o=0;o<n.length;o++){var a=n[o],s=a.selector&&a.selector.matches(t);r+=s?"t":"f"}return e=n.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:e}},t.styfn.getContextStyle=function(t){var e=t.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[e])return r[e];for(var i={_private:{key:e}},o=0;o<n.length;o++){var a=n[o],s="t"===e[o];if(s)for(var l=0;l<a.properties.length;l++){var u=a.properties[l],c=i[u.name]=u;c.context=a}}return r[e]=i,i},t.styfn.applyContextStyle=function(t,e,n){for(var r=this,i=t.diffPropNames,o={},a=0;a<i.length;a++){var s=i[a],l=e[s],u=n._private.style[s];if(l&&u!==l){var c=o[s]={prev:u};r.applyParsedProperty(n,l),c.next=n._private.style[s],c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:o}},t.styfn.updateStyleHints=function(e){var n=e._private,r=this,i=n.style,o=!1;if("nodes"===n.group&&r._private.hasPie)for(var a=1;a<=t.style.pieBackgroundN;a++){var s=n.style["pie-"+a+"-background-size"].value;if(s>0){o=!0;break}}n.hasPie=o;var l=i["text-transform"].strValue,u=i.content.strValue,c=i["font-style"].strValue,s=i["font-size"].pxValue+"px",h=i["font-family"].strValue,d=i["font-weight"].strValue,f=i["text-valign"].strValue,p=i["text-valign"].strValue,g=i["text-outline-width"].pxValue,v=i["text-wrap"].strValue,y=i["text-max-width"].pxValue;n.labelKey=c+"$"+s+"$"+h+"$"+d+"$"+u+"$"+l+"$"+f+"$"+p+"$"+g+"$"+v+"$"+y,n.fontKey=c+"$"+d+"$"+s+"$"+h;var m=i.width.pxValue,b=i.height.pxValue,x=i["border-width"].pxValue;if(n.boundingBoxKey=m+"$"+b+"$"+x,"edges"===e._private.group){var w=i["control-point-step-size"].pxValue,E=i["control-point-distance"]?i["control-point-distance"].pxValue:void 0,_=i["control-point-weight"].value,S=i["curve-style"].strValue;n.boundingBoxKey+="$"+w+"$"+E+"$"+_+"$"+S}n.styleKey=Date.now()},t.styfn.applyParsedProperty=function(e,n){var r,i,o=n,a=e._private.style,s=t.style.types,l=t.style.properties[o.name].type,u=o.bypass,c=a[o.name],h=c&&c.bypass,d=e._private;if(("height"===n.name||"width"===n.name)&&e.isNode()){if("auto"===n.value&&!e.isParent())return!1;"auto"!==n.value&&e.isParent()&&(o=n=this.parse(n.name,"auto",u))}if(u&&o.deleteBypass){var f=a[o.name];return f?f.bypass&&f.bypassed?(a[o.name]=f.bypassed,!0):!1:!0}var p=function(){t.util.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+e.id()+"` for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case s.mapData:case s.mapLayoutData:case s.mapScratch:var r,g=o.mapped===s.mapLayoutData,v=o.mapped===s.mapScratch,y=o.field.split(".");r=v||g?d.scratch:d.data;for(var m=0;m<y.length&&r;m++){var b=y[m];r=r[b]}var x;if(x=t.is.number(r)?(r-o.fieldMin)/(o.fieldMax-o.fieldMin):0,0>x?x=0:x>1&&(x=1),l.color){var w=o.valueMin[0],E=o.valueMax[0],_=o.valueMin[1],S=o.valueMax[1],T=o.valueMin[2],C=o.valueMax[2],k=null==o.valueMin[3]?1:o.valueMin[3],P=null==o.valueMax[3]?1:o.valueMax[3],D=[Math.round(w+(E-w)*x),Math.round(_+(S-_)*x),Math.round(T+(C-T)*x),Math.round(k+(P-k)*x)];i={bypass:o.bypass,name:o.name,value:D,strValue:"rgb("+D[0]+", "+D[1]+", "+D[2]+")"}}else{if(!l.number)return!1;var M=o.valueMin+(o.valueMax-o.valueMin)*x;i=this.parse(o.name,M,o.bypass,!0)}i||(i=this.parse(o.name,c.strValue,o.bypass,!0)),i||p(),i.mapping=o,o=i;break;case s.data:case s.layoutData:case s.scratch:var r,g=o.mapped===s.layoutData,v=o.mapped===s.scratch,y=o.field.split(".");if(r=v||g?d.scratch:d.data)for(var m=0;m<y.length;m++){var b=y[m];r=r[b]}if(i=this.parse(o.name,r,o.bypass,!0),!i){var N=c?c.strValue:"";i=this.parse(o.name,N,o.bypass,!0)}i||p(),i.mapping=o,o=i;break;case s.fn:var A=o.value,I=A(e);i=this.parse(o.name,I,o.bypass,!0),i.mapping=o,o=i;break;case void 0:break;default:return!1}return u?(h?o.bypassed=c.bypassed:o.bypassed=c,a[o.name]=o):h?c.bypassed=o:a[o.name]=o,!0},t.styfn.update=function(){var t=this._private.cy,e=t.elements();e.updateStyle()},t.styfn.updateMappers=function(e){for(var n=0;n<e.length;n++){for(var r=e[n],i=r._private.style,o=0;o<t.style.properties.length;o++){var a=t.style.properties[o],s=i[a.name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(r,l)}}this.updateStyleHints(r)}},t.styfn.updateTransitions=function(e,n,r){var i=this,o=e._private.style,a=o["transition-property"].value,s=o["transition-duration"].msValue,l=o["transition-delay"].msValue,u={};if(a.length>0&&s>0){for(var c=!1,h=0;h<a.length;h++){var d=a[h],f=o[d],p=n[d];if(p){var g,v=p.prev,y=v,m=null!=p.next?p.next:f,b=!1,x=1e-6;y&&(t.is.number(y.pxValue)&&t.is.number(m.pxValue)?(b=m.pxValue-y.pxValue,g=y.pxValue+x*b):t.is.number(y.value)&&t.is.number(m.value)?(b=m.value-y.value,g=y.value+x*b):t.is.array(y.value)&&t.is.array(m.value)&&(b=y.value[0]!==m.value[0]||y.value[1]!==m.value[1]||y.value[2]!==m.value[2],g=y.strValue),b&&(u[d]=m.strValue,this.applyBypass(e,d,g),c=!0))}}if(!c)return;e._private.transitioning=!0,e.stop(),l>0&&e.delay(l),e.animate({css:u},{duration:s,queue:!1,complete:function(){r||i.removeBypasses(e,a),e._private.transitioning=!1}})}else e._private.transitioning&&(e.stop(),this.removeBypasses(e,a),e._private.transitioning=!1)}}(cytoscape),function(t){"use strict";t.styfn.applyBypass=function(e,n,r,i){var o=[],a=!0;if("*"===n||"**"===n){if(void 0!==r)for(var s=0;s<t.style.properties.length;s++){var l=t.style.properties[s],n=l.name,u=this.parse(n,r,!0);u&&o.push(u)}}else if(t.is.string(n)){var u=this.parse(n,r,!0);u&&o.push(u)}else{if(!t.is.plainObject(n))return!1;var c=n;i=r;for(var s=0;s<t.style.properties.length;s++){var l=t.style.properties[s],n=l.name,r=c[n];if(void 0===r&&(r=c[t.util.dash2camel(n)]),void 0!==r){var u=this.parse(n,r,!0);u&&o.push(u)}}}if(0===o.length)return!1;for(var h=!1,s=0;s<e.length;s++){for(var d,f=e[s],p=f._private.style,g={},v=0;v<o.length;v++){var l=o[v];if(i){var y=p[l.name];d=g[l.name]={prev:y}}h=this.applyParsedProperty(f,l)||h,i&&(d.next=p[l.name])}i&&this.updateTransitions(f,g,a)}return h},t.styfn.overrideBypass=function(e,n,r){for(var i=0;i<e.length;i++){var o=e[i],a=o._private.style[t.util.camel2dash(n)];a.bypass?(a.value=r,a.pxValue=r):this.applyBypass(o,n,r)}},t.styfn.removeAllBypasses=function(e,n){for(var r=!0,i=0;i<e.length;i++){for(var o=e[i],a={},s=o._private.style,l=0;l<t.style.properties.length;l++){var u=t.style.properties[l],c=u.name,h="",d=this.parse(c,h,!0),f=s[u.name],p=a[u.name]={prev:f};this.applyParsedProperty(o,d),p.next=s[u.name]}n&&this.updateTransitions(o,a,r)}},t.styfn.removeBypasses=function(e,n,r){for(var i=!0,o=0;o<e.length;o++){for(var a=e[o],s={},l=a._private.style,u=0;u<n.length;u++){var c=n[u],h=t.style.properties[c],d="",f=this.parse(c,d,!0),p=l[h.name],g=s[h.name]={prev:p};this.applyParsedProperty(a,f),g.next=l[h.name]}r&&this.updateTransitions(a,s,i)}}}(cytoscape),function(t,e){"use strict";t.styfn.getEmSizeInPixels=function(){var t=this._private.cy,n=t.container();if(e&&n&&e.getComputedStyle){var r=e.getComputedStyle(n).getPropertyValue("font-size"),i=parseFloat(r);return i}return 1},t.styfn.containerCss=function(t){var n=this._private.cy,r=n.container();return e&&r&&e.getComputedStyle?e.getComputedStyle(r).getPropertyValue(t):void 0},t.styfn.containerProperty=function(t){var e=this.containerCss(t),n=this.parse(t,e);return n},t.styfn.containerPropertyAsString=function(t){var e=this.containerProperty(t);return e?e.strValue:void 0}}(cytoscape,"undefined"==typeof window?null:window),function(t){"use strict";t.styfn.getRenderedStyle=function(e){var e=e[0];if(e){for(var n={},r=e._private.style,i=this._private.cy,o=i.zoom(),a=0;a<t.style.properties.length;a++){var s=t.style.properties[a],l=r[s.name];if(l){var u=l.unitless?l.strValue:l.pxValue*o+"px";n[s.name]=u,n[t.util.dash2camel(s.name)]=u}}return n}},t.styfn.getRawStyle=function(e){var e=e[0];if(e){for(var n={},r=e._private.style,i=0;i<t.style.properties.length;i++){var o=t.style.properties[i],a=r[o.name];a&&(n[o.name]=a.strValue,n[t.util.dash2camel(o.name)]=a.strValue)}return n}},t.styfn.getValueStyle=function(e){var n,r={},i=t.is.element(e);if(n=i?e._private.style:e)for(var o=0;o<t.style.properties.length;o++){var a=t.style.properties[o],s=n[a.name]||n[t.util.dash2camel(a.name)];void 0===s||t.is.plainObject(s)||(s=this.parse(a.name,s)),s&&(r[a.name]=s,r[t.util.dash2camel(a.name)]=s)}return r},t.styfn.getPropsList=function(e){var n=[],r=e,i=t.style.properties;if(r)for(var o in r){var a=r[o],s=i[o]||i[t.util.camel2dash(o)],l=this.parse(s.name,a);n.push(l)}return n}}(cytoscape),function(t){"use strict";t.style.applyFromJson=function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.selector,o=r.style||r.css;t.selector(i);for(var a in o){var s=o[a];t.css(a,s)}}return t},t.style.fromJson=function(e,n){var r=new t.Style(e);return t.style.applyFromJson(r,n),r},t.styfn.fromJson=function(e){var n=this;return n.resetToDefault(),t.style.applyFromJson(n,e),n},t.styfn.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],r=n.selector,i=n.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}t.push({selector:r?r.toString():"core",style:o})}return t}}(cytoscape),function(t){"use strict";t.style.applyFromString=function(e,n){function r(){l=l.length>o.length?l.substr(o.length):""}function i(){a=a.length>s.length?a.substr(s.length):""}var o,a,s,l=""+n;for(l=l.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){var u=l.match(/^\s*$/);if(u)break;var c=l.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){t.util.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+l);break}o=c[0];var h=c[1];if("core"!==h){var d=new t.Selector(h);if(d._private.invalid){t.util.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),r();continue}}var f=c[2],p=!1;a=f;for(var g=[];;){var u=a.match(/^\s*$/);if(u)break;var v=a.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!v){t.util.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+f),p=!0;break}s=v[0];var y=v[1],m=v[2],b=t.style.properties[y];if(b){var x=e.parse(y,m);x?(g.push({name:y,val:m}),i()):(t.util.error("Skipping property: Invalid property definition in: "+s),i())}else t.util.error("Skipping property: Invalid property name in: "+s),i()}if(p){r();break}e.selector(h);for(var w=0;w<g.length;w++){var b=g[w];e.css(b.name,b.val)}r()}return e},t.style.fromString=function(e,n){var r=new t.Style(e);return t.style.applyFromString(r,n),r},t.styfn.fromString=function(e){var n=this;return n.resetToDefault(),t.style.applyFromString(n,e),n}}(cytoscape),function(t){"use strict";t.stylesheet=t.Stylesheet=function(){return this instanceof t.Stylesheet?void(this.length=0):new t.Stylesheet},t.sheetfn=t.Stylesheet.prototype,t.sheetfn.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this},t.sheetfn.css=function(e,n){var r=this.length-1;if(t.is.string(e))this[r].properties.push({name:e,value:n});else if(t.is.plainObject(e))for(var i=e,o=0;o<t.style.properties.length;o++){var a=t.style.properties[o],s=i[a.name];if(void 0===s&&(s=i[t.util.dash2camel(a.name)]),void 0!==s){var e=a.name,n=s;this[r].properties.push({name:e,value:n})}}return this},t.sheetfn.style=t.sheetfn.css,t.sheetfn.generateStyle=function(e){for(var n=new t.Style(e),r=0;r<this.length;r++){var i=this[r],o=i.selector,a=i.properties;n.selector(o);for(var s=0;s<a.length;s++){var l=a[s];n.css(l.name,l.value)}}return n}}(cytoscape),function(t,e){"use strict";t.Thread=function(e){return this instanceof t.Thread?(this._private={requires:[],files:[],queue:null,pass:[]},void(e&&this.run(e))):new t.Thread(e)},t.thread=t.Thread,t.thdfn=t.Thread.prototype,t.fn.thread=function(e,n){for(var r in e){var i=e[r];t.Thread.prototype[r]=i}};var n=function(e){var n=t.is.fn(e)?e.toString():'JSON.parse("'+JSON.stringify(e)+'")';return n},r=function(e){var i,a;t.is.object(e)&&e.fn?(i=o(e.fn,e.name),a=e.name,e=e.fn):t.is.fn(e)?(i=e.toString(),a=e.name):t.is.string(e)?i=e:t.is.object(e)&&(i=e.proto?"":e.name+" = {};",a=e.name,e=e.obj),i+="\n";var s=function(t,e){if(t.prototype){var n=!1;for(var o in t.prototype){n=!0;break}n&&(i+=r({name:e,obj:t,proto:!0},t))}};if(e.prototype&&null!=a)for(var l in e.prototype){var u="",c=e.prototype[l],h=n(c),d=a+".prototype."+l;u+=d+" = "+h+";\n",u&&(i+=u),s(c,d)}if(!t.is.string(e))for(var l in e){var f="";if(e.hasOwnProperty(l)){var c=e[l],h=n(c),d=a+'["'+l+'"]';f+=d+" = "+h+";\n"}f&&(i+=f),s(c,d)}return i},i=function(e){return t.is.string(e)&&e.match(/\.js$/)};t.fn.thread({require:function(e,n){return i(e)?(this._private.files.push(e),this):(n&&(t.is.fn(e)?(n=n||e.name,e={name:n,fn:e}):e={name:n,obj:e}),this._private.requires.push(e),this)},pass:function(t){return this._private.pass.push(t),this},run:function(n,i){var o=this,a=this._private;if(i=i||a.pass.shift(),a.stopped)return void t.util.error("Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.");if(a.running)return a.queue=a.queue.then(function(){return o.run(n,i)});var s=null!=e,l="undefined"!=typeof module;o.trigger("run");var u=new t.Promise(function(u,c){a.running=!0;var h=a.ran,d=t.is.string(n)?n:n.toString(),f="\n"+a.requires.map(function(t){return r(t)}).concat(a.files.map(function(t){if(s){var n=function(t){return t.match(/^\.\//)||t.match(/^\.\./)?e.location.origin+e.location.pathname+t:t.match(/^\//)?e.location.origin+"/"+t:t};return'importScripts("'+n(t)+'");'}return l?'eval( require("fs").readFileSync("'+t+'", { encoding: "utf8" }) );':void 0})).concat(["( function(){","var ret = ("+d+")("+JSON.stringify(i)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(a.requires=[],a.files=[],s){var p,g;if(!h){var v=f+"";f=["function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),f+=v,p=new Blob([f],{type:"application/javascript"}),g=e.URL.createObjectURL(p)}var y=a.webworker=a.webworker||new Worker(g);h&&y.postMessage({$$eval:f});var m;y.addEventListener("message",m=function(e){var n=t.is.object(e)&&t.is.object(e.data);n&&"$$resolve"in e.data?(y.removeEventListener("message",m),u(e.data.$$resolve)):n&&"$$reject"in e.data?(y.removeEventListener("message",m),c(e.data.$$reject)):o.trigger(new t.Event(e,{type:"message",message:e.data}))},!1),h||y.postMessage("$$start")}else if(l){var m,b=require("path"),x=require("child_process"),w=a.child=a.child||x.fork(b.join(__dirname,"thread-node-fork"));w.on("message",m=function(e){t.is.object(e)&&"$$resolve"in e?(w.removeListener("message",m),u(e.$$resolve)):t.is.object(e)&&"$$reject"in e?(w.removeListener("message",m),c(e.$$reject)):o.trigger(new t.Event({},{type:"message",message:e}))}),w.send({$$eval:f})}else t.error("Tried to create thread but no underlying tech found!")}).then(function(t){return a.running=!1,a.ran=!0,o.trigger("ran"),t});return null==a.queue&&(a.queue=u),u},message:function(t){var e=this._private;return e.webworker&&e.webworker.postMessage(t),e.child&&e.child.send(t),this},stop:function(){var t=this._private;return t.webworker&&t.webworker.terminate(),t.child&&t.child.kill(),t.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var o=function(t,e){var n=t.toString();return n=n.replace(/function.*\(/,"function "+e+"(")},a=function(t){return t=t||{},function(e,n){var r=o(e,"_$_$_"+t.name);return this.require(r),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+t.name+"( _$_$_"+t.name+(arguments.length>1?", "+JSON.stringify(n):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};t.fn.thread({reduce:a({name:"reduce"}),reduceRight:a({name:"reduceRight"}),map:a({name:"map"})});var s=t.thdfn;s.promise=s.run,s.terminate=s.halt=s.stop,s.include=s.require,t.worker=t.Worker=t.Thread,t.fn.thread({on:t.define.on(),one:t.define.on({unbindSelfOnTrigger:!0}),off:t.define.off(),trigger:t.define.trigger()}),t.define.eventAliasesOn(t.thdfn)}(cytoscape,"undefined"==typeof window?null:window),function(t,e){"use strict";t.Fabric=function(e){if(!(this instanceof t.Fabric))return new t.Fabric(e);this._private={pass:[]};var n=4;t.is.number(e),e="undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency?navigator.hardwareConcurrency:"undefined"!=typeof module?require("os").cpus().length:n;for(var r=0;e>r;r++)this[r]=t.Thread();this.length=e},t.fabric=t.Fabric,t.fabfn=t.Fabric.prototype,t.fn.fabric=function(e,n){for(var r in e){var i=e[r];t.Fabric.prototype[r]=i}},t.fn.fabric({require:function(t,e){for(var n=0;n<this.length;n++){var r=this[n];r.require(t,e)}return this},random:function(){var t=Math.round((this.length-1)*Math.random()),e=this[t];return e},run:function(t){var e=this._private.pass.shift();return this.random().pass(e).run(t)},message:function(t){return this.random().message(t)},broadcast:function(t){for(var e=0;e<this.length;e++){var n=this[e];n.message(t)}return this},stop:function(){for(var t=0;t<this.length;t++){var e=this[t];e.stop()}return this},pass:function(e){var n=this._private.pass;return t.is.array(e)?n.push(e):t.util.error("Only arrays or collections may be used with fabric.pass()"),this},spreadSize:function(){var t=Math.ceil(this._private.pass[0].length/this.length);return t=Math.max(1,t)},spread:function(e){for(var n=this,r=n._private,i=n.spreadSize(),o=r.pass.shift().concat([]),a=[],s=0;s<this.length;s++){var l=this[s],u=o.splice(0,i),c=l.pass(u).run(e);a.push(c);var h=0===o.length;if(h)break}return t.Promise.all(a).then(function(t){for(var e=[],n=0,r=0;r<t.length;r++)for(var i=t[r],o=0;o<i.length;o++){var a=i[o];e[n++]=a}return e})},map:function(t){var e=this;return e.require(t,"_$_$_fabmap"),e.spread(function(t){var e=[],n=resolve;resolve=function(t){e.push(t)};for(var r=0;r<t.length;r++){var i=e.length,o=_$_$_fabmap(t[r]),a=i===e.length;a&&e.push(o)}return resolve=n,e})},filter:function(t){var e=this._private,n=e.pass[0];return this.map(t).then(function(t){for(var e=[],r=0;r<n.length;r++){var i=n[r],o=t[r];o&&e.push(i)}return e})},sort:function(t){var e=this,n=this._private.pass[0].length,r=this.spreadSize();return t=t||function(t,e){return e>t?-1:t>e?1:0},e.require(t,"_$_$_cmp"),e.spread(function(t){var e=t.sort(_$_$_cmp);resolve(e)}).then(function(e){for(var i=function(r,i,o){i=Math.min(i,n),o=Math.min(o,n);for(var a=r,s=i,l=[],u=a;o>u;u++){var c=e[r],h=e[i];s>r&&(i>=o||t(c,h)<=0)?(l.push(c),r++):(l.push(h),i++)}for(var u=0;u<l.length;u++){var d=a+u;e[d]=l[u]}},o=r;n>o;o*=2)for(var a=0;n>a;a+=2*o)i(a,a+o,a+2*o);return e})}});var n=function(t){return t=t||{},function(e,n){var r=this._private.pass.shift();return this.random().pass(r)[t.threadFn](e,n)}};t.fn.fabric({randomMap:n({threadFn:"map"}),reduce:n({threadFn:"reduce"}),reduceRight:n({threadFn:"reduceRight"})});var r=t.fabfn;r.promise=r.run,r.terminate=r.halt=r.stop,r.include=r.require,t.fn.fabric({on:t.define.on(),one:t.define.on({unbindSelfOnTrigger:!0}),off:t.define.off(),trigger:t.define.trigger()}),t.define.eventAliasesOn(t.fabfn)}(cytoscape,"undefined"==typeof window?null:window),function(t,e){"use strict";var n={},r=t.util.copy(n);t.defaults=function(e){n=t.util.extend({},r,e)},t.fn.core=function(e,n){for(var r in e){var i=e[r];t.Core.prototype[r]=i}},t.Core=function(r){if(!(this instanceof t.Core))return new t.Core(r);var i=this;r=t.util.extend({},n,r);var o=r.container,a=o?o._cyreg:null;if(a=a||{},a&&a.cy){if(o)for(;o.firstChild;)o.removeChild(o.firstChild);a.cy.notify({type:"destroy"}),a={}}var s=a.readies=a.readies||[];o&&(o._cyreg=a),a.cy=i;var l=void 0!==e&&void 0!==o&&!r.headless,u=r;u.layout=t.util.extend({name:l?"grid":"null"},u.layout),u.renderer=t.util.extend({name:l?"canvas":"null"},u.renderer);var c=function(t,e,n){return void 0!==e?e:void 0!==n?n:t},h=this._private={container:u.container,ready:!1,initrender:!1,options:u,elements:[],id2index:{},listeners:[],onRenders:[],aniEles:t.Collection(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:c(!0,u.zoomingEnabled),userZoomingEnabled:c(!0,u.userZoomingEnabled),panningEnabled:c(!0,u.panningEnabled),userPanningEnabled:c(!0,u.userPanningEnabled),boxSelectionEnabled:c(!1,u.boxSelectionEnabled),autolock:c(!1,u.autolock,u.autolockNodes),autoungrabify:c(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:c(!1,u.autounselectify),styleEnabled:void 0===u.styleEnabled?l:u.styleEnabled,zoom:t.is.number(u.zoom)?u.zoom:1,pan:{x:t.is.plainObject(u.pan)&&t.is.number(u.pan.x)?u.pan.x:0,y:t.is.plainObject(u.pan)&&t.is.number(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,deferredExecQueue:[]},d=u.selectionType;void 0===d||"additive"!==d&&"single"!==d?h.selectionType="single":h.selectionType=d,t.is.number(u.minZoom)&&t.is.number(u.maxZoom)&&u.minZoom<u.maxZoom?(h.minZoom=u.minZoom,h.maxZoom=u.maxZoom):t.is.number(u.minZoom)&&void 0===u.maxZoom?h.minZoom=u.minZoom:t.is.number(u.maxZoom)&&void 0===u.minZoom&&(h.maxZoom=u.maxZoom);var f=function(e){for(var n=!1,r=0;r<p.length;r++){var i=p[r];if(t.is.promise(i)){n=!0;break}}return n?t.Promise.all(p).then(e):void e(p)},p=[u.style,u.elements];f(function(e){var n=e[0],r=e[1];h.styleEnabled&&i.setStyle(n),i.initRenderer(t.util.extend({hideEdgesOnViewport:u.hideEdgesOnViewport,hideLabelsOnViewport:u.hideLabelsOnViewport,textureOnViewport:u.textureOnViewport,wheelSensitivity:t.is.number(u.wheelSensitivity)&&u.wheelSensitivity>0?u.wheelSensitivity:1,motionBlur:void 0===u.motionBlur?!0:u.motionBlur,motionBlurOpacity:void 0===u.motionBlurOpacity?.05:u.motionBlurOpacity,pixelRatio:t.is.number(u.pixelRatio)&&u.pixelRatio>0?u.pixelRatio:"auto"===u.pixelRatio?void 0:1,desktopTapThreshold:void 0===u.desktopTapThreshold?4:u.desktopTapThreshold,touchTapThreshold:void 0===u.touchTapThreshold?8:u.touchTapThreshold},u.renderer)),u.initrender&&(i.on("initrender",u.initrender),i.on("initrender",function(){i._private.initrender=!0})),i.load(r,function(){i.startAnimationLoop(),i._private.ready=!0,t.is.fn(u.ready)&&i.on("ready",u.ready);for(var e=0;e<s.length;e++){var n=s[e];i.on("ready",n)}a&&(a.readies=[]),i.trigger("ready")},u.done)})},t.corefn=t.Core.prototype,t.fn.core({isReady:function(){return this._private.ready},ready:function(t){this.isReady()?this.trigger("ready",[],t):this.on("ready",t)},initrender:function(){return this._private.initrender},destroy:function(){this.notify({type:"destroy"});var t=this.container(),e=t.parentNode;if(e)try{e.removeChild(t)}catch(n){}return this},getElementById:function(e){var n=this._private.id2index[e];return void 0!==n?this._private.elements[n]:new t.Collection(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){for(var e=this._private.elements,n=this._private.id2index,r=0;r<t.length;r++){var i=t[r],o=i._private.data.id,a=n[o],s=void 0!==a;s||(a=e.length,e.push(i),n[o]=a,i._private.index=a)}return this},removeFromPool:function(t){for(var e=this._private.elements,n=this._private.id2index,r=0;r<t.length;r++){var i=t[r],o=i._private.data.id,a=n[o],s=void 0!==a;if(s){this._private.id2index[o]=void 0,e.splice(a,1);for(var l=a;l<e.length;l++){var u=e[l]._private.data.id;n[u]--,e[l]._private.index--}}}},container:function(){return this._private.container},options:function(){return t.util.copy(this._private.options)},json:function(t){var e={},n=this;return e.elements={},n.elements().each(function(t,n){var r=n.group();e.elements[r]||(e.elements[r]=[]),e.elements[r].push(n.json())}),this._private.styleEnabled&&(e.style=n.style().json()),e.zoomingEnabled=n._private.zoomingEnabled,e.userZoomingEnabled=n._private.userZoomingEnabled,e.zoom=n._private.zoom,e.minZoom=n._private.minZoom,e.maxZoom=n._private.maxZoom,e.panningEnabled=n._private.panningEnabled,e.userPanningEnabled=n._private.userPanningEnabled,e.pan=n._private.pan,e.boxSelectionEnabled=n._private.boxSelectionEnabled,e.layout=n._private.options.layout,e.renderer=n._private.options.renderer,e.hideEdgesOnViewport=n._private.options.hideEdgesOnViewport,e.hideLabelsOnViewport=n._private.options.hideLabelsOnViewport,e.textureOnViewport=n._private.options.textureOnViewport,e.wheelSensitivity=n._private.options.wheelSensitivity,e.motionBlur=n._private.options.motionBlur,e},defer:function(t){var e=this,n=e._private,r=n.deferredExecQueue;r.push(t),n.deferredTimeout||(n.deferredTimeout=setTimeout(function(){for(;r.length>0;)r.shift()();n.deferredTimeout=null},0))}})}(cytoscape,"undefined"==typeof window?null:window),function(t,e){"use strict";function n(t){var e=!document||"interactive"!==document.readyState&&"complete"!==document.readyState?n:t;setTimeout(e,9,t)}t.fn.core({add:function(e){var n,r=this;if(t.is.elementOrCollection(e)){var i=e;if(i._private.cy===r)n=i.restore();else{for(var o=[],a=0;a<i.length;a++){var s=i[a];o.push(s.json())}n=new t.Collection(r,o)}}else if(t.is.array(e)){var o=e;n=new t.Collection(r,o)}else if(t.is.plainObject(e)&&(t.is.array(e.nodes)||t.is.array(e.edges))){
for(var l=e,o=[],u=["nodes","edges"],a=0,c=u.length;c>a;a++){var h=u[a],d=l[h];if(t.is.array(d))for(var f=0,p=d.length;p>f;f++){var g=d[f];g.group=h,o.push(g)}}n=new t.Collection(r,o)}else{var g=e;n=new t.Element(r,g).collection()}return n},remove:function(e){if(t.is.elementOrCollection(e))e=e;else if(t.is.string(e)){var n=e;e=this.$(n)}return e.remove()},load:function(r,i,o){function a(){s.one("layoutready",function(t){s.notifications(!0),s.trigger(t),s.notify({type:"load",collection:s.elements()}),s.one("load",i),s.trigger("load")}).one("layoutstop",function(){s.one("done",o),s.trigger("done")});var e=t.util.extend({},s._private.options.layout);e.eles=s.$(),s.layout(e)}var s=this;s.notifications(!1);var l=s.elements();return l.length>0&&l.remove(),null!=r&&(t.is.plainObject(r)||t.is.array(r))&&s.add(r),e?n(a):a(),this}})}(cytoscape,"undefined"==typeof window?null:window),function(t,e){"use strict";t.fn.core({animated:t.define.animated(),clearQueue:t.define.clearQueue(),delay:t.define.delay(),animate:t.define.animate(),stop:t.define.stop(),addToAnimationPool:function(t){var e=this;e.styleEnabled()&&e._private.aniEles.merge(t)},startAnimationLoop:function(){function n(){t.util.requestAnimationFrame(function(t){r(t),n()})}function r(e){function n(n,r){var l=n._private.animation.current,u=n._private.animation.queue,c=!1;if(0===l.length){var h=u.length>0?u.shift():null;h&&(h.callTime=e,l.push(h))}for(var d=[],f=l.length-1;f>=0;f--){var p=l[f];p.started||(i(n,p),s=!0),o(n,p,e,r),p.done&&(d.push(p),l.splice(f,1)),c=!0}for(var f=0;f<d.length;f++){var p=d[f],g=p.params.complete;t.is.fn(g)&&g.apply(n,[e])}return r||0!==l.length||0!==u.length||a.push(n),c}e=+new Date;for(var r=l._private.aniEles,a=[],s=!1,u=0;u<r.length;u++){var c=r[u];n(c)}var h=n(l,!0);if(r.length>0||h){var d;if(r.length>0){var f=r.updateCompoundBounds();d=f.length>0?r.add(f):r}l.notify({type:s?"style":"draw",collection:d})}r.unmerge(a)}function i(e,n){var r=t.is.core(e),i=!r,o=e,a=l._private.style;if(i)var s=o._private.position,u={x:s.x,y:s.y},c=a.getValueStyle(o);if(r)var h=l._private.pan,d={x:h.x,y:h.y},f=l._private.zoom;n.started=!0,n.startTime=Date.now(),n.startPosition=u,n.startStyle=c,n.startPan=d,n.startZoom=f}function o(e,n,r,i){var o,u=l._private.style,c=n.properties,h=n.params,d=n.startTime,f=!i;if(o=0===n.duration?1:Math.min(1,(r-d)/n.duration),0>o?o=0:o>1&&(o=1),null==c.delay){var p=n.startPosition,g=c.position,v=e._private.position;g&&f&&(a(p.x,g.x)&&(v.x=s(p.x,g.x,o)),a(p.y,g.y)&&(v.y=s(p.y,g.y,o)));var y=n.startPan,m=c.pan,b=e._private.pan,x=null!=m&&i;x&&(a(y.x,m.x)&&(b.x=s(y.x,m.x,o)),a(y.y,m.y)&&(b.y=s(y.y,m.y,o)),e.trigger("pan"));var w=n.startZoom,E=c.zoom,_=null!=E&&i;_&&(a(w,E)&&(e._private.zoom=s(w,E,o)),e.trigger("zoom")),(x||_)&&e.trigger("viewport");var S=c.style||c.css;if(S&&f)for(var T=0;T<S.length;T++){var C=S[T].name,k=S[T],P=k,D=n.startStyle[C],M=s(D,P,o);u.overrideBypass(e,C,M)}}return t.is.fn(h.step)&&h.step.apply(e,[r]),o>=1&&(n.done=!0),o}function a(e,n){return null==e||null==n?!1:t.is.number(e)&&t.is.number(n)?!0:!(!e||!n)}function s(e,n,r){0>r?r=0:r>1&&(r=1);var i,o;if(i=null!=e.pxValue||null!=e.value?null!=e.pxValue?e.pxValue:e.value:e,o=null!=n.pxValue||null!=n.value?null!=n.pxValue?n.pxValue:n.value:n,t.is.number(i)&&t.is.number(o))return i+(o-i)*r;if(t.is.number(i[0])&&t.is.number(o[0])){var a=i,s=o,l=function(t,e){var n=e-t,i=t;return Math.round(r*n+i)},u=l(a[0],s[0]),c=l(a[1],s[1]),h=l(a[2],s[2]);return[u,c,h]}}var l=this;l.styleEnabled()&&e&&n()}})}(cytoscape,"undefined"==typeof window?null:window),function(t){"use strict";t.fn.core({data:t.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:t.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:t.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:t.define.removeData({field:"scratch",triggerEvent:!1})})}(cytoscape),function(t){"use strict";t.fn.core({on:t.define.on(),one:t.define.on({unbindSelfOnTrigger:!0}),once:t.define.on({unbindAllBindersOnTrigger:!0}),off:t.define.off(),trigger:t.define.trigger()}),t.define.eventAliasesOn(t.corefn)}(cytoscape),function(t){"use strict";t.fn.core({png:function(t){var e=this._private.renderer;return t=t||{},e.png(t)},jpg:function(t){var e=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",e.jpg(t)}}),t.corefn.jpeg=t.corefn.jpg}(cytoscape),function(t){"use strict";t.fn.core({layout:function(e){var n;return null==e&&(e=t.util.extend({},this._private.options.layout),e.eles=this.$()),n=this.initLayout(e),n.run(),this},makeLayout:function(t){return this.initLayout(t)},initLayout:function(e){if(null==e)return void t.util.error("Layout options must be specified to make a layout");if(null==e.name)return void t.util.error("A `name` must be specified to make a layout");var n=e.name,r=t.extension("layout",n);if(null==r)return void t.util.error("Can not apply layout: No such layout `"+n+"` found; did you include its JS file?");e.eles=null!=e.eles?e.eles:this.$(),t.is.string(e.eles)&&(e.eles=this.$(e.eles));var i=new r(t.util.extend({},e,{cy:this}));return t.is.plainObject(i._private)||(i._private={}),i._private.cy=this,i._private.listeners=[],i}}),t.corefn.createLayout=t.corefn.makeLayout}(cytoscape),function(t){"use strict";t.fn.core({notify:function(t){if(this._private.batchingNotify){var e=this._private.batchNotifyEles,n=this._private.batchNotifyTypes;if(t.collection)for(var r=0;r<t.collection.length;r++){var i=t.collection[r];e.ids[i._private.id]||e.push(i)}return void(n.ids[t.type]||n.push(t.type))}if(this._private.notificationsEnabled){var o=this.renderer();o.notify(t)}},notifications:function(t){var e=this._private;return void 0===t?e.notificationsEnabled:void(e.notificationsEnabled=!!t)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},startBatch:function(){var t=this._private;return t.batchingStyle=t.batchingNotify=!0,t.batchStyleEles=[],t.batchNotifyEles=[],t.batchNotifyTypes=[],t.batchStyleEles.ids={},t.batchNotifyEles.ids={},t.batchNotifyTypes.ids={},this},endBatch:function(){var e=this._private;return e.batchingStyle=!1,new t.Collection(this,e.batchStyleEles).updateStyle(),e.batchingNotify=!1,this.notify({type:e.batchNotifyTypes,collection:e.batchNotifyEles}),this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch(function(){for(var n in t){var r=t[n],i=e.getElementById(n);i.data(r)}})}})}(cytoscape),function(t){"use strict";t.fn.core({renderTo:function(t,e,n,r){var i=this._private.renderer;return i.renderTo(t,e,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.notify({type:"resize"}),this.trigger("resize"),this},initRenderer:function(e){var n=this,r=t.extension("renderer",e.name);return null==r?void t.util.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",e.name):void(this._private.renderer=new r(t.util.extend({},e,{cy:n,style:n._private.style})))},triggerOnRender:function(){for(var t=this._private.onRenders,e=0;e<t.length;e++){var n=t[e];n()}return this},onRender:function(t){return this._private.onRenders.push(t),this},offRender:function(t){var e=this._private.onRenders;if(null==t)return this._private.onRenders=[],this;for(var n=0;n<e.length;n++){var r=e[n];if(t===r){e.splice(n,1);break}}return this}})}(cytoscape),function(t){"use strict";t.fn.core({collection:function(e){return t.is.string(e)?this.$(e):t.is.elementOrCollection(e)?e.collection():t.is.array(e)?new t.Collection(this,e):new t.Collection(this)},nodes:function(t){var e=this.$(function(){return this.isNode()});return t?e.filter(t):e},edges:function(t){var e=this.$(function(){return this.isEdge()});return t?e.filter(t):e},$:function(e){var n=new t.Collection(this,this._private.elements);return e?n.filter(e):n}}),t.corefn.elements=t.corefn.filter=t.corefn.$}(cytoscape),function(t){"use strict";t.fn.core({style:function(t){if(t){var e=this.setStyle(t);e.update()}return this._private.style},setStyle:function(e){var n=this._private;return t.is.stylesheet(e)?n.style=e.generateStyle(this):t.is.array(e)?n.style=t.style.fromJson(this,e):t.is.string(e)?n.style=t.style.fromString(this,e):n.style=new t.Style(this),n.style}})}(cytoscape),function(t){"use strict";t.fn.core({autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var e,n,r,i,o,a=arguments,s=this._private.pan;switch(a.length){case 0:return s;case 1:if(t.is.string(a[0]))return e=a[0],s[e];if(t.is.plainObject(a[0])){if(!this._private.panningEnabled)return this;r=a[0],i=r.x,o=r.y,t.is.number(i)&&(s.x=i),t.is.number(o)&&(s.y=o),this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=a[0],n=a[1],"x"!==e&&"y"!==e||!t.is.number(n)||(s[e]=n),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(e){var n,r,i,o,a,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:t.is.plainObject(s[0])&&(i=s[0],o=i.x,a=i.y,t.is.number(o)&&(l.x+=o),t.is.number(a)&&(l.y+=a),this.trigger("pan viewport"));break;case 2:n=s[0],r=s[1],"x"!==n&&"y"!==n||!t.is.number(r)||(l[n]+=r),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(t,e){var n=this.getFitViewport(t,e);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.trigger("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(e,n){if(t.is.number(e)&&void 0===n&&(n=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var r;if(t.is.string(e)){var i=e;e=this.$(i)}else if(t.is.boundingBox(e)){var o=e;r={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else t.is.elementOrCollection(e)||(e=this.elements());r=r||e.boundingBox();var a,s=this.width(),l=this.height();if(n=t.is.number(n)?n:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){a=Math.min((s-2*n)/r.w,(l-2*n)/r.h),a=a>this._private.maxZoom?this._private.maxZoom:a,a=a<this._private.minZoom?this._private.minZoom:a;var u={x:(s-a*(r.x1+r.x2))/2,y:(l-a*(r.y1+r.y2))/2};return{zoom:a,pan:u}}}},minZoom:function(e){return void 0===e?this._private.minZoom:(t.is.number(e)&&(this._private.minZoom=e),this)},maxZoom:function(e){return void 0===e?this._private.maxZoom:(t.is.number(e)&&(this._private.maxZoom=e),this)},zoom:function(e){var n,r;if(void 0===e)return this._private.zoom;if(t.is.number(e))r=e;else if(t.is.plainObject(e)){if(r=e.level,e.position){var i=e.position,o=this._private.pan,a=this._private.zoom;n={x:i.x*a+o.x,y:i.y*a+o.y}}else e.renderedPosition&&(n=e.renderedPosition);if(n&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!t.is.number(r)||n&&(!t.is.number(n.x)||!t.is.number(n.y)))return this;if(r=r>this._private.maxZoom?this._private.maxZoom:r,r=r<this._private.minZoom?this._private.minZoom:r,n){var s=this._private.pan,l=this._private.zoom,u=r,c={x:-u/l*(n.x-s.x)+n.x,y:-u/l*(n.y-s.y)+n.y};this._private.zoom=r,this._private.pan=c;var h=s.x!==c.x||s.y!==c.y;this.trigger(" zoom "+(h?" pan ":"")+" viewport ")}else this._private.zoom=r,this.trigger("zoom viewport");return this.notify({type:"viewport"}),this},viewport:function(e){var n=this._private,r=!0,i=!0,o=[],a=!1,s=!1;if(!e)return this;if(t.is.number(e.zoom)||(r=!1),t.is.plainObject(e.pan)||(i=!1),!r&&!i)return this;if(r){var l=e.zoom;l<n.minZoom||l>n.maxZoom||!n.zoomingEnabled?a=!0:(n.zoom=l,o.push("zoom"))}if(i&&(!a||!e.cancelOnFailedZoom)&&n.panningEnabled){var u=e.pan;t.is.number(u.x)&&(n.pan.x=u.x,s=!1),t.is.number(u.y)&&(n.pan.y=u.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.trigger(o.join(" ")),this.notify({type:"viewport"})),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.trigger("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(e,n){if(this._private.panningEnabled){if(t.is.string(e)){var r=e;e=this.elements(r)}else t.is.elementOrCollection(e)||(e=this.elements());var i=e.boundingBox(),o=this.width(),a=this.height();n=void 0===n?this._private.zoom:n;var s={x:(o-n*(i.x1+i.x2))/2,y:(a-n*(i.y1+i.y2))/2};return s}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},width:function(){var t=this._private.container;return t?t.clientWidth:1},height:function(){var t=this._private.container;return t?t.clientHeight:1},extent:function(){var t=this._private.pan,e=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-t.x)/e,x2:(n.x2-t.x)/e,y1:(n.y1-t.y)/e,y2:(n.y2-t.y)/e};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}}}),t.corefn.centre=t.corefn.center,t.corefn.autolockNodes=t.corefn.autolock,t.corefn.autoungrabifyNodes=t.corefn.autoungrabify}(cytoscape),function(t){"use strict";t.fn.collection=t.fn.eles=function(e,n){for(var r in e){var i=e[r];t.Collection.prototype[r]=i}};var e={prefix:{nodes:"n",edges:"e"},id:{nodes:0,edges:0},generate:function(e,n,r){var i=t.is.element(n)?n._private:n,o=i.group,a=null!=r?r:this.prefix[o]+this.id[o];if(e.getElementById(a).empty())this.id[o]++;else for(;!e.getElementById(a).empty();)a=this.prefix[o]+ ++this.id[o];return a}};t.Element=function(e,n,r){if(!(this instanceof t.Element))return new t.Element(e,n,r);var i=this;if(r=!(void 0!==r&&!r),void 0===e||void 0===n||!t.is.core(e))return void t.util.error("An element must have a core reference and parameters set");if("nodes"!==n.group&&"edges"!==n.group)return void t.util.error("An element must be of type `nodes` or `edges`; you specified `"+n.group+"`");if(this.length=1,this[0]=this,this._private={cy:e,single:!0,data:n.data||{},position:n.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:n.group,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!n.selected,selectable:void 0===n.selectable?!0:!!n.selectable,locked:!!n.locked,grabbed:!1,grabbable:void 0===n.grabbable?!0:!!n.grabbable,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:n.scratch||{},edges:[],children:[]},n.renderedPosition){var o=n.renderedPosition,a=e.pan(),s=e.zoom();this._private.position={x:(o.x-a.x)/s,y:(o.y-a.y)/s}}if(t.is.string(n.classes))for(var l=n.classes.split(/\s+/),u=0,c=l.length;c>u;u++){var h=l[u];h&&""!==h&&(i._private.classes[h]=!0)}n.css&&e.style().applyBypass(this,n.css),(void 0===r||r)&&this.restore()},t.Collection=function(n,r,i){if(!(this instanceof t.Collection))return new t.Collection(n,r);if(void 0===n||!t.is.core(n))return void t.util.error("A collection must have a reference to the core");var o={},a={},s=!1;if(r){if(r.length>0&&t.is.plainObject(r[0])&&!t.is.element(r[0])){s=!0;for(var l=[],u={},c=0,h=r.length;h>c;c++){var d=r[c];null==d.data&&(d.data={});var f=d.data;if(null==f.id)f.id=e.generate(n,d);else if(0!==n.getElementById(f.id).length||u[f.id])continue;var p=new t.Element(n,d,!1);l.push(p),u[f.id]=!0}r=l}}else r=[];this.length=0;for(var c=0,h=r.length;h>c;c++){var g=r[c];if(g){var v=g._private.data.id;(!i||i.unique&&!o[v])&&(o[v]=g,a[v]=this.length,this[this.length]=g,this.length++)}}this._private={cy:n,ids:o,indexes:a},s&&this.restore()},t.elefn=t.elesfn=t.Element.prototype=t.Collection.prototype,t.elesfn.cy=function(){return this._private.cy},t.elesfn.element=function(){return this[0]},t.elesfn.collection=function(){return t.is.collection(this)?this:new t.Collection(this._private.cy,[this])},t.elesfn.unique=function(){return new t.Collection(this._private.cy,this,{unique:!0})},t.elesfn.getElementById=function(e){var n=this._private.cy,r=this._private.ids[e];return r?r:t.Collection(n)},t.elesfn.json=function(){var e=this.element();if(null!=e){var n=e._private,r=t.util.copy({data:n.data,position:n.position,group:n.group,bypass:n.bypass,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbed:n.grabbed,grabbable:n.grabbable,classes:""}),i=[];for(var o in n.classes)n.classes[o]&&i.push(o);for(var a=0;a<i.length;a++){var o=i[a];r.classes+=o+(a<i.length-1?" ":"")}return r}},t.elesfn.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e],r=n.json();t.push(r)}return t},t.elesfn.clone=function(){for(var e=this.cy(),n=[],r=0;r<this.length;r++){var i=this[r],o=i.json(),a=new t.Element(e,o,!1);n.push(a)}return new t.Collection(e,n)},t.elesfn.copy=t.elesfn.clone,t.elesfn.restore=function(n){var r=this,i=[],o=r.cy();void 0===n&&(n=!0);for(var a=[],s=[],l=[],u=0,c=0,h=0,d=r.length;d>h;h++){var f=r[h];f.isNode()?(s.push(f),u++):(l.push(f),c++)}a=s.concat(l);for(var h=0,d=a.length;d>h;h++){var f=a[h];if(f.removed()){var p=f._private,g=p.data;if(void 0===g.id)g.id=e.generate(o,f);else{if(t.is.emptyString(g.id)||!t.is.string(g.id)){t.util.error("Can not create element with invalid string ID `"+g.id+"`");continue}if(0!==o.getElementById(g.id).length){t.util.error("Can not create second element with ID `"+g.id+"`");continue}}var v=g.id;if(f.isEdge()){for(var y=f,m=["source","target"],b=m.length,x=!1,w=0;b>w;w++){var E=m[w],_=g[E];null==_||""===_?(t.util.error("Can not create edge `"+v+"` with unspecified "+E),x=!0):o.getElementById(_).empty()&&(t.util.error("Can not create edge `"+v+"` with nonexistant "+E+" `"+_+"`"),x=!0)}if(x)continue;var S=o.getElementById(g.source),T=o.getElementById(g.target);S._private.edges.push(y),T._private.edges.push(y),y._private.source=S,y._private.target=T}p.ids={},p.ids[v]=f,p.removed=!1,o.addToPool(f),i.push(f)}}for(var h=0;u>h;h++){var C=a[h],g=C._private.data,k=C._private.data.parent,P=null!=k;if(P){var D=o.getElementById(k);if(D.empty())g.parent=void 0;else{for(var M=!1,N=D;!N.empty();){if(C.same(N)){M=!0,g.parent=void 0;break}N=N.parent()}M||(D[0]._private.children.push(C),C._private.parent=D[0],o._private.hasCompoundNodes=!0)}}}if(i=new t.Collection(o,i),i.length>0){var A=i.add(i.connectedNodes()).add(i.parent());A.updateStyle(n),n?i.rtrigger("add"):i.trigger("add")}return r},t.elesfn.removed=function(){var t=this[0];return t&&t._private.removed},t.elesfn.inside=function(){var t=this[0];return t&&!t._private.removed},t.elesfn.remove=function(e){function n(t){for(var e=t._private.edges,n=0;n<e.length;n++)i(e[n])}function r(t){for(var e=t._private.children,n=0;n<e.length;n++)i(e[n])}function i(t){var e=c[t.id()];e||(c[t.id()]=!0,t.isNode()?(u.push(t),n(t),r(t)):u.unshift(t))}function o(t,e){for(var n=t._private.edges,r=0;r<n.length;r++){var i=n[r];if(e===i){n.splice(r,1);break}}}function a(t,e){e=e[0],t=t[0];for(var n=t._private.children,r=0;r<n.length;r++)if(n[r][0]===e[0]){n.splice(r,1);break}}var s=this,l=[],u=[],c={},h=s._private.cy;void 0===e&&(e=!0);for(var d=0,f=s.length;f>d;d++){var p=s[d];i(p)}for(var d=0;d<u.length;d++){var p=u[d];if(p._private.removed=!0,h.removeFromPool(p),l.push(p),p.isEdge()){var g=p.source()[0],v=p.target()[0];o(g,p),o(v,p)}else{var y=p.parent();0!==y.length&&a(y,p)}}var m=h._private.elements;h._private.hasCompoundNodes=!1;for(var d=0;d<m.length;d++){var p=m[d];if(p.isParent()){h._private.hasCompoundNodes=!0;break}}var b=new t.Collection(this.cy(),l);b.size()>0&&(e&&this.cy().notify({type:"remove",collection:b}),b.trigger("remove"));for(var x={},d=0;d<u.length;d++){var p=u[d],w="nodes"===p._private.group,E=p._private.data.parent;if(w&&void 0!==E&&!x[E]){x[E]=!0;var y=h.getElementById(E);y&&0!==y.length&&!y._private.removed&&0===y.children().length&&y.updateStyle()}}return this},t.elesfn.move=function(t){var e=this._private.cy;if(void 0!==t.source||void 0!==t.target){var n=t.source,r=t.target,i=e.getElementById(n).length>0,o=e.getElementById(r).length>0;if(i||o){var a=this.jsons();this.remove();for(var s=0;s<a.length;s++){var l=a[s];"edges"===l.group&&(i&&(l.data.source=n),o&&(l.data.target=r))}return e.add(a)}}else if(void 0!==t.parent){var u=t.parent,c=null===u||e.getElementById(u).length>0;if(c){var a=this.jsons(),h=this.descendants(),d=h.merge(h.add(this).connectedEdges());this.remove();for(var s=0;s<this.length;s++){var l=a[s];"nodes"===l.group&&(l.data.parent=null===u?void 0:u)}}return e.add(a).merge(d.restore())}return this}}(cytoscape),function(t){"use strict";t.fn.eles({stdBreadthFirstSearch:function(e){return e=t.util.extend({},e,{std:!0}),this.breadthFirstSearch(e)},breadthFirstSearch:function(e,n,r){var i,o,a;t.is.plainObject(e)&&!t.is.elementOrCollection(e)&&(i=e,e=i.roots,n=i.visit,r=i.directed,o=i.std,a=i.thisArg),r=2!==arguments.length||t.is.fn(n)?r:n,n=t.is.fn(n)?n:function(){};for(var s,l=this._private.cy,u=t.is.string(e)?this.filter(e):e,c=[],h=[],d={},f={},p={},g=0,v=this.nodes(),y=this.edges(),m=0;m<u.length;m++)u[m].isNode()&&(c.unshift(u[m]),p[u[m].id()]=!0,h.push(u[m]),f[u[m].id()]=0);for(;0!==c.length;){var b,u=c.shift(),x=f[u.id()],w=d[u.id()],E=null==w?void 0:w.connectedNodes().not(u)[0];if(b=o?n.call(a,u,w,E,g++,x):n.call(u,g++,x,u,w,E),b===!0){s=u;break}if(b===!1)break;for(var _=u.connectedEdges(r?function(){return this.data("source")===u.id()}:void 0).intersect(y),m=0;m<_.length;m++){var S=_[m],T=S.connectedNodes(function(){return this.id()!==u.id()}).intersect(v);0===T.length||p[T.id()]||(T=T[0],c.push(T),p[T.id()]=!0,f[T.id()]=f[u.id()]+1,h.push(T),d[T.id()]=S)}}for(var C=[],m=0;m<h.length;m++){var k=h[m],P=d[k.id()];P&&C.push(P),C.push(k)}return{path:new t.Collection(l,C,{unique:!0}),found:new t.Collection(l,s,{unique:!0})}},stdDepthFirstSearch:function(e){return e=t.util.extend({},e,{std:!0}),this.depthFirstSearch(e)},depthFirstSearch:function(e,n,r){var i,o,a;t.is.plainObject(e)&&!t.is.elementOrCollection(e)&&(i=e,e=i.roots,n=i.visit,r=i.directed,o=i.std,a=i.thisArg),r=2!==arguments.length||t.is.fn(n)?r:n,n=t.is.fn(n)?n:function(){};for(var s,l=this._private.cy,u=t.is.string(e)?this.filter(e):e,c=[],h=[],d={},f={},p={},g=0,v=this.edges(),y=this.nodes(),m=0;m<u.length;m++)u[m].isNode()&&(c.push(u[m]),h.push(u[m]),f[u[m].id()]=0);for(;0!==c.length;){var u=c.pop();if(!p[u.id()]){p[u.id()]=!0;var b,x=f[u.id()],w=d[u.id()],E=null==w?void 0:w.connectedNodes().not(u)[0];if(b=o?n.call(a,u,w,E,g++,x):n.call(u,g++,x,u,w,E),b===!0){s=u;break}if(b===!1)break;for(var _=u.connectedEdges(r?function(){return this.data("source")===u.id()}:void 0).intersect(v),m=0;m<_.length;m++){var S=_[m],T=S.connectedNodes(function(){return this.id()!==u.id()}).intersect(y);0===T.length||p[T.id()]||(T=T[0],c.push(T),f[T.id()]=f[u.id()]+1,h.push(T),d[T.id()]=S)}}}for(var C=[],m=0;m<h.length;m++){var k=h[m],P=d[k.id()];P&&C.push(P),C.push(k)}return{path:new t.Collection(l,C,{unique:!0}),found:new t.Collection(l,s,{unique:!0})}},kruskal:function(e){function n(t){for(var e=0;e<i.length;e++){var n=i[e];if(n.anySame(t))return{eles:n,index:e}}}e=t.is.fn(e)?e:function(){return 1};for(var r=new t.Collection(this._private.cy,[]),i=[],o=this.nodes(),a=0;a<o.length;a++)i.push(o[a].collection());for(var s=this.edges(),l=s.toArray().sort(function(t,n){var r=e.call(t,t),i=e.call(n,n);return r-i}),a=0;a<l.length;a++){var u=l[a],c=u.source()[0],h=u.target()[0],d=n(c),f=n(h);d.index!==f.index&&(r=r.add(u),i[d.index]=d.eles.add(f.eles),i.splice(f.index,1))}return o.add(r)},dijkstra:function(e,n,r){var i;t.is.plainObject(e)&&!t.is.elementOrCollection(e)&&(i=e,e=i.root,n=i.weight,r=i.directed);var o=this._private.cy;n=t.is.fn(n)?n:function(){return 1};for(var a=t.is.string(e)?this.filter(e)[0]:e[0],s={},l={},u={},c=this.edges().filter(function(){return!this.isLoop()}),h=this.nodes(),d=[],f=0;f<h.length;f++)s[h[f].id()]=h[f].same(a)?0:1/0,d.push(h[f]);var p=function(t){return s[t.id()]};d=new t.Collection(o,d);for(var g=t.Minheap(o,d,p),v=function(t,e){for(var i,o=(r?t.edgesTo(e):t.edgesWith(e)).intersect(c),a=1/0,s=0;s<o.length;s++){var l=o[s],u=n.apply(l,[l]);(a>u||!i)&&(a=u,i=l)}return{edge:i,dist:a}};g.size()>0;){var y=g.pop(),m=y.value,b=y.id,x=o.getElementById(b);if(u[b]=m,m===Math.Infinite)break;for(var w=x.neighborhood().intersect(h),f=0;f<w.length;f++){var E=w[f],_=E.id(),S=v(x,E),T=m+S.dist;T<g.getValueById(_)&&(g.edit(_,T),l[_]={node:x,edge:S.edge})}}return{distanceTo:function(e){var n=t.is.string(e)?h.filter(e)[0]:e[0];return u[n.id()]},pathTo:function(e){var n=t.is.string(e)?h.filter(e)[0]:e[0],r=[],i=n;if(n.length>0)for(r.unshift(n);l[i.id()];){var a=l[i.id()];r.unshift(a.edge),r.unshift(a.node),i=a.node}return new t.Collection(o,r)}}}}),t.elesfn.bfs=t.elesfn.breadthFirstSearch,t.elesfn.dfs=t.elesfn.depthFirstSearch,t.elesfn.stdBfs=t.elesfn.stdBreadthFirstSearch,t.elesfn.stdDfs=t.elesfn.stdDepthFirstSearch}(cytoscape),function(t){"use strict";t.fn.eles({aStar:function(e){e=e||{};var n=function(t,e,r,o){if(t==e)return o.push(i.getElementById(e)),o;if(e in r){var a=r[e],s=f[e];return o.push(i.getElementById(e)),o.push(i.getElementById(s)),n(t,a,r,o)}},r=function(t,e){if(0!==t.length){for(var n=0,r=e[t[0]],i=1;i<t.length;i++){var o=e[t[i]];r>o&&(r=o,n=i)}return n}},i=this._private.cy;if(null!=e&&null!=e.root){var o=t.is.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.goal){var a=t.is.string(e.goal)?this.filter(e.goal)[0]:e.goal[0];if(null!=e.heuristic&&t.is.fn(e.heuristic))var s=e.heuristic;else var s=function(){return 0};if(null!=e.weight&&t.is.fn(e.weight))var l=e.weight;else var l=function(t){return 1};if(null!=e.directed)var u=e.directed;else var u=!1;var c=[],h=[o.id()],d={},f={},p={},g={};p[o.id()]=0,g[o.id()]=s(o);for(var v=this.edges().stdFilter(function(t){return!t.isLoop()}),y=this.nodes(),m=0;h.length>0;){var b=r(h,g),x=i.getElementById(h[b]);if(m++,x.id()==a.id()){var w=n(o.id(),a.id(),d,[]);return w.reverse(),{found:!0,distance:p[x.id()],path:new t.Collection(i,w),steps:m}}c.push(x.id()),h.splice(b,1);var E=x.connectedEdges();u&&(E=E.stdFilter(function(t){return t.data("source")===x.id()})),E=E.intersect(v);for(var _=0;_<E.length;_++){var S=E[_],T=S.connectedNodes().stdFilter(function(t){return t.id()!==x.id()}).intersect(y);if(-1==c.indexOf(T.id())){var C=p[x.id()]+l.apply(S,[S]);-1!=h.indexOf(T.id())?C<p[T.id()]&&(p[T.id()]=C,g[T.id()]=C+s(T),d[T.id()]=x.id()):(p[T.id()]=C,g[T.id()]=C+s(T),h.push(T.id()),d[T.id()]=x.id(),f[T.id()]=S.id())}}}return{found:!1,distance:void 0,path:void 0,steps:m}}}},floydWarshall:function(e){e=e||{};var n=this._private.cy;if(null!=e.weight&&t.is.fn(e.weight))var r=e.weight;else var r=function(t){return 1};if(null!=e.directed)var i=e.directed;else var i=!1;for(var o=this.edges().stdFilter(function(t){return!t.isLoop()}),a=this.nodes(),s=a.length,l={},u=0;s>u;u++)l[a[u].id()]=u;for(var c=[],u=0;s>u;u++){for(var h=new Array(s),d=0;s>d;d++)u==d?h[d]=0:h[d]=1/0;c.push(h)}var f=[],p=[],g=function(t){for(var e=0;s>e;e++){for(var n=new Array(s),r=0;s>r;r++)n[r]=void 0;t.push(n)}};g(f),g(p);for(var u=0;u<o.length;u++){var v=l[o[u].source().id()],y=l[o[u].target().id()],m=r.apply(o[u],[o[u]]);c[v][y]>m&&(c[v][y]=m,f[v][y]=y,p[v][y]=o[u])}if(!i)for(var u=0;u<o.length;u++){var v=l[o[u].target().id()],y=l[o[u].source().id()],m=r.apply(o[u],[o[u]]);c[v][y]>m&&(c[v][y]=m,f[v][y]=y,p[v][y]=o[u])}for(var b=0;s>b;b++)for(var u=0;s>u;u++)for(var d=0;s>d;d++)c[u][b]+c[b][d]<c[u][d]&&(c[u][d]=c[u][b]+c[b][d],f[u][d]=f[u][b]);for(var x=[],u=0;s>u;u++)x.push(a[u].id());var w={distance:function(e,r){if(t.is.string(e))var i=n.filter(e)[0].id();else var i=e.id();if(t.is.string(r))var o=n.filter(r)[0].id();else var o=r.id();return c[l[i]][l[o]]},path:function(e,r){var i=function(t,e,r,i,o){if(t===e)return n.getElementById(i[t]);if(void 0!==r[t][e]){for(var a=[n.getElementById(i[t])],s=t;t!==e;){s=t,t=r[t][e];var l=o[s][t];a.push(l),a.push(n.getElementById(i[t]))}return a}};if(t.is.string(e))var o=n.filter(e)[0].id();else var o=e.id();if(t.is.string(r))var a=n.filter(r)[0].id();else var a=r.id();var s=i(l[o],l[a],f,x,p);return new t.Collection(n,s)}};return w},bellmanFord:function(e){if(e=e||{},null!=e.weight&&t.is.fn(e.weight))var n=e.weight;else var n=function(t){return 1};if(null!=e.directed)var r=e.directed;else var r=!1;if(null==e.root)return void t.util.error("options.root required");if(t.is.string(e.root))var i=this.filter(e.root)[0];else var i=e.root[0];for(var o=this._private.cy,a=this.edges().stdFilter(function(t){return!t.isLoop()}),s=this.nodes(),l=s.length,u={},c=0;l>c;c++)u[s[c].id()]=c;for(var h=[],d=[],f=[],c=0;l>c;c++)s[c].id()===i.id()?h[c]=0:h[c]=1/0,d[c]=void 0;for(var p=!1,c=1;l>c;c++){p=!1;for(var g=0;g<a.length;g++){var v=u[a[g].source().id()],y=u[a[g].target().id()],m=n.apply(a[g],[a[g]]),b=h[v]+m;if(b<h[y]&&(h[y]=b,d[y]=v,f[y]=a[g],p=!0),!r){var b=h[y]+m;b<h[v]&&(h[v]=b,d[v]=y,f[v]=a[g],p=!0)}}if(!p)break}if(p)for(var g=0;g<a.length;g++){var v=u[a[g].source().id()],y=u[a[g].target().id()],m=n.apply(a[g],[a[g]]);if(h[v]+m<h[y])return t.util.error("Error: graph contains a negative weigth cycle!"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}for(var x=[],c=0;l>c;c++)x.push(s[c].id());var w={distanceTo:function(e){if(t.is.string(e))var n=o.filter(e)[0].id();else var n=e.id();return h[u[n]]},pathTo:function(e){var n=function(t,e,n,r,i,a){for(;;){if(i.push(o.getElementById(r[n])),i.push(a[n]),e===n)return i;var s=t[n];if("undefined"==typeof s)return;n=s}};if(t.is.string(e))var r=o.filter(e)[0].id();else var r=e.id();var a=[],s=n(d,u[i.id()],u[r],x,a,f);return null!=s&&s.reverse(),new t.Collection(o,s)},hasNegativeWeightCycle:!1};return w},kargerStein:function(e){e=e||{};var n=function(t,e,n){for(var r=n[t],i=r[1],o=r[2],a=e[i],s=e[o],l=n.filter(function(t){return e[t[1]]===a&&e[t[2]]===s?!1:e[t[1]]!==s||e[t[2]]!==a}),u=0;u<l.length;u++){var c=l[u];c[1]===s?(l[u]=c.slice(0),l[u][1]=a):c[2]===s&&(l[u]=c.slice(0),l[u][2]=a)}for(var u=0;u<e.length;u++)e[u]===s&&(e[u]=a);return l},r=function(t,e,i,o){if(o>=i)return e;var a=Math.floor(Math.random()*e.length),s=n(a,t,e);return r(t,s,i-1,o)},i=this._private.cy,o=this.edges().stdFilter(function(t){return!t.isLoop()}),a=this.nodes(),s=a.length,l=o.length,u=Math.ceil(Math.pow(Math.log(s)/Math.LN2,2)),c=Math.floor(s/Math.sqrt(2));if(2>s)return void t.util.error("At least 2 nodes are required for KargerSteing algorithm!");for(var h={},d=0;s>d;d++)h[a[d].id()]=d;for(var f=[],d=0;l>d;d++){var p=o[d];f.push([d,h[p.source().id()],h[p.target().id()]])}for(var g,v=1/0,y=[],d=0;s>d;d++)y.push(d);for(var m=0;u>=m;m++){var b=y.slice(0),x=r(b,f,s,c),w=b.slice(0),E=r(b,x,c,2),_=r(w,x,c,2);E.length<=_.length&&E.length<v?(v=E.length,g=[E,b]):_.length<=E.length&&_.length<v&&(v=_.length,g=[_,w])}for(var S=g[0].map(function(t){return o[t[0]]}),T=[],C=[],k=g[1][0],d=0;d<g[1].length;d++){var P=g[1][d];P===k?T.push(a[d]):C.push(a[d])}var D={cut:new t.Collection(i,S),partition1:new t.Collection(i,T),partition2:new t.Collection(i,C)};return D},pageRank:function(e){e=e||{};var n=function(t){for(var e=t.length,n=0,r=0;e>r;r++)n+=t[r];for(var r=0;e>r;r++)t[r]=t[r]/n};if(null!=e&&null!=e.dampingfactor)var r=e.dampingFactor;else var r=.8;if(null!=e&&null!=e.precision)var i=e.precision;else var i=1e-6;
if(null!=e&&null!=e.iterations)var o=e.iterations;else var o=200;if(null!=e&&null!=e.weight&&t.is.fn(e.weight))var a=e.weight;else var a=function(t){return 1};for(var s=this._private.cy,l=this.edges().stdFilter(function(t){return!t.isLoop()}),u=this.nodes(),c=u.length,h=l.length,d={},f=0;c>f;f++)d[u[f].id()]=f;for(var p=[],g=[],v=(1-r)/c,f=0;c>f;f++){for(var y=[],m=0;c>m;m++)y.push(0);p.push(y),g.push(0)}for(var f=0;h>f;f++){var b=l[f],x=d[b.source().id()],w=d[b.target().id()],E=a.apply(b,[b]);p[w][x]+=E,g[x]+=E}for(var _=1/c+v,m=0;c>m;m++)if(0===g[m])for(var f=0;c>f;f++)p[f][m]=_;else for(var f=0;c>f;f++)p[f][m]=p[f][m]/g[m]+v;for(var S,T=[],C=[],f=0;c>f;f++)T.push(1),C.push(0);for(var k=0;o>k;k++){for(var P=C.slice(0),f=0;c>f;f++)for(var m=0;c>m;m++)P[f]+=p[f][m]*T[m];n(P),S=T,T=P;for(var D=0,f=0;c>f;f++)D+=Math.pow(S[f]-T[f],2);if(i>D)break}var M={rank:function(e){if(t.is.string(e))var n=s.filter(e)[0].id();else var n=e.id();return T[d[n]]}};return M},degreeCentralityNormalized:function(e){if(e=e||{},null!=e.directed)var n=e.directed;else var n=!1;var r=this.nodes(),i=r.length;if(n){for(var o={},a={},s=0,l=0,u=0;i>u;u++){var c=r[u],h=this.degreeCentrality(t.util.extend({},e,{root:c}));s<h.indegree&&(s=h.indegree),l<h.outdegree&&(l=h.outdegree),o[c.id()]=h.indegree,a[c.id()]=h.outdegree}return{indegree:function(e){if(t.is.string(e))var e=cy.filter(e)[0].id();else var e=e.id();return o[e]/s},outdegree:function(e){if(t.is.string(e))var e=cy.filter(e)[0].id();else var e=e.id();return a[e]/l}}}for(var d={},f=0,u=0;i>u;u++){var c=r[u],h=this.degreeCentrality(t.util.extend({},e,{root:c}));f<h.degree&&(f=h.degree),d[c.id()]=h.degree}return{degree:function(e){if(t.is.string(e))var e=cy.filter(e)[0].id();else var e=e.id();return d[e]/f}}},degreeCentrality:function(e){e=e||{};var n=this;if(null!=e&&null!=e.root){var r=t.is.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.weight&&t.is.fn(e.weight))var i=e.weight;else var i=function(t){return 1};if(null!=e.directed)var o=e.directed;else var o=!1;if(null!=e.alpha&&t.is.number(e.alpha))var a=e.alpha;else a=0;if(o){for(var s=r.connectedEdges('edge[target = "'+r.id()+'"]').intersection(n),l=r.connectedEdges('edge[source = "'+r.id()+'"]').intersection(n),u=s.length,c=l.length,h=0,d=0,f=0;f<s.length;f++){var p=s[f];h+=i.apply(p,[p])}for(var f=0;f<l.length;f++){var p=l[f];d+=i.apply(p,[p])}return{indegree:Math.pow(u,1-a)*Math.pow(h,a),outdegree:Math.pow(c,1-a)*Math.pow(d,a)}}for(var g=r.connectedEdges().intersection(n),v=g.length,y=0,f=0;f<g.length;f++){var p=g[f];y+=i.apply(p,[p])}return{degree:Math.pow(v,1-a)*Math.pow(y,a)}}},closenessCentralityNormalized:function(e){e=e||{};var n=e.harmonic;void 0===n&&(n=!0);for(var r={},i=0,o=this.nodes(),a=this.floydWarshall({weight:e.weight,directed:e.directed}),s=0;s<o.length;s++){for(var l=0,u=0;u<o.length;u++)if(s!=u){var c=a.distance(o[s],o[u]);l+=n?1/c:c}n||(l=1/l),l>i&&(i=l),r[o[s].id()]=l}return{closeness:function(e){if(t.is.string(e))var e=cy.filter(e)[0].id();else var e=e.id();return r[e]/i}}},closenessCentrality:function(e){if(e=e||{},null==e.root)return void t.util.error("options.root required");if(t.is.string(e.root))var n=this.filter(e.root)[0];else var n=e.root[0];if(null!=e.weight&&t.is.fn(e.weight))var r=e.weight;else var r=function(){return 1};if(null!=e.directed&&t.is.bool(e.directed))var i=e.directed;else var i=!1;var o=e.harmonic;void 0===o&&(o=!0);for(var a=this.dijkstra({root:n,weight:r,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++)if(l[u].id()!=n.id()){var c=a.distanceTo(l[u]);s+=o?1/c:c}return o?s:1/s},betweennessCentrality:function(e){if(e=e||{},null!=e.weight&&t.is.fn(e.weight))var n=e.weight,r=!0;else var r=!1;if(null!=e.directed&&t.is.bool(e.directed))var i=e.directed;else var i=!1;for(var o=function(t,e){t.unshift(e);for(var n=0;g[t[n]]<g[t[n+1]]&&n<t.length-1;n++){var r=t[n];t[n]=t[n+1],t[n+1]=r}},a=this._private.cy,s=this.nodes(),l={},u={},c=0;c<s.length;c++)i?l[s[c].id()]=s[c].outgoers("node"):l[s[c].id()]=s[c].openNeighborhood("node");for(var c=0;c<s.length;c++)u[s[c].id()]=0;for(var h=0;h<s.length;h++){for(var d=[],f={},p={},g={},v=[],c=0;c<s.length;c++)f[s[c].id()]=[],p[s[c].id()]=0,g[s[c].id()]=Number.POSITIVE_INFINITY;for(p[s[h].id()]=1,g[s[h].id()]=0,v.unshift(s[h].id());v.length>0;){var y=v.pop();d.push(y),r?l[y].forEach(function(t){if(a.$("#"+y).edgesTo(t).length>0)var e=a.$("#"+y).edgesTo(t)[0];else var e=t.edgesTo("#"+y)[0];var r=n.apply(e,[e]);g[t.id()]>g[y]+r&&(g[t.id()]=g[y]+r,v.indexOf(t.id())<0?o(v,t.id()):(v.splice(v.indexOf(t.id()),1),o(v,t.id())),p[t.id()]=0,f[t.id()]=[]),g[t.id()]==g[y]+r&&(p[t.id()]=p[t.id()]+p[y],f[t.id()].push(y))}):l[y].forEach(function(t){g[t.id()]==Number.POSITIVE_INFINITY&&(v.unshift(t.id()),g[t.id()]=g[y]+1),g[t.id()]==g[y]+1&&(p[t.id()]=p[t.id()]+p[y],f[t.id()].push(y))})}for(var m={},c=0;c<s.length;c++)m[s[c].id()]=0;for(;d.length>0;){var b=d.pop();f[b].forEach(function(t){m[t]=m[t]+p[t]/p[b]*(1+m[b]),b!=s[h].id()&&(u[b]=u[b]+m[b])})}}var x=0;for(var w in u)x<u[w]&&(x=u[w]);var E={betweenness:function(e){if(t.is.string(e))var e=a.filter(e)[0].id();else var e=e.id();return u[e]},betweennessNormalized:function(e){if(t.is.string(e))var e=a.filter(e)[0].id();else var e=e.id();return u[e]/x}};return E.betweennessNormalised=E.betweennessNormalized,E}}),t.elesfn.dc=t.elesfn.degreeCentrality,t.elesfn.dcn=t.elesfn.degreeCentralityNormalised=t.elesfn.degreeCentralityNormalized,t.elesfn.cc=t.elesfn.closenessCentrality,t.elesfn.ccn=t.elesfn.closenessCentralityNormalised=t.elesfn.closenessCentralityNormalized,t.elesfn.bc=t.elesfn.betweennessCentrality}(cytoscape),function(t){"use strict";t.fn.eles({animated:t.define.animated(),clearQueue:t.define.clearQueue(),delay:t.define.delay(),animate:t.define.animate(),stop:t.define.stop()})}(cytoscape),function(t){"use strict";t.fn.eles({addClass:function(e){e=e.split(/\s+/);for(var n=this,r=[],i=0;i<e.length;i++){var o=e[i];if(!t.is.emptyString(o))for(var a=0;a<n.length;a++){var s=n[a],l=s._private.classes[o];s._private.classes[o]=!0,l||r.push(s)}}return r.length>0&&new t.Collection(this._private.cy,r).updateStyle().trigger("class"),n},hasClass:function(t){var e=this[0];return!(null==e||!e._private.classes[t])},toggleClass:function(e,n){for(var r=e.split(/\s+/),i=this,o=[],a=0,s=i.length;s>a;a++)for(var l=i[a],u=0;u<r.length;u++){var c=r[u];if(!t.is.emptyString(c)){var h=l._private.classes[c],d=n||void 0===n&&!h;d?(l._private.classes[c]=!0,h||o.push(l)):(l._private.classes[c]=!1,h&&o.push(l))}}return o.length>0&&new t.Collection(this._private.cy,o).updateStyle().trigger("class"),i},removeClass:function(e){e=e.split(/\s+/);for(var n=this,r=[],i=0;i<n.length;i++)for(var o=n[i],a=0;a<e.length;a++){var s=e[a];if(s&&""!==s){var l=o._private.classes[s];o._private.classes[s]=void 0,l&&r.push(o)}}return r.length>0&&new t.Collection(n._private.cy,r).updateStyle(),n.trigger("class"),n},flashClass:function(t,e){var n=this;if(null==e)e=250;else if(0===e)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},e),n}})}(cytoscape),function(t){"use strict";t.fn.eles({allAre:function(t){return this.filter(t).length===this.length},is:function(t){return this.filter(t).length>0},some:function(t,e){for(var n=0;n<this.length;n++){var r=e?t.apply(e,[this[n],n,this]):t(this[n],n,this);if(r)return!0}return!1},every:function(t,e){for(var n=0;n<this.length;n++){var r=e?t.apply(e,[this[n],n,this]):t(this[n],n,this);if(!r)return!1}return!0},same:function(t){return t=this.cy().collection(t),this.length!==t.length?!1:this.intersect(t).length===this.length},anySame:function(t){return t=this.cy().collection(t),this.intersect(t).length>0},allAreNeighbors:function(t){return t=this.cy().collection(t),this.neighborhood().intersect(t).length===t.length}}),t.elesfn.allAreNeighbours=t.elesfn.allAreNeighbors}(cytoscape),function(t){"use strict";t.fn.eles({parent:function(e){for(var n=[],r=this._private.cy,i=0;i<this.length;i++){var o=this[i],a=r.getElementById(o._private.data.parent);a.size()>0&&n.push(a)}return new t.Collection(r,n,{unique:!0}).filter(e)},parents:function(e){for(var n=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var o=r[i];n.push(o)}r=r.parent()}return new t.Collection(this.cy(),n,{unique:!0}).filter(e)},commonAncestors:function(t){for(var e,n=0;n<this.length;n++){var r=this[n],i=r.parents();e=e||i,e=e.intersect(i)}return e.filter(t)},orphans:function(t){return this.stdFilter(function(t){return t.isNode()&&t.parent().empty()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(t){return t.isNode()&&t.parent().nonempty()}).filter(t)},children:function(e){for(var n=[],r=0;r<this.length;r++){var i=this[r];n=n.concat(i._private.children)}return new t.Collection(this.cy(),n,{unique:!0}).filter(e)},siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];return t?0!==t._private.children.length:void 0},isChild:function(){var t=this[0];return t?void 0!==t._private.data.parent&&0!==t.parent().length:void 0},descendants:function(e){function n(t){for(var e=0;e<t.length;e++){var i=t[e];r.push(i),i.children().nonempty()&&n(i.children())}}var r=[];return n(this.children()),new t.Collection(this.cy(),r,{unique:!0}).filter(e)}}),t.elesfn.ancestors=t.elesfn.parents}(cytoscape),function(t){"use strict";var e=1,n=0;t.fn.eles({data:t.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:t.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:t.define.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:t.define.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:t.define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:t.define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];return t?t._private.data.id:void 0},position:t.define.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(t){var e=t.updateCompoundBounds();e.rtrigger("position")},canSet:function(t){return!t.locked()}}),silentPosition:t.define.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(t){t.updateCompoundBounds()},canSet:function(t){return!t.locked()}}),positions:function(e,n){if(t.is.plainObject(e))this.position(e);else if(t.is.fn(e)){for(var r=e,i=0;i<this.length;i++){var o=this[i],e=r.apply(o,[i,o]);if(e&&!o.locked()){var a=o._private.position;a.x=e.x,a.y=e.y}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;n?l.trigger("position"):l.rtrigger("position")}return this},silentPositions:function(t){return this.positions(t,!0)},updateCompoundBounds:function(){function e(t){var e=t.children(),n=t._private.style,i="include"===n["compound-sizing-wrt-labels"].value,o=e.boundingBox({includeLabels:i,includeEdges:!0}),a={top:n["padding-top"].pxValue,bottom:n["padding-bottom"].pxValue,left:n["padding-left"].pxValue,right:n["padding-right"].pxValue},s=t._private.position,l=!1;"auto"===n.width.value&&(t._private.autoWidth=o.w+a.left+a.right,s.x=(o.x1+o.x2-a.left+a.right)/2,l=!0),"auto"===n.height.value&&(t._private.autoHeight=o.h+a.top+a.bottom,s.y=(o.y1+o.y2-a.top+a.bottom)/2,l=!0),l&&r.push(t)}var n=this.cy();if(!n.styleEnabled()||!n.hasCompoundNodes())return n.collection();for(var r=[],i=this.parent();i.nonempty();){for(var o=0;o<i.length;o++){var a=i[o];e(a)}i=i.parent()}return new t.Collection(n,r)},renderedPosition:function(e,n){var r=this[0],i=this.cy(),o=i.zoom(),a=i.pan(),s=t.is.plainObject(e)?e:void 0,l=void 0!==s||void 0!==n&&t.is.string(e);if(r&&r.isNode()){if(!l){var u=r._private.position;return s={x:u.x*o+a.x,y:u.y*o+a.y},void 0===e?s:s[e]}for(var c=0;c<this.length;c++){var r=this[c];void 0!==n?r._private.position[e]=(n-a[e])/o:void 0!==s&&(r._private.position={x:(s.x-a.x)/o,y:(s.y-a.y)/o})}this.rtrigger("position")}else if(!l)return;return this},relativePosition:function(e,n){var r=this[0],i=this.cy(),o=t.is.plainObject(e)?e:void 0,a=void 0!==o||void 0!==n&&t.is.string(e),s=i.hasCompoundNodes();if(r&&r.isNode()){if(!a){var l=r._private.position,u=s?r.parent():null,c=u&&u.length>0,h=c;c&&(u=u[0]);var d=h?u._private.position:{x:0,y:0};return o={x:l.x-d.x,y:l.y-d.y},void 0===e?o:o[e]}for(var f=0;f<this.length;f++){var r=this[f],u=s?r.parent():null,c=u&&u.length>0,h=c;c&&(u=u[0]);var d=h?u._private.position:{x:0,y:0};void 0!==n?r._private.position[e]=n+d[e]:void 0!==o&&(r._private.position={x:o.x+d.x,y:o.y+d.y})}this.rtrigger("position")}else if(!a)return;return this},width:function(){var t=this[0],e=t._private.cy,n=e._private.styleEnabled;if(t){if(n){var r=t._private.style.width;return"auto"===r.strValue?t._private.autoWidth:r.pxValue}return 1}},outerWidth:function(){var t=this[0],r=t._private.cy,i=r._private.styleEnabled;if(t){if(i){var o=t._private.style,a="auto"===o.width.strValue?t._private.autoWidth:o.width.pxValue,s=o["border-width"]?o["border-width"].pxValue*e+n:0;return a+s}return 1}},renderedWidth:function(){var t=this[0];if(t){var e=t.width();return e*this.cy().zoom()}},renderedOuterWidth:function(){var t=this[0];if(t){var e=t.outerWidth();return e*this.cy().zoom()}},height:function(){var t=this[0],e=t._private.cy,n=e._private.styleEnabled;if(t&&"nodes"===t._private.group){if(n){var r=t._private.style.height;return"auto"===r.strValue?t._private.autoHeight:r.pxValue}return 1}},outerHeight:function(){var t=this[0],r=t._private.cy,i=r._private.styleEnabled;if(t&&"nodes"===t._private.group){if(!i)return 1;var o=t._private.style,a="auto"===o.height.strValue?t._private.autoHeight:o.height.pxValue,s=o["border-width"]?o["border-width"].pxValue*e+n:0;return a+s}},renderedHeight:function(){var t=this[0];if(t&&"nodes"===t._private.group){var e=t.height();return e*this.cy().zoom()}},renderedOuterHeight:function(){var t=this[0];if(t&&"nodes"===t._private.group){var e=t.outerHeight();return e*this.cy().zoom()}},renderedBoundingBox:function(t){var e=this.boundingBox(t),n=this.cy(),r=n.zoom(),i=n.pan(),o=e.x1*r+i.x,a=e.x2*r+i.x,s=e.y1*r+i.y,l=e.y2*r+i.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},boundingBox:function(t){var e=this,n=e._private.cy,r=n._private,i=r.styleEnabled;t=t||{};var o=void 0===t.includeNodes?!0:t.includeNodes,a=void 0===t.includeEdges?!0:t.includeEdges,s=void 0===t.includeLabels?!0:t.includeLabels;i&&r.renderer.recalculateRenderedStyle(this);for(var l=1/0,u=-(1/0),c=1/0,h=-(1/0),d=0;d<e.length;d++){var f,p,g,v,y,m,b=e[d],x=b._private,w=x.style,E=i?x.style.display.value:"element",_="nodes"===x.group,S=!1;if("none"!==E){if(_&&o){S=!0;var T=x.position;y=T.x,m=T.y;var C=b.outerWidth(),k=C/2,P=b.outerHeight(),D=P/2;f=y-k,p=y+k,g=m-D,v=m+D,l=l>f?f:l,u=p>u?p:u,c=c>g?g:c,h=v>h?v:h}else if(b.isEdge()&&a){S=!0;var M=x.source,N=M._private,A=N.position,I=x.target,O=I._private,B=O.position,L=x.rstyle||{};if(f=A.x,p=B.x,g=A.y,v=B.y,f>p){var R=f;f=p,p=R}if(g>v){var R=g;g=v,v=R}if(l=l>f?f:l,u=p>u?p:u,c=c>g?g:c,h=v>h?v:h,i)for(var j=L.bezierPts||[],C=w.width.pxValue,$=C/2,z=0;z<j.length;z++){var F=j[z];f=F.x-$,p=F.x+$,g=F.y-$,v=F.y+$,l=l>f?f:l,u=p>u?p:u,c=c>g?g:c,h=v>h?v:h}if(i&&"haystack"===w["curve-style"].strValue){var q=x.rscratch.haystackPts;if(f=q[0],g=q[1],p=q[2],v=q[3],f>p){var R=f;f=p,p=R}if(g>v){var R=g;g=v,v=R}l=l>f?f:l,u=p>u?p:u,c=c>g?g:c,h=v>h?v:h}}if(i){var w=b._private.style,L=b._private.rstyle,H=w.content.strValue,Y=w["font-size"],X=w["text-halign"],V=w["text-valign"],U=L.labelWidth,W=L.labelHeight,G=L.labelX,Z=L.labelY;if(S&&s&&H&&Y&&null!=W&&null!=U&&null!=G&&null!=Z&&X&&V){var K,J,Q,tt,et=W,nt=U;if(b.isEdge())K=G-nt/2,J=G+nt/2,Q=Z-et/2,tt=Z+et/2;else{switch(X.value){case"left":K=G-nt,J=G;break;case"center":K=G-nt/2,J=G+nt/2;break;case"right":K=G,J=G+nt}switch(V.value){case"top":Q=Z-et,tt=Z;break;case"center":Q=Z-et/2,tt=Z+et/2;break;case"bottom":Q=Z,tt=Z+et}}l=l>K?K:l,u=J>u?J:u,c=c>Q?Q:c,h=tt>h?tt:h}}}}var rt=function(t){return t===1/0||t===-(1/0)?0:t};return l=rt(l),u=rt(u),c=rt(c),h=rt(h),{x1:l,x2:u,y1:c,y2:h,w:u-l,h:h-c}}});var r=t.elesfn;r.attr=r.data,r.removeAttr=r.removeData,r.modelPosition=r.point=r.position,r.modelPositions=r.points=r.positions,r.renderedPoint=r.renderedPosition,r.relativePoint=r.relativePosition,r.boundingbox=r.boundingBox,r.renderedBoundingbox=r.renderedBoundingBox}(cytoscape),function(t){"use strict";function e(t){return function(e){var n=this;if(void 0===e&&(e=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,i=n[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!e&&s.isLoop()||(r+=t(i,s))}return r}}}function n(t,e){return function(n){for(var r,i=this.nodes(),o=0;o<i.length;o++){var a=i[o],s=a[t](n);void 0===s||void 0!==r&&!e(s,r)||(r=s)}return r}}t.fn.eles({degree:e(function(t,e){return e.source().same(e.target())?2:1}),indegree:e(function(t,e){return e.target().same(t)?1:0}),outdegree:e(function(t,e){return e.source().same(t)?1:0})}),t.fn.eles({minDegree:n("degree",function(t,e){return e>t}),maxDegree:n("degree",function(t,e){return t>e}),minIndegree:n("indegree",function(t,e){return e>t}),maxIndegree:n("indegree",function(t,e){return t>e}),minOutdegree:n("outdegree",function(t,e){return e>t}),maxOutdegree:n("outdegree",function(t,e){return t>e})}),t.fn.eles({totalDegree:function(t){for(var e=0,n=this.nodes(),r=0;r<n.length;r++)e+=n[r].degree(t);return e}})}(cytoscape),function(t){"use strict";t.fn.eles({on:t.define.on(),one:t.define.on({unbindSelfOnTrigger:!0}),once:t.define.on({unbindAllBindersOnTrigger:!0}),off:t.define.off(),trigger:t.define.trigger(),rtrigger:function(t,e){return 0!==this.length?(this.cy().notify({type:t,collection:this}),this.trigger(t,e),this):void 0}}),t.define.eventAliasesOn(t.elesfn)}(cytoscape),function(t){"use strict";t.fn.eles({nodes:function(t){return this.filter(function(t,e){return e.isNode()}).filter(t)},edges:function(t){return this.filter(function(t,e){return e.isEdge()}).filter(t)},filter:function(e){var n=this._private.cy;if(t.is.fn(e)){for(var r=[],i=0;i<this.length;i++){var o=this[i];e.apply(o,[i,o])&&r.push(o)}return new t.Collection(n,r)}return t.is.string(e)||t.is.elementOrCollection(e)?new t.Selector(e).filter(this):void 0===e?this:new t.Collection(n)},not:function(e){var n=this._private.cy;if(e){t.is.string(e)&&(e=this.filter(e));for(var r=[],i=0;i<this.length;i++){var o=this[i],a=e._private.ids[o.id()];a||r.push(o)}return new t.Collection(n,r)}return this},absoluteComplement:function(){var t=this._private.cy;return t.elements().not(this)},intersect:function(e){var n=this._private.cy;if(t.is.string(e)){var r=e;return this.filter(r)}for(var i=[],o=this,a=e,s=this.length<e.length,l=s?a._private.ids:o._private.ids,u=s?o:a,c=0;c<u.length;c++){var h=u[c]._private.data.id,d=l[h];d&&i.push(d)}return new t.Collection(n,i)},xor:function(e){var n=this._private.cy;t.is.string(e)&&(e=n.$(e));var r=[],i=this,o=e,a=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=i._private.data.id,a=e._private.ids[o];a||r.push(i)}};return a(i,o),a(o,i),new t.Collection(n,r)},diff:function(e){var n=this._private.cy;t.is.string(e)&&(e=n.$(e));var r=[],i=[],o=[],a=this,s=e,l=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],a=i._private.data.id,s=e._private.ids[a];s?o.push(i):n.push(i)}};return l(a,s,r),l(s,a,i),{left:new t.Collection(n,r,{unique:!0}),right:new t.Collection(n,i,{unique:!0}),both:new t.Collection(n,o,{unique:!0})}},add:function(e){var n=this._private.cy;if(!e)return this;if(t.is.string(e)){var r=e;e=n.elements(r)}for(var i=[],o=0;o<this.length;o++)i.push(this[o]);for(var o=0;o<e.length;o++){var a=!this._private.ids[e[o].id()];a&&i.push(e[o])}return new t.Collection(n,i)},merge:function(e){var n=this._private,r=n.cy;if(!e)return this;if(t.is.string(e)){var i=e;e=r.elements(i)}for(var o=0;o<e.length;o++){var a=e[o],s=a.id(),l=!n.ids[s];if(l){var u=this.length++;this[u]=a,n.ids[s]=a,n.indexes[s]=u}}return this},unmergeOne:function(t){t=t[0];var e=this._private,n=t.id(),r=e.indexes[n];if(null==r)return this;this[r]=void 0,e.ids[n]=void 0,e.indexes[n]=void 0;var i=r===this.length-1;if(this.length>1&&!i){var o=this.length-1,a=this[o];this[o]=void 0,this[r]=a,e.indexes[a.id()]=r}return this.length--,this},unmerge:function(e){var n=this._private.cy;if(!e)return this;if(t.is.string(e)){var r=e;e=n.elements(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},map:function(t,e){for(var n=[],r=this,i=0;i<r.length;i++){var o=r[i],a=e?t.apply(e,[o,i,r]):t(o,i,r);n.push(a)}return n},stdFilter:function(e,n){for(var r=[],i=this,o=this._private.cy,a=0;a<i.length;a++){var s=i[a],l=n?e.apply(n,[s,a,i]):e(s,a,i);l&&r.push(s)}return new t.Collection(o,r)},max:function(t,e){for(var n,r=-(1/0),i=this,o=0;o<i.length;o++){var a=i[o],s=e?t.apply(e,[a,o,i]):t(a,o,i);s>r&&(r=s,n=a)}return{value:r,ele:n}},min:function(t,e){for(var n,r=1/0,i=this,o=0;o<i.length;o++){var a=i[o],s=e?t.apply(e,[a,o,i]):t(a,o,i);r>s&&(r=s,n=a)}return{value:r,ele:n}}});var e=t.elesfn;e.u=e["|"]=e["+"]=e.union=e.or=e.add,e["\\"]=e["!"]=e["-"]=e.difference=e.relativeComplement=e.not,e.n=e["&"]=e["."]=e.and=e.intersection=e.intersect,e["^"]=e["(+)"]=e["(-)"]=e.symmetricDifference=e.symdiff=e.xor,e.fnFilter=e.filterFn=e.stdFilter,e.complement=e.abscomp=e.absoluteComplement}(cytoscape),function(t){"use strict";t.fn.eles({isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var t=this[0];return t?t._private.group:void 0}})}(cytoscape),function(t){"use strict";t.fn.eles({each:function(e){if(t.is.fn(e))for(var n=0;n<this.length;n++){var r=this[n],i=e.apply(r,[n,r]);if(i===!1)break}return this},forEach:function(e,n){if(t.is.fn(e))for(var r=0;r<this.length;r++){var i=this[r],o=n?e.apply(n,[i,r,this]):e(i,r,this);if(o===!1)break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(e,n){var r=[],i=this.length;null==n&&(n=i),null==e&&(e=0),0>e&&(e=i+e),0>n&&(n=i+n);for(var o=e;o>=0&&n>o&&i>o;o++)r.push(this[o]);return new t.Collection(this.cy(),r)},size:function(){return this.length},eq:function(e){return this[e]||new t.Collection(this.cy())},first:function(){return this[0]||new t.Collection(this.cy())},last:function(){return this[this.length-1]||new t.Collection(this.cy())},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!t.is.fn(e))return this;var n=this.cy(),r=this.toArray().sort(e);return new t.Collection(n,r)},sortByZIndex:function(){return this.sort(t.Collection.zIndexSort)},zDepth:function(){var t=this[0];if(t){var e=t._private,n=e.group;if("nodes"===n){var r=e.data.parent?t.parents().size():0;return t.isParent()?r:Number.MAX_VALUE}var i=e.source,o=e.target,a=i.zDepth(),s=o.zDepth();return Math.max(a,s,0)}}}),t.Collection.zIndexSort=function(t,e){var n=t.cy(),r=t._private,i=e._private,o=r.style["z-index"].value-i.style["z-index"].value,a=0,s=0,l=n.hasCompoundNodes(),u="nodes"===r.group,c="edges"===r.group,h="nodes"===i.group,d="edges"===i.group;l&&(a=t.zDepth(),s=e.zDepth());var f=a-s,p=0===f;return p?u&&d?1:c&&h?-1:0===o?r.index-i.index:o:f}}(cytoscape),function(t){"use strict";t.fn.eles({layoutPositions:function(e,n,r){var i=this.nodes(),o=this.cy();if(e.trigger({type:"layoutstart",layout:e}),n.animate){for(var a=0;a<i.length;a++){var s=i[a],l=a===i.length-1,u=r.call(s,a,s),c=s.position();t.is.number(c.x)&&t.is.number(c.y)||s.silentPosition({x:0,y:0}),s.animate({position:u},{duration:n.animationDuration,step:l?function(){n.fit&&o.fit(n.eles,n.padding)}:void 0,complete:l?function(){null!=n.zoom&&o.zoom(n.zoom),n.pan&&o.pan(n.pan),n.fit&&o.fit(n.eles,n.padding),e.one("layoutstop",n.stop),e.trigger({type:"layoutstop",layout:e})}:void 0})}e.one("layoutready",n.ready),e.trigger({type:"layoutready",layout:e})}else i.positions(r),n.fit&&o.fit(n.eles,n.padding),null!=n.zoom&&o.zoom(n.zoom),n.pan&&o.pan(n.pan),e.one("layoutready",n.ready),e.trigger({type:"layoutready",layout:e}),e.one("layoutstop",n.stop),e.trigger({type:"layoutstop",layout:e});return this},layout:function(e){var n=this.cy();return n.layout(t.util.extend({},e,{eles:this})),this},makeLayout:function(e){var n=this.cy();return n.makeLayout(t.util.extend({},e,{eles:this}))}}),t.elesfn.createLayout=t.elesfn.makeLayout}(cytoscape),function(t){"use strict";t.fn.eles({updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e._private.batchingStyle){for(var n=e._private.batchStyleEles,r=0;r<this.length;r++){var i=this[r];n.ids[i._private.id]||n.push(i)}return this}var o=e.style();t=!(!t&&void 0!==t),o.apply(this);var a=this.updateCompoundBounds(),s=a.length>0?this.add(a):this;return t?s.rtrigger("style"):s.trigger("style"),this},updateMappers:function(t){var e=this._private.cy,n=e.style();if(t=!(!t&&void 0!==t),!e.styleEnabled())return this;n.updateMappers(this);var r=this.updateCompoundBounds(),i=r.length>0?this.add(r):this;return t?i.rtrigger("style"):i.trigger("style"),this},renderedCss:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=this[0];if(n){var r=n.cy().style().getRenderedStyle(n);return void 0===t?r:r[t]}},css:function(e,n){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,o=r.style();if(t.is.plainObject(e)){var a=e;o.applyBypass(this,a,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(t.is.string(e)){if(void 0===n){var u=this[0];return u?u._private.style[e].strValue:void 0}o.applyBypass(this,e,n,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(void 0===e){var u=this[0];return u?o.getRawStyle(u):void 0}return this},removeCss:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=!1,r=e.style(),i=this;if(void 0===t)for(var o=0;o<i.length;o++){var a=i[o];r.removeAllBypasses(a,n)}else{t=t.split(/\s+/);for(var o=0;o<i.length;o++){var a=i[o];r.removeBypasses(a,t,n)}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;return l.rtrigger("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var t=this.cy();if(!t.styleEnabled())return!0;var e=this[0],n=t.hasCompoundNodes();if(e){var r=e._private.style;if("visible"!==r.visibility.value||"element"!==r.display.value)return!1;if("nodes"===e._private.group){if(!n)return!0;var i=e._private.data.parent?e.parents():null;if(i)for(var o=0;o<i.length;o++){var a=i[o],s=a._private.style,l=s.visibility.value,u=s.display.value;if("visible"!==l||"element"!==u)return!1}return!0}var c=e._private.source,h=e._private.target;return c.visible()&&h.visible()}},hidden:function(){var t=this[0];return t?!t.visible():void 0},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=r.style.opacity.value;if(!e)return i;var o=r.data.parent?n.parents():null;if(o)for(var a=0;a<o.length;a++){var s=o[a],l=s._private.style.opacity.value;i=l*i}return i}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0],n=e.cy().hasCompoundNodes();return e?n?0===e.effectiveOpacity():0===e._private.style.opacity.value:void 0},isFullAutoParent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0];if(e){var n="auto"===e._private.style.width.value,r="auto"===e._private.style.height.value;return e.isParent()&&n&&r}},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0];return!!e._private.backgrounding}}),t.elesfn.bypass=t.elesfn.style=t.elesfn.css,t.elesfn.renderedStyle=t.elesfn.renderedCss,t.elesfn.removeBypass=t.elesfn.removeStyle=t.elesfn.removeCss}(cytoscape),function(t){"use strict";function e(e){return function(){var n=arguments,r=[];if(2===n.length){var i=n[0],o=n[1];this.bind(e.event,i,o)}else if(1===n.length){var o=n[0];this.bind(e.event,o)}else if(0===n.length){for(var a=0;a<this.length;a++){var s=this[a],l=!e.ableField||s._private[e.ableField],u=s._private[e.field]!=e.value;if(e.overrideAble){var c=e.overrideAble(s);if(void 0!==c&&(l=c,!c))return this}l&&(s._private[e.field]=e.value,u&&r.push(s))}var h=t.Collection(this.cy(),r);h.updateStyle(),h.trigger(e.event)}return this}}function n(n){t.elesfn[n.field]=function(){var t=this[0];if(t){if(n.overrideField){var e=n.overrideField(t);if(void 0!==e)return e}return t._private[n.field]}},t.elesfn[n.on]=e({event:n.on,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!0}),t.elesfn[n.off]=e({event:n.off,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!1})}n({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"}),n({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()?!1:void 0},on:"grabify",off:"ungrabify"}),n({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"}),n({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"}),t.elesfn.deselect=t.elesfn.unselect,t.elesfn.grabbed=function(){var t=this[0];return t?t._private.grabbed:void 0},n({field:"active",on:"activate",off:"unactivate"}),t.elesfn.inactive=function(){var t=this[0];return t?!t._private.active:void 0}}(cytoscape),function(t){"use strict";function e(e){return function(n){for(var r=[],i=this._private.cy,o=0;o<this.length;o++){var a=this[o],s=a._private[e.attr];s&&r.push(s)}return new t.Collection(i,r,{unique:!0}).filter(n)}}function n(e){return function(n){var r=[],i=this._private.cy,o=e||{};t.is.string(n)&&(n=i.$(n));for(var a=this._private.ids,s=n._private.ids,l=0;l<n.length;l++)for(var u=n[l]._private.edges,c=0;c<u.length;c++){var h=u[c],d=h._private.data,f=a[d.source]&&s[d.target],p=s[d.source]&&a[d.target],g=f||p;if(g){if(o.thisIs){if("source"===o.thisIs&&!f)continue;if("target"===o.thisIs&&!p)continue}r.push(h)}}return new t.Collection(i,r,{unique:!0})}}function r(e){var n={codirected:!1};return e=t.util.extend({},n,e),function(n){for(var r=this._private.cy,i=[],o=this.edges(),a=e,s=0;s<o.length;s++)for(var l=o[s],u=l.source()[0],c=u.id(),h=l.target()[0],d=h.id(),f=u._private.edges,p=0;p<f.length;p++){var g=f[p],v=g._private.data,y=v.target,m=v.source,b=y===d&&m===c,x=c===y&&d===m;(a.codirected&&b||!a.codirected&&(b||x))&&i.push(g)}return new t.Collection(r,i,{unique:!0}).filter(n)}}t.fn.eles({roots:function(e){for(var n=this,r=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode()){var a=o.connectedEdges(function(){return this.data("target")===o.id()&&this.data("source")!==o.id()}).length>0;a||r.push(o)}}return new t.Collection(this._private.cy,r,{unique:!0}).filter(e)},leaves:function(e){for(var n=this,r=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode()){var a=o.connectedEdges(function(){return this.data("source")===o.id()&&this.data("target")!==o.id()}).length>0;a||r.push(o)}}return new t.Collection(this._private.cy,r,{unique:!0}).filter(e)},outgoers:function(e){for(var n=this,r=[],i=0;i<n.length;i++){var o=n[i],a=o.id();if(o.isNode())for(var s=o._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data.source,h=u._private.data.target;c===a&&h!==a&&(r.push(u),r.push(u.target()[0]));
}}return new t.Collection(this._private.cy,r,{unique:!0}).filter(e)},successors:function(e){for(var n=this,r=[],i={};;){var o=n.outgoers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();i[u]||(i[u]=!0,r.push(l),a=!0)}if(!a)break;n=o}return new t.Collection(this._private.cy,r,{unique:!0}).filter(e)},incomers:function(e){for(var n=this,r=[],i=0;i<n.length;i++){var o=n[i],a=o.id();if(o.isNode())for(var s=o._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data.source,h=u._private.data.target;h===a&&c!==a&&(r.push(u),r.push(u.source()[0]))}}return new t.Collection(this._private.cy,r,{unique:!0}).filter(e)},predecessors:function(e){for(var n=this,r=[],i={};;){var o=n.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();i[u]||(i[u]=!0,r.push(l),a=!0)}if(!a)break;n=o}return new t.Collection(this._private.cy,r,{unique:!0}).filter(e)}}),t.fn.eles({neighborhood:function(e){for(var n=[],r=this._private.cy,i=this.nodes(),o=0;o<i.length;o++)for(var a=i[o],s=a.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.connectedNodes().not(a);c.length>0&&n.push(c[0]),n.push(u[0])}return new t.Collection(r,n,{unique:!0}).filter(e)},closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),t.elesfn.neighbourhood=t.elesfn.neighborhood,t.elesfn.closedNeighbourhood=t.elesfn.closedNeighborhood,t.elesfn.openNeighbourhood=t.elesfn.openNeighborhood,t.fn.eles({source:function(t){var e,n=this[0];return n&&(e=n._private.source),e&&t?e.filter(t):e},target:function(t){var e,n=this[0];return n&&(e=n._private.target),e&&t?e.filter(t):e},sources:e({attr:"source"}),targets:e({attr:"target"})}),t.fn.eles({edgesWith:n(),edgesTo:n({thisIs:"source"})}),t.fn.eles({connectedEdges:function(e){for(var n=[],r=this._private.cy,i=this,o=0;o<i.length;o++){var a=i[o];if(a.isNode())for(var s=a._private.edges,l=0;l<s.length;l++){var u=s[l];n.push(u)}}return new t.Collection(r,n,{unique:!0}).filter(e)},connectedNodes:function(e){for(var n=[],r=this._private.cy,i=this,o=0;o<i.length;o++){var a=i[o];a.isEdge()&&(n.push(a.source()[0]),n.push(a.target()[0]))}return new t.Collection(r,n,{unique:!0}).filter(e)},parallelEdges:r(),codirectedEdges:r({codirected:!0})})}(cytoscape),function(t){"use strict";t.fn.eles({fit:function(){},center:function(){}})}(cytoscape),function(t){"use strict";t.Minheap=function(e,n,r){return new t.Heap(e,n,t.Heap.minHeapComparator,r)},t.Maxheap=function(e,n,r){return new t.Heap(e,n,t.Heap.maxHeapComparator,r)},t.Heap=function(e,n,r,i){if("undefined"!=typeof r&&"undefined"!=typeof n){"undefined"==typeof i&&(i=t.Heap.idFn);var o,a,s,l=[],u={},c=[],h=0;for(n=this.getArgumentAsCollection(n,e),s=n.length,h=0;s>h;h+=1){if(l.push(i.call(e,n[h],h,n)),o=n[h].id(),u.hasOwnProperty(o))throw"ERROR: Multiple items with the same id found: "+o;u[o]=h,c.push(o)}for(this._private={cy:e,heap:l,pointers:u,elements:c,comparator:r,extractor:i,length:s},h=Math.floor(s/2);h>=0;h-=1)a=this.heapify(h);return a}},t.Heap.idFn=function(t){return t.id()},t.Heap.minHeapComparator=function(t,e){return t>=e},t.Heap.maxHeapComparator=function(t,e){return e>=t},t.fn.heap=function(e,n){for(var r in e){var i=e[r];t.Heap.prototype[r]=i}},t.heapfn=t.Heap.prototype,t.heapfn.size=function(){return this._private.length},t.heapfn.getArgumentAsCollection=function(e,n){var r;if("undefined"==typeof n&&(n=this._private.cy),t.is.elementOrCollection(e))r=e;else{for(var i=[],o=[].concat.apply([],[e]),a=0;a<o.length;a++){var s=o[a],l=n.getElementById(s);l.length>0&&i.push(l)}r=new t.Collection(n,i)}return r},t.heapfn.isHeap=function(){var t,e,n,r,i,o=this._private.heap,a=o.length,s=this._private.comparator;for(t=0;a>t;t+=1)if(e=2*t+1,n=e+1,r=a>e?s(o[e],o[t]):!0,i=a>n?s(o[n],o[t]):!0,!r||!i)return!1;return!0},t.heapfn.heapSwap=function(t,e){var n=this._private.heap,r=this._private.pointers,i=this._private.elements,o=n[t],a=i[t],s=i[t],l=i[e];n[t]=n[e],i[t]=i[e],r[s]=e,r[l]=t,n[e]=o,i[e]=a},t.heapfn.heapify=function(t,e){var n,r,i,o,a,s,l,u=0,c=!1;for("undefined"==typeof e&&(e=!0),n=this._private.heap,u=n.length,s=this._private.comparator,r=t;!c;)e?(i=2*r+1,o=i+1,a=r,u>i&&!s(n[i],n[a])&&(a=i),u>o&&!s(n[o],n[a])&&(a=o),c=a===r,c||(this.heapSwap(a,r),r=a)):(l=Math.floor((r-1)/2),a=r,c=0>l||s(n[a],n[l]),c||(this.heapSwap(a,l),r=l))},t.heapfn.insert=function(t){var e,n,r,i,o,a=this.getArgumentAsCollection(t),s=a.length;for(o=0;s>o;o+=1){if(e=a[o],n=this._private.heap.length,r=this._private.extractor(e),i=e.id(),this._private.pointers.hasOwnProperty(i))throw"ERROR: Multiple items with the same id found: "+i;this._private.heap.push(r),this._private.elements.push(i),this._private.pointers[i]=n,this.heapify(n,!1)}this._private.length=this._private.heap.length},t.heapfn.getValueById=function(t){if(this._private.pointers.hasOwnProperty(t)){var e=this._private.pointers[t];return this._private.heap[e]}},t.heapfn.contains=function(t){for(var e=this.getArgumentAsCollection(t),n=0;n<e.length;n+=1){var r=e[n].id();if(!this._private.pointers.hasOwnProperty(r))return!1}return!0},t.heapfn.top=function(){return this._private.length>0?{value:this._private.heap[0],id:this._private.elements[0]}:void 0},t.heapfn.pop=function(){if(this._private.length>0){var t,e,n,r=this.top(),i=this._private.length-1;return this.heapSwap(0,i),t=this._private.elements[i],e=this._private.heap[i],n=t,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[n]=void 0,this.heapify(0),r}},t.heapfn.findDirectionHeapify=function(t){var e=Math.floor((t-1)/2),n=this._private.heap,r=0>e||this._private.comparator(n[t],n[e]);this.heapify(t,r)},t.heapfn.edit=function(e,n){for(var r=this.getArgumentAsCollection(e),i=0;i<r.length;i+=1){var o=r[i].id(),a=this._private.pointers[o],s=this._private.heap[a];t.is.number(n)?this._private.heap[a]=n:t.is.fn(n)&&(this._private.heap[a]=n.call(this._private.cy,s,a)),this.findDirectionHeapify(a)}},t.heapfn.remove=function(t){for(var e=this.getArgumentAsCollection(t),n=0;n<e.length;n+=1){var r,i,o,a=e[n].id(),s=this._private.pointers[a],l=this._private.length-1;s!==l&&this.heapSwap(s,l),r=this._private.elements[l],i=this._private.heap[l],o=r,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[o]=void 0,this.findDirectionHeapify(s)}return i}}(cytoscape),function(t){"use strict";function e(t){this.options=t,this.data={select:[void 0,void 0,void 0,void 0,0],renderer:this,cy:t.cy,container:t.cy.container(),canvases:new Array(e.CANVAS_LAYERS),contexts:new Array(e.CANVAS_LAYERS),canvasNeedsRedraw:new Array(e.CANVAS_LAYERS),bufferCanvases:new Array(e.BUFFER_COUNT),bufferContexts:new Array(e.CANVAS_LAYERS)},this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},this.timeoutData={panTimeout:null},this.dragData={possibleDragElements:[]},this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},this.zoomData={freeToZoom:!1,lastPointerX:null},this.redraws=0,this.showFps=t.showFps,this.bindings=[],this.data.canvasContainer=document.createElement("div");var n=this.data.canvasContainer.style;n.position="absolute",n.zIndex="0",n.overflow="hidden",this.data.container.appendChild(this.data.canvasContainer);for(var r=0;r<e.CANVAS_LAYERS;r++)this.data.canvases[r]=document.createElement("canvas"),this.data.contexts[r]=this.data.canvases[r].getContext("2d"),this.data.canvases[r].style.position="absolute",this.data.canvases[r].setAttribute("data-id","layer"+r),this.data.canvases[r].style.zIndex=String(e.CANVAS_LAYERS-r),this.data.canvasContainer.appendChild(this.data.canvases[r]),this.data.canvasNeedsRedraw[r]=!1;this.data.topCanvas=this.data.canvases[0],this.data.canvases[e.NODE].setAttribute("data-id","layer"+e.NODE+"-node"),this.data.canvases[e.SELECT_BOX].setAttribute("data-id","layer"+e.SELECT_BOX+"-selectbox"),this.data.canvases[e.DRAG].setAttribute("data-id","layer"+e.DRAG+"-drag");for(var r=0;r<e.BUFFER_COUNT;r++)this.data.bufferCanvases[r]=document.createElement("canvas"),this.data.bufferContexts[r]=this.data.bufferCanvases[r].getContext("2d"),this.data.bufferCanvases[r].style.position="absolute",this.data.bufferCanvases[r].setAttribute("data-id","buffer"+r),this.data.bufferCanvases[r].style.zIndex=String(-r-1),this.data.bufferCanvases[r].style.visibility="hidden";this.hideEdgesOnViewport=t.hideEdgesOnViewport,this.hideLabelsOnViewport=t.hideLabelsOnViewport,this.textureOnViewport=t.textureOnViewport,this.wheelSensitivity=t.wheelSensitivity,this.motionBlurEnabled=t.motionBlur,this.forcedPixelRatio=t.pixelRatio,this.motionBlur=!0,this.motionBlurOpacity=t.motionBlurOpacity,this.motionBlurTransparency=1-this.motionBlurOpacity,this.motionBlurPxRatio=1,this.mbPxRBlurry=1,this.minMbLowQualFrames=4,this.fullQualityMb=!1,this.clearedForMotionBlur=[],this.desktopTapThreshold=t.desktopTapThreshold,this.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,this.touchTapThreshold=t.touchTapThreshold,this.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,this.tapholdDuration=500,this.load()}e.CANVAS_LAYERS=3,e.SELECT_BOX=0,e.DRAG=1,e.NODE=2,e.BUFFER_COUNT=3,e.TEXTURE_BUFFER=0,e.MOTIONBLUR_BUFFER_NODE=1,e.MOTIONBLUR_BUFFER_DRAG=2,e.panOrBoxSelectDelay=400;var n="undefined"!=typeof Path2D;e.usePaths=function(){return n},e.prototype.notify=function(n){var r;r=t.is.array(n.type)?n.type:[n.type];for(var i=0;i<r.length;i++){var o=r[i];switch(o){case"destroy":return void this.destroy();case"add":case"remove":case"load":this.updateNodesCache(),this.updateEdgesCache();break;case"viewport":this.data.canvasNeedsRedraw[e.SELECT_BOX]=!0;break;case"style":this.updateCachedZSortedEles()}"load"!==o&&"resize"!==o||(this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.data.container))}this.data.canvasNeedsRedraw[e.NODE]=!0,this.data.canvasNeedsRedraw[e.DRAG]=!0,this.redraw()},e.prototype.destroy=function(){this.destroyed=!0;for(var t=0;t<this.bindings.length;t++){var e=this.bindings[t],n=e;n.target.removeEventListener(n.event,n.handler,n.useCapture)}if(this.removeObserver&&this.removeObserver.disconnect(),this.labelCalcDiv)try{document.body.removeChild(this.labelCalcDiv)}catch(r){}};for(var r in t.math)e.prototype[r]=t.math[r];t("renderer","canvas",e)}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype,r=e.arrowShapes={};e.arrowShapeHeight=.3;var i=function(t,e,n,r,i,o,a,s){var l=n-i/2,u=n+i/2,c=r-o/2,h=r+o/2;return t>=l&&u>=t&&e>=c&&h>=e},o=function(t,e,n,r,i){r=-r;var o=t*Math.cos(r)-e*Math.sin(r),a=t*Math.sin(r)+e*Math.cos(r),s=o*n,l=a*n,u=s+i.x,c=l+i.y;return{x:u,y:c}};r.arrow={_points:[-.15,-.3,0,0,.15,-.3],collide:function(e,n,i,o,a,s,l,u){var c=r.arrow._points;return t.math.pointInsidePolygon(e,n,c,i,o,a,s,l,u)},roughCollide:i,draw:function(t,e,n,i){for(var a=r.arrow._points,s=0;s<a.length/2;s++){var l=o(a[2*s],a[2*s+1],e,n,i);t.lineTo(l.x,l.y)}},spacing:function(t){return 0},gap:function(t){return 2*t._private.style.width.pxValue}},r.triangle=r.arrow,r["triangle-backcurve"]={_ctrlPt:[0,-.15],collide:function(e,n,i,o,a,s,l,u){var c=r.triangle._points;return t.math.pointInsidePolygon(e,n,c,i,o,a,s,l,u)},roughCollide:i,draw:function(t,e,n,i){for(var a,s=r.triangle._points,l=0;l<s.length/2;l++){var u=o(s[2*l],s[2*l+1],e,n,i);0===l&&(a=u),t.lineTo(u.x,u.y)}var c=this._ctrlPt,h=o(c[0],c[1],e,n,i);t.quadraticCurveTo(h.x,h.y,a.x,a.y)},spacing:function(t){return 0},gap:function(t){return 2*t._private.style.width.pxValue}},r["triangle-tee"]={_points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],_pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,n,i,o,a,s,l,u){var c=r["triangle-tee"]._points,h=r["triangle-tee"]._pointsTee,d=t.math.pointInsidePolygon(e,n,h,i,o,a,s,l,u)||t.math.pointInsidePolygon(e,n,c,i,o,a,s,l,u);return d},roughCollide:i,draw:function(t,e,n,i){for(var a=r["triangle-tee"]._points,s=0;s<a.length/2;s++){var l=o(a[2*s],a[2*s+1],e,n,i);t.lineTo(l.x,l.y)}var u=r["triangle-tee"]._pointsTee,c=o(u[0],u[1],e,n,i);t.moveTo(c.x,c.y);for(var s=0;s<u.length/2;s++){var l=o(u[2*s],u[2*s+1],e,n,i);t.lineTo(l.x,l.y)}},spacing:function(t){return 0},gap:function(t){return 2*t._private.style.width.pxValue}},r["half-triangle-overshot"]={_points:[0,-.25,-.5,-.25,.5,.25],leavePathOpen:!0,matchEdgeWidth:!0,collide:function(e,n,r,i,o,a,s,l){var u=this._points;return t.math.pointInsidePolygon(e,n,u,r,i,o,a,s,l)},roughCollide:i,draw:function(t,e,n,r){for(var i=this._points,a=0;a<i.length/2;a++){var s=o(i[2*a],i[2*a+1],e,n,r);t.lineTo(s.x,s.y)}},spacing:function(t){return 0},gap:function(t){return 2*t._private.style.width.pxValue}},r.none={collide:function(t,e,n,r,i,o,a,s){return!1},roughCollide:function(t,e,n,r,i,o,a,s){return!1},draw:function(t){},spacing:function(t){return 0},gap:function(t){return 0}},r.circle={_baseRadius:.15,collide:function(t,e,n,i,o,a,s,l){if(o!=a){var u=(a+l)/(o+l);return e/=u,i/=u,Math.pow(n-t,2)+Math.pow(i-e,2)<=Math.pow((o+l)*r.circle._baseRadius,2)}return Math.pow(n-t,2)+Math.pow(i-e,2)<=Math.pow((o+l)*r.circle._baseRadius,2)},roughCollide:i,draw:function(t,e,n,i){t.arc(i.x,i.y,r.circle._baseRadius*e,0,2*Math.PI,!1)},spacing:function(t){return n.getArrowWidth(t._private.style.width.pxValue)*r.circle._baseRadius},gap:function(t){return 2*t._private.style.width.pxValue}},r.inhibitor={_points:[-.25,0,-.25,-.1,.25,-.1,.25,0],collide:function(e,n,i,o,a,s,l,u){var c=r.inhibitor._points;return t.math.pointInsidePolygon(e,n,c,i,o,a,s,l,u)},roughCollide:i,draw:function(t,e,n,i){for(var a=r.inhibitor._points,s=0;s<a.length/2;s++){var l=o(a[2*s],a[2*s+1],e,n,i);t.lineTo(l.x,l.y)}},spacing:function(t){return 1},gap:function(t){return 1}},r.tee=r.inhibitor,r.square={_points:[-.15,0,.15,0,.15,-.3,-.15,-.3],collide:function(e,n,i,o,a,s,l,u){var c=r.square._points;return t.math.pointInsidePolygon(e,n,c,i,o,a,s,l,u)},roughCollide:i,draw:function(t,e,n,i){for(var a=r.square._points,s=0;s<a.length/2;s++){var l=o(a[2*s],a[2*s+1],e,n,i);t.lineTo(l.x,l.y)}},spacing:function(t){return 0},gap:function(t){return 2*t._private.style.width.pxValue}},r.diamond={_points:[-.15,-.15,0,-.3,.15,-.15,0,0],collide:function(e,n,i,o,a,s,l,u){var c=r.diamond._points;return t.math.pointInsidePolygon(e,n,c,i,o,a,s,l,u)},roughCollide:i,draw:function(t,e,n,i){for(var a=r.diamond._points,s=0;s<a.length/2;s++){var l=o(a[2*s],a[2*s+1],e,n,i);t.lineTo(l.x,l.y)}},spacing:function(t){return 0},gap:function(t){return t._private.style.width.pxValue}}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.getCachedNodes=function(){var t=this.data,e=this.data.cy;return null==t.cache&&(t.cache={}),null==t.cache.cachedNodes&&(t.cache.cachedNodes=e.nodes()),t.cache.cachedNodes},n.updateNodesCache=function(){var t=this.data,e=this.data.cy;null==t.cache&&(t.cache={}),t.cache.cachedNodes=e.nodes()},n.getCachedEdges=function(){var t=this.data,e=this.data.cy;return null==t.cache&&(t.cache={}),null==t.cache.cachedEdges&&(t.cache.cachedEdges=e.edges()),t.cache.cachedEdges},n.updateEdgesCache=function(){var t=this.data,e=this.data.cy;null==t.cache&&(t.cache={}),t.cache.cachedEdges=e.edges()}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.projectIntoViewport=function(t,e){var n=this.findContainerClientCoords(),r=n[0],i=n[1],o=t-r,a=e-i;return o-=this.data.cy.pan().x,a-=this.data.cy.pan().y,o/=this.data.cy.zoom(),a/=this.data.cy.zoom(),[o,a]},n.findContainerClientCoords=function(){var t=this.data.container,e=this.containerBB=this.containerBB||t.getBoundingClientRect();return[e.left,e.top,e.right-e.left,e.bottom-e.top]},n.invalidateContainerClientCoordsCache=function(){this.containerBB=null},n.findNearestElement=function(n,r,i,o){function a(t){var o=t.outerWidth()+2*p,a=t.outerHeight()+2*p,s=o/2,u=a/2,h=t._private.position;if(h.x-s<=n&&n<=h.x+s&&h.y-u<=r&&r<=h.y+u){var d=!i||t.visible()&&!t.transparent();if(i&&!d)return;var f=e.nodeShapes[l.getNodeShape(t)];t._private.style["border-width"].pxValue/2;f.checkPoint(n,r,0,o,a,h.x,h.y)&&c.push(t)}}function s(o){var s,u,h=o._private.rscratch,p=o._private.style,g=p.width.pxValue/2+f,v=g*g,y=2*g,m=o._private.source,b=o._private.target,x=!1,w=function(){if(void 0!==u)return u;if(!i)return u=!0,!0;var t=o.visible()&&!o.transparent();return t?(u=!0,!0):(u=!1,!1)};if("self"===h.edgeType||"compound"===h.edgeType)((x=t.math.inBezierVicinity(n,r,h.startX,h.startY,h.cp2ax,h.cp2ay,h.selfEdgeMidX,h.selfEdgeMidY,v))&&w()&&v>(s=t.math.sqDistanceToQuadraticBezier(n,r,h.startX,h.startY,h.cp2ax,h.cp2ay,h.selfEdgeMidX,h.selfEdgeMidY))||(x=t.math.inBezierVicinity(n,r,h.selfEdgeMidX,h.selfEdgeMidY,h.cp2cx,h.cp2cy,h.endX,h.endY,v))&&w()&&v>(s=t.math.sqDistanceToQuadraticBezier(n,r,h.selfEdgeMidX,h.selfEdgeMidY,h.cp2cx,h.cp2cy,h.endX,h.endY)))&&c.push(o);else if("haystack"===h.edgeType){var E=p["haystack-radius"].value,_=E/2,S=b._private.position,T=b.width(),C=b.height(),k=m._private.position,P=m.width(),D=m.height(),M=k.x+h.source.x*P*_,N=k.y+h.source.y*D*_,A=S.x+h.target.x*T*_,I=S.y+h.target.y*C*_;(x=t.math.inLineVicinity(n,r,M,N,A,I,y))&&w()&&v>(s=t.math.sqDistanceToFiniteLine(n,r,M,N,A,I))&&c.push(o)}else"straight"===h.edgeType?(x=t.math.inLineVicinity(n,r,h.startX,h.startY,h.endX,h.endY,y))&&w()&&v>(s=t.math.sqDistanceToFiniteLine(n,r,h.startX,h.startY,h.endX,h.endY))&&c.push(o):"bezier"===h.edgeType&&(x=t.math.inBezierVicinity(n,r,h.startX,h.startY,h.cp2x,h.cp2y,h.endX,h.endY,v))&&w()&&v>(s=t.math.sqDistanceToQuadraticBezier(n,r,h.startX,h.startY,h.cp2x,h.cp2y,h.endX,h.endY))&&c.push(o);if(x&&w()&&0===c.length||c[c.length-1]!==o){var O=e.arrowShapes[p["source-arrow-shape"].value],B=e.arrowShapes[p["target-arrow-shape"].value],m=m||o._private.source,b=b||o._private.target,S=b._private.position,k=m._private.position,L=l.getArrowWidth(p.width.pxValue),R=l.getArrowHeight(p.width.pxValue),j=L,$=R;(O.roughCollide(n,r,h.arrowStartX,h.arrowStartY,L,R,[h.arrowStartX-k.x,h.arrowStartY-k.y],f)&&O.collide(n,r,h.arrowStartX,h.arrowStartY,L,R,[h.arrowStartX-k.x,h.arrowStartY-k.y],f)||B.roughCollide(n,r,h.arrowEndX,h.arrowEndY,j,$,[h.arrowEndX-S.x,h.arrowEndY-S.y],f)&&B.collide(n,r,h.arrowEndX,h.arrowEndY,j,$,[h.arrowEndX-S.x,h.arrowEndY-S.y],f))&&c.push(o)}d&&c.length>0&&c[c.length-1]===o&&(a(m),a(b))}for(var l=this,u=this.getCachedZSortedEles(),c=[],h=this.data.cy.zoom(),d=this.data.cy.hasCompoundNodes(),f=(o?24:8)/h,p=(o?8:2)/h,g=u.length-1;g>=0;g--){var v=u[g];if(c.length>0)break;"nodes"===v._private.group?a(u[g]):s(u[g])}return c.length>0?c[c.length-1]:null},n.getAllInBox=function(n,r,i,o){var a=this.getCachedNodes(),s=this.getCachedEdges(),l=[],u=Math.min(n,i),c=Math.max(n,i),h=Math.min(r,o),d=Math.max(r,o);n=u,i=c,r=h,o=d;for(var f,p=0;p<a.length;p++){var g=a[p]._private.position,v=this.getNodeShape(a[p]),y=this.getNodeWidth(a[p]),m=this.getNodeHeight(a[p]),b=a[p]._private.style["border-width"].pxValue/2,x=e.nodeShapes[v];x.intersectBox(n,r,i,o,y,m,g.x,g.y,b)&&l.push(a[p])}for(var p=0;p<s.length;p++){var w=s[p]._private.rscratch;if("self"==s[p]._private.rscratch.edgeType&&((f=t.math.boxInBezierVicinity(n,r,i,o,w.startX,w.startY,w.cp2ax,w.cp2ay,w.endX,w.endY,s[p]._private.style.width.pxValue))&&(2==f||1==f&&t.math.checkBezierInBox(n,r,i,o,w.startX,w.startY,w.cp2ax,w.cp2ay,w.endX,w.endY,s[p]._private.style.width.pxValue))||(f=t.math.boxInBezierVicinity(n,r,i,o,w.startX,w.startY,w.cp2cx,w.cp2cy,w.endX,w.endY,s[p]._private.style.width.pxValue))&&(2==f||1==f&&t.math.checkBezierInBox(n,r,i,o,w.startX,w.startY,w.cp2cx,w.cp2cy,w.endX,w.endY,s[p]._private.style.width.pxValue)))&&l.push(s[p]),"bezier"==w.edgeType&&(f=t.math.boxInBezierVicinity(n,r,i,o,w.startX,w.startY,w.cp2x,w.cp2y,w.endX,w.endY,s[p]._private.style.width.pxValue))&&(2==f||1==f&&t.math.checkBezierInBox(n,r,i,o,w.startX,w.startY,w.cp2x,w.cp2y,w.endX,w.endY,s[p]._private.style.width.pxValue))&&l.push(s[p]),"straight"==w.edgeType&&(f=t.math.boxInBezierVicinity(n,r,i,o,w.startX,w.startY,.5*w.startX+.5*w.endX,.5*w.startY+.5*w.endY,w.endX,w.endY,s[p]._private.style.width.pxValue))&&(2==f||1==f&&t.math.checkStraightEdgeInBox(n,r,i,o,w.startX,w.startY,w.endX,w.endY,s[p]._private.style.width.pxValue))&&l.push(s[p]),"haystack"==w.edgeType){var E=s[p].target()[0],_=E.position(),S=s[p].source()[0],T=S.position(),C=T.x+w.source.x,k=T.y+w.source.y,P=_.x+w.target.x,D=_.y+w.target.y,M=C>=n&&i>=C&&k>=r&&o>=k,N=P>=n&&i>=P&&D>=r&&o>=D;M&&N&&l.push(s[p])}}return l},n.getNodeWidth=function(t){return t.width()},n.getNodeHeight=function(t){return t.height()},n.getNodeShape=function(t){var e=t._private.style.shape.value;return t.isParent()?"rectangle"===e||"roundrectangle"===e?e:"rectangle":e},n.getNodePadding=function(t){var e=t._private.style["padding-left"].pxValue,n=t._private.style["padding-right"].pxValue,r=t._private.style["padding-top"].pxValue,i=t._private.style["padding-bottom"].pxValue;return isNaN(e)&&(e=0),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=0),{left:e,right:n,top:r,bottom:i}},n.zOrderSort=t.Collection.zIndexSort,n.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},n.getCachedZSortedEles=function(t){var e=this.lastZOrderCachedNodes,n=this.lastZOrderCachedEdges,r=this.getCachedNodes(),i=this.getCachedEdges(),o=[];if(!t&&e&&n&&e===r&&n===i)o=this.cachedZSortedEles;else{for(var a=0;a<r.length;a++){var s=r[a];(s.animated()||s.visible()&&!s.transparent())&&o.push(s)}for(var a=0;a<i.length;a++){var l=i[a];(l.animated()||l.visible()&&!l.transparent())&&o.push(l)}o.sort(this.zOrderSort),this.cachedZSortedEles=o}return this.lastZOrderCachedNodes=r,this.lastZOrderCachedEdges=i,o},n.projectBezier=function(e){function n(t){o.push({x:r(t[0],t[2],t[4],.05),y:r(t[1],t[3],t[5],.05)}),o.push({x:r(t[0],t[2],t[4],.25),y:r(t[1],t[3],t[5],.25)}),o.push({x:r(t[0],t[2],t[4],.4),y:r(t[1],t[3],t[5],.4)});var e={x:r(t[0],t[2],t[4],.5),y:r(t[1],t[3],t[5],.5)};o.push(e),"self"===i.edgeType||"compound"===i.edgeType?(i.midX=i.selfEdgeMidX,i.midY=i.selfEdgeMidY):(i.midX=e.x,i.midY=e.y),o.push({x:r(t[0],t[2],t[4],.6),y:r(t[1],t[3],t[5],.6)}),o.push({x:r(t[0],t[2],t[4],.75),y:r(t[1],t[3],t[5],.75)}),o.push({x:r(t[0],t[2],t[4],.95),y:r(t[1],t[3],t[5],.95)})}var r=t.math.qbezierAt,i=e._private.rscratch,o=e._private.rstyle.bezierPts=[];"self"===i.edgeType?(n([i.startX,i.startY,i.cp2ax,i.cp2ay,i.selfEdgeMidX,i.selfEdgeMidY]),n([i.selfEdgeMidX,i.selfEdgeMidY,i.cp2cx,i.cp2cy,i.endX,i.endY])):"bezier"===i.edgeType&&n([i.startX,i.startY,i.cp2x,i.cp2y,i.endX,i.endY])},n.recalculateNodeLabelProjection=function(t){var e=t._private.style.content.strValue;if(e&&!e.match(/^\s+$/)){var n,r,i=t.outerWidth(),o=t.outerHeight(),a=t._private.position,s=t._private.style["text-halign"].strValue,l=t._private.style["text-valign"].strValue,u=t._private.rscratch,c=t._private.rstyle;switch(s){case"left":n=a.x-i/2;break;case"right":n=a.x+i/2;break;default:n=a.x}switch(l){case"top":r=a.y-o/2;break;case"bottom":r=a.y+o/2;break;default:r=a.y}u.labelX=n,u.labelY=r,c.labelX=n,c.labelY=r,this.applyLabelDimensions(t)}},n.recalculateEdgeLabelProjection=function(e){var n=e._private.style.content.strValue;if(n&&!n.match(/^\s+$/)){var r,i,o,a,s=e._private,l=s.rscratch,u=s.rstyle;if("self"==l.edgeType)o=l.selfEdgeMidX,a=l.selfEdgeMidY;else if("straight"==l.edgeType)o=(l.startX+l.endX)/2,a=(l.startY+l.endY)/2;else if("bezier"==l.edgeType)o=t.math.qbezierAt(l.startX,l.cp2x,l.endX,.5),a=t.math.qbezierAt(l.startY,l.cp2y,l.endY,.5);else if("haystack"==l.edgeType){var c=l.haystackPts;o=(c[0]+c[2])/2,a=(c[1]+c[3])/2}r=o,i=a,l.labelX=r,l.labelY=i,u.labelX=r,u.labelY=i,this.applyLabelDimensions(e)}},n.applyLabelDimensions=function(t){var e=t._private.rscratch,n=t._private.rstyle,r=this.getLabelText(t),i=this.calculateLabelDimensions(t,r);n.labelWidth=i.width,e.labelWidth=i.width,n.labelHeight=i.height,e.labelHeight=i.height},n.getLabelText=function(t){var e=t._private.style,n=t._private.style.content.strValue,r=e["text-transform"].value,i=t._private.rscratch;if("none"==r||("uppercase"==r?n=n.toUpperCase():"lowercase"==r&&(n=n.toLowerCase())),"wrap"===e["text-wrap"].value){if(i.labelWrapKey===i.labelKey)return i.labelWrapCachedText;for(var o=n.split("\n"),a=e["text-max-width"].pxValue,s=[],l=0;l<o.length;l++){var u=o[l],c=this.calculateLabelDimensions(t,u,"line="+u),h=c.width;if(h>a){for(var d=u.split(/\s+/),f="",p=0;p<d.length;p++){var g=d[p],v=0===f.length?g:f+" "+g,y=this.calculateLabelDimensions(t,v,"testLine="+v),m=y.width;a>=m?f+=g+" ":(s.push(f),f=g+" ")}f.match(/^\s+$/)||s.push(f)}else s.push(u)}i.labelWrapCachedLines=s,i.labelWrapCachedText=n=s.join("\n"),i.labelWrapKey=i.labelKey}return n},n.calculateLabelDimensions=function(t,e,n){var r=this,i=t._private.style,o=i["font-style"].strValue,a=i["font-size"].pxValue+"px",s=i["font-family"].strValue,l=i["font-weight"].strValue,u=t._private.labelKey;n&&(u+="$@$"+n);var c=r.labelDimCache||(r.labelDimCache={});if(c[u])return c[u];var h=this.labelCalcDiv;h||(h=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(h));var d=h.style;return d.fontFamily=s,d.fontStyle=o,d.fontSize=a,d.fontWeight=l,d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none",d.padding="0",d.lineHeight="1","wrap"===i["text-wrap"].value?d.whiteSpace="pre":d.whiteSpace="normal",h.textContent=e,c[u]={width:h.clientWidth,height:h.clientHeight},c[u]},n.recalculateRenderedStyle=function(t){for(var e=[],n=[],r={},i=0;i<t.length;i++){var o=t[i],a=o._private,s=a.style,l=a.rscratch,u=a.rstyle,c=a.data.id,h=null!=l.boundingBoxKey&&a.boundingBoxKey===l.boundingBoxKey,d=null!=l.labelKey&&a.labelKey===l.labelKey,f=h&&d;if("nodes"===o._private.group){var p=a.position,g=null!=u.nodeX&&null!=u.nodeY&&p.x===u.nodeX&&p.y===u.nodeY,v=null!=u.nodeW&&u.nodeW===s.width.pxValue,y=null!=u.nodeH&&u.nodeH===s.height.pxValue;g&&f&&v&&y||n.push(o),u.nodeX=p.x,u.nodeY=p.y,u.nodeW=s.width.pxValue,u.nodeH=s.height.pxValue}else{var m=o._private.source._private.position,b=o._private.target._private.position,x=null!=u.srcX&&null!=u.srcY&&m.x===u.srcX&&m.y===u.srcY,w=null!=u.tgtX&&null!=u.tgtY&&b.x===u.tgtX&&b.y===u.tgtY,E=x&&w;if(!E||!f){var _=a.style["curve-style"].value;if("bezier"===_){if(!r[c]){e.push(o),r[c]=!0;for(var S=o.parallelEdges(),i=0;i<S.length;i++){var T=S[i],C=T._private.data.id;r[C]||(e.push(T),r[C]=!0)}}}else e.push(o)}u.srcX=m.x,u.srcY=m.y,u.tgtX=b.x,u.tgtY=b.y}l.boundingBoxKey=a.boundingBoxKey,l.labelKey=a.labelKey}this.recalculateEdgeProjections(e),this.recalculateLabelProjections(n,e)},n.recalculateLabelProjections=function(t,e){for(var n=0;n<t.length;n++)this.recalculateNodeLabelProjection(t[n]);for(var n=0;n<e.length;n++)this.recalculateEdgeLabelProjection(e[n])},n.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)},n.findEdgeControlPoints=function(n){if(n&&0!==n.length){for(var r,i=this.data.cy,o=i.hasCompoundNodes(),a={},s=[],l=[],u=0;u<n.length;u++){var c=n[u],h=c._private.style,d="unbundled-bezier"===h["curve-style"].value;if("none"!==h.display.value)if("haystack"!==h["curve-style"].value){var f=c._private.data.source,p=c._private.data.target;r=f>p?p+"-"+f:f+"-"+p,d&&(r="unbundled"+c._private.data.id),null==a[r]&&(a[r]=[],s.push(r)),a[r].push(c),d&&(a[r].hasUnbundled=!0)}else l.push(c)}for(var g,v,y,m,b,x,w,E,_,S,T,C,k,P,D=0;D<s.length;D++){r=s[D];var M=a[r];if(M.sort(function(t,e){return t._private.index-e._private.index}),g=M[0]._private.source,v=M[0]._private.target,g._private.data.id>v._private.data.id){var N=g;g=v,v=N}if(y=g._private.position,m=v._private.position,b=this.getNodeWidth(g),x=this.getNodeHeight(g),w=this.getNodeWidth(v),E=this.getNodeHeight(v),_=e.nodeShapes[this.getNodeShape(g)],S=e.nodeShapes[this.getNodeShape(v)],T=g._private.style["border-width"].pxValue,C=v._private.style["border-width"].pxValue,P=!1,M.length>1&&g!==v||M.hasUnbundled){var A=_.intersectLine(y.x,y.y,b,x,m.x,m.y,T/2),I=S.intersectLine(m.x,m.y,w,E,y.x,y.y,C/2),O={x1:A[0],x2:I[0],y1:A[1],y2:I[1]},B=I[1]-A[1],L=I[0]-A[0],R=Math.sqrt(L*L+B*B),j={x:L,y:B},$={x:j.x/R,y:j.y/R};k={x:-$.y,y:$.x},(S.checkPoint(A[0],A[1],C/2,w,E,m.x,m.y)||_.checkPoint(I[0],I[1],T/2,b,x,y.x,y.y))&&(k={},P=!0)}for(var c,z,u=0;u<M.length;u++){c=M[u],z=c._private.rscratch;var F=z.lastEdgeIndex,q=u,H=z.lastNumEdges,Y=M.length,X=c._private.style,V=X["control-point-step-size"].pxValue,U=void 0!==X["control-point-distance"]?X["control-point-distance"].pxValue:void 0,W=X["control-point-weight"].value,d="unbundled-bezier"===X["curve-style"].value,G=c._private.source!==g;G&&d&&(U*=-1);var Z=z.lastSrcCtlPtX,K=y.x,J=z.lastSrcCtlPtY,Q=y.y,tt=z.lastSrcCtlPtW,et=g.outerWidth(),nt=z.lastSrcCtlPtH,rt=g.outerHeight(),it=z.lastTgtCtlPtX,ot=m.x,at=z.lastTgtCtlPtY,st=m.y,lt=z.lastTgtCtlPtW,ut=v.outerWidth(),ct=z.lastTgtCtlPtH,ht=v.outerHeight(),dt=z.lastW,ft=X["control-point-step-size"].pxValue;if(P?z.badBezier=!0:z.badBezier=!1,Z!==K||J!==Q||tt!==et||nt!==rt||it!==ot||at!==st||lt!==ut||ct!==ht||dt!==ft||!(F===q&&H===Y||d)){if(z.lastSrcCtlPtX=K,z.lastSrcCtlPtY=Q,z.lastSrcCtlPtW=et,z.lastSrcCtlPtH=rt,z.lastTgtCtlPtX=ot,z.lastTgtCtlPtY=st,z.lastTgtCtlPtW=ut,z.lastTgtCtlPtH=ht,z.lastEdgeIndex=q,z.lastNumEdges=Y,z.lastWidth=ft,g===v){z.edgeType="self";var pt=u,gt=V;d&&(pt=0,gt=U),z.cp2ax=y.x,z.cp2ay=y.y-(1+Math.pow(x,1.12)/100)*gt*(pt/3+1),z.cp2cx=y.x-(1+Math.pow(b,1.12)/100)*gt*(pt/3+1),z.cp2cy=y.y,z.selfEdgeMidX=(z.cp2ax+z.cp2cx)/2,z.selfEdgeMidY=(z.cp2ay+z.cp2cy)/2}else if(o&&(g.isParent()||g.isChild()||v.isParent()||v.isChild())&&(g.parents().anySame(v)||v.parents().anySame(g))){z.edgeType="compound",z.badBezier=!1;var pt=u,gt=V;d&&(pt=0,gt=U);var vt=50,yt={x:y.x-b/2,y:y.y-x/2},mt={x:m.x-w/2,y:m.y-E/2},bt=1;z.cp2ax=yt.x,z.compoundStretchA=Math.max(bt,Math.log(.01*b)),z.cp2ay=yt.y-(1+Math.pow(vt,1.12)/100)*gt*(pt/3+1)*z.compoundStretchA,z.compoundStretchB=Math.max(bt,Math.log(.01*w)),z.cp2cx=mt.x-(1+Math.pow(vt,1.12)/100)*gt*(pt/3+1)*z.compoundStretchB,z.cp2cy=mt.y,z.selfEdgeMidX=(z.cp2ax+z.cp2cx)/2,z.selfEdgeMidY=(z.cp2ay+z.cp2cy)/2}else if(M.length%2!==1||u!==Math.floor(M.length/2)||d){var xt,wt=(.5-M.length/2+u)*V,Et=t.math.signum(wt);xt=d?U:void 0!==U?Et*U:void 0;var _t=void 0!==xt?xt:wt,St=1-W,Tt=W;G&&(St=W,Tt=1-W);var Ct={x:O.x1*St+O.x2*Tt,y:O.y1*St+O.y2*Tt};z.edgeType="bezier",z.cp2x=Ct.x+k.x*_t,z.cp2y=Ct.y+k.y*_t}else z.edgeType="straight";this.findEndpoints(c);var kt=!t.is.number(z.startX)||!t.is.number(z.startY),Pt=!t.is.number(z.arrowStartX)||!t.is.number(z.arrowStartY),Dt=!t.is.number(z.endX)||!t.is.number(z.endY),Mt=!t.is.number(z.arrowEndX)||!t.is.number(z.arrowEndY),Nt=3,At=this.getArrowWidth(c._private.style.width.pxValue)*e.arrowShapeHeight,It=Nt*At,Ot=t.math.distance({x:z.cp2x,y:z.cp2y},{x:z.startX,y:z.startY}),Bt=It>Ot,Lt=t.math.distance({x:z.cp2x,y:z.cp2y},{x:z.endX,y:z.endY}),Rt=It>Lt;if("bezier"===z.edgeType){var jt=!1;if(kt||Pt||Bt){jt=!0;var $t={x:z.cp2x-y.x,y:z.cp2y-y.y},zt=Math.sqrt($t.x*$t.x+$t.y*$t.y),Ft={x:$t.x/zt,y:$t.y/zt},qt=Math.max(b,x),Ht={x:z.cp2x+2*Ft.x*qt,y:z.cp2y+2*Ft.y*qt},Yt=_.intersectLine(y.x,y.y,b,x,Ht.x,Ht.y,T/2);Bt?(z.cp2x=z.cp2x+Ft.x*(It-Ot),z.cp2y=z.cp2y+Ft.y*(It-Ot)):(z.cp2x=Yt[0]+Ft.x*It,z.cp2y=Yt[1]+Ft.y*It)}if(Dt||Mt||Rt){jt=!0;var $t={x:z.cp2x-m.x,y:z.cp2y-m.y},zt=Math.sqrt($t.x*$t.x+$t.y*$t.y),Ft={x:$t.x/zt,y:$t.y/zt},qt=Math.max(b,x),Ht={x:z.cp2x+2*Ft.x*qt,y:z.cp2y+2*Ft.y*qt},Xt=S.intersectLine(m.x,m.y,w,E,Ht.x,Ht.y,C/2);Rt?(z.cp2x=z.cp2x+Ft.x*(It-Lt),z.cp2y=z.cp2y+Ft.y*(It-Lt)):(z.cp2x=Xt[0]+Ft.x*It,z.cp2y=Xt[1]+Ft.y*It)}jt&&this.findEndpoints(c)}else"straight"===z.edgeType&&(z.midX=(K+ot)/2,z.midY=(Q+st)/2);this.projectBezier(c),this.recalculateEdgeLabelProjection(c)}}}for(var u=0;u<l.length;u++){var c=l[u],Vt=c._private,Ut=Vt.rscratch,z=Ut;if(!Ut.haystack){var Wt=2*Math.random()*Math.PI;Ut.source={x:Math.cos(Wt),y:Math.sin(Wt)};var Wt=2*Math.random()*Math.PI;
Ut.target={x:Math.cos(Wt),y:Math.sin(Wt)}}var g=Vt.source,v=Vt.target,y=g._private.position,m=v._private.position,b=g.width(),w=v.width(),x=g.height(),E=v.height(),qt=h["haystack-radius"].value,Gt=qt/2;z.haystackPts=[z.source.x*b*Gt+y.x,z.source.y*x*Gt+y.y,z.target.x*w*Gt+m.x,z.target.y*E*Gt+m.y],Ut.edgeType="haystack",Ut.haystack=!0,this.recalculateEdgeLabelProjection(c)}return a}},n.findEndpoints=function(n){var r,i=n.source()[0],o=n.target()[0],a=n._private.style["target-arrow-shape"].value,s=n._private.style["source-arrow-shape"].value,l=o._private.style["border-width"].pxValue,u=i._private.style["border-width"].pxValue,c=n._private.rscratch;if("self"==c.edgeType||"compound"==c.edgeType){var h=[c.cp2cx,c.cp2cy];r=e.nodeShapes[this.getNodeShape(o)].intersectLine(o._private.position.x,o._private.position.y,this.getNodeWidth(o),this.getNodeHeight(o),h[0],h[1],l/2);var d=t.math.shortenIntersection(r,h,e.arrowShapes[a].spacing(n)),f=t.math.shortenIntersection(r,h,e.arrowShapes[a].gap(n));c.endX=f[0],c.endY=f[1],c.arrowEndX=d[0],c.arrowEndY=d[1];var h=[c.cp2ax,c.cp2ay];r=e.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),h[0],h[1],u/2);var p=t.math.shortenIntersection(r,h,e.arrowShapes[s].spacing(n)),g=t.math.shortenIntersection(r,h,e.arrowShapes[s].gap(n));c.startX=g[0],c.startY=g[1],c.arrowStartX=p[0],c.arrowStartY=p[1]}else if("straight"==c.edgeType){r=e.nodeShapes[this.getNodeShape(o)].intersectLine(o._private.position.x,o._private.position.y,this.getNodeWidth(o),this.getNodeHeight(o),i.position().x,i.position().y,l/2),0===r.length?c.noArrowPlacement=!0:c.noArrowPlacement=!1;var d=t.math.shortenIntersection(r,[i.position().x,i.position().y],e.arrowShapes[a].spacing(n)),f=t.math.shortenIntersection(r,[i.position().x,i.position().y],e.arrowShapes[a].gap(n));c.endX=f[0],c.endY=f[1],c.arrowEndX=d[0],c.arrowEndY=d[1],r=e.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),o.position().x,o.position().y,u/2),0===r.length?c.noArrowPlacement=!0:c.noArrowPlacement=!1;var p=t.math.shortenIntersection(r,[o.position().x,o.position().y],e.arrowShapes[s].spacing(n)),g=t.math.shortenIntersection(r,[o.position().x,o.position().y],e.arrowShapes[s].gap(n));c.startX=g[0],c.startY=g[1],c.arrowStartX=p[0],c.arrowStartY=p[1],t.is.number(c.startX)&&t.is.number(c.startY)&&t.is.number(c.endX)&&t.is.number(c.endY)?c.badLine=!1:c.badLine=!0}else if("bezier"==c.edgeType){var h=[c.cp2x,c.cp2y];r=e.nodeShapes[this.getNodeShape(o)].intersectLine(o._private.position.x,o._private.position.y,this.getNodeWidth(o),this.getNodeHeight(o),h[0],h[1],l/2);var d=t.math.shortenIntersection(r,h,e.arrowShapes[a].spacing(n)),f=t.math.shortenIntersection(r,h,e.arrowShapes[a].gap(n));c.endX=f[0],c.endY=f[1],c.arrowEndX=d[0],c.arrowEndY=d[1],r=e.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),h[0],h[1],u/2);var p=t.math.shortenIntersection(r,h,e.arrowShapes[s].spacing(n)),g=t.math.shortenIntersection(r,h,e.arrowShapes[s].gap(n));c.startX=g[0],c.startY=g[1],c.arrowStartX=p[0],c.arrowStartY=p[1]}else if(c.isArcEdge)return},n.findEdges=function(t){for(var e=this.getCachedEdges(),n={},r=[],i=0;i<t.length;i++)n[t[i]._private.data.id]=t[i];for(var i=0;i<e.length;i++)(n[e[i]._private.data.source]||n[e[i]._private.data.target])&&r.push(e[i]);return r},n.getArrowWidth=n.getArrowHeight=function(t){var e=this.arrowWidthCache=this.arrowWidthCache||{},n=e[t];return n?n:(n=Math.max(Math.pow(13.37*t,.9),29),e[t]=n,n)}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.drawEdge=function(t,n,r){var i=n._private.rscratch,o=e.usePaths();if(!i.badBezier&&("bezier"!==i.edgeType&&"straight"!==i.edgeType||!isNaN(i.startX))){var a=n._private.style;if(!(a.width.pxValue<=0)){var s=a["overlay-padding"].pxValue,l=a["overlay-opacity"].value,u=a["overlay-color"].value;if(r){if(0===l)return;this.strokeStyle(t,u[0],u[1],u[2],l),t.lineCap="round","self"!=n._private.rscratch.edgeType||o||(t.lineCap="butt")}else{var c=a["line-color"].value;this.strokeStyle(t,c[0],c[1],c[2],a.opacity.value),t.lineCap="butt"}var h,d,f,p;f=h=n._private.source,p=d=n._private.target;var g=a.width.pxValue+(r?2*s:0),v=r?"solid":a["line-style"].value;t.lineWidth=g;var y=a["shadow-blur"].pxValue,m=a["shadow-opacity"].value,b=a["shadow-color"].value,x=a["shadow-offset-x"].pxValue,w=a["shadow-offset-y"].pxValue;if(this.shadowStyle(t,b,r?0:m,y,x,w),"haystack"===i.edgeType)this.drawStyledEdge(n,t,i.haystackPts,v,g);else if("self"===i.edgeType||"compound"===i.edgeType){var E=n._private.rscratch,_=[E.startX,E.startY,E.cp2ax,E.cp2ay,E.selfEdgeMidX,E.selfEdgeMidY,E.selfEdgeMidX,E.selfEdgeMidY,E.cp2cx,E.cp2cy,E.endX,E.endY];this.drawStyledEdge(n,t,_,v,g)}else if("straight"===i.edgeType){var S=d._private.position.x-h._private.position.x,T=d._private.position.y-h._private.position.y,C=i.endX-i.startX,k=i.endY-i.startY;if(0>S*C+T*k)i.straightEdgeTooShort=!0;else{var E=i;this.drawStyledEdge(n,t,[E.startX,E.startY,E.endX,E.endY],v,g),i.straightEdgeTooShort=!1}}else{var E=i;this.drawStyledEdge(n,t,[E.startX,E.startY,E.cp2x,E.cp2y,E.endX,E.endY],v,g)}"haystack"===i.edgeType?this.drawArrowheads(t,n,r):i.noArrowPlacement!==!0&&void 0!==i.startX&&this.drawArrowheads(t,n,r),this.shadowStyle(t,"transparent",0)}}},n.drawStyledEdge=function(t,n,r,i,o){var a,s=t._private.rscratch,l=n,u=!1,c=e.usePaths();if(c){for(var h=r,d=s.pathCacheKey&&h.length===s.pathCacheKey.length,f=d,p=0;f&&p<h.length;p++)s.pathCacheKey[p]!==h[p]&&(f=!1);f?(a=n=s.pathCache,u=!0):(a=n=new Path2D,s.pathCacheKey=h,s.pathCache=a)}if(l.setLineDash)switch(i){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash([6,3]);break;case"solid":l.setLineDash([])}u||(n.beginPath&&n.beginPath(),n.moveTo(r[0],r[1]),6!==r.length||s.badBezier?12!==r.length||s.badBezier?4!==r.length||s.badLine||n.lineTo(r[2],r[3]):(n.quadraticCurveTo(r[2],r[3],r[4],r[5]),n.quadraticCurveTo(r[8],r[9],r[10],r[11])):n.quadraticCurveTo(r[2],r[3],r[4],r[5])),n=l,c?n.stroke(a):n.stroke(),n.setLineDash&&n.setLineDash([])},n.drawArrowheads=function(t,e,n){function r(n,r,i,o,a){var s=g[n+"-arrow-shape"].value;if("none"!==s){var l=t.globalCompositeOperation,u="hollow"===g[n+"-arrow-fill"].value?"both":"filled",c=g[n+"-arrow-fill"].value;"half-triangle-overshot"===s&&(c="hollow",u="hollow"),1===g.opacity.value&&"hollow"!==c||(t.globalCompositeOperation="destination-out",h.fillStyle(t,255,255,255,1),h.strokeStyle(t,255,255,255,1),h.drawArrowShape(e,n,t,u,g.width.pxValue,g[n+"-arrow-shape"].value,r,i,o,a),t.globalCompositeOperation=l);var d=g[n+"-arrow-color"].value;h.fillStyle(t,d[0],d[1],d[2],g.opacity.value),h.strokeStyle(t,d[0],d[1],d[2],g.opacity.value),h.drawArrowShape(e,n,t,c,g.width.pxValue,g[n+"-arrow-shape"].value,r,i,o,a)}}if(!n){var i,o,a,s,l,u,c=e._private.rscratch,h=this,d="haystack"===c.edgeType,f=e.source().position(),p=e.target().position();d?(a=c.haystackPts[0],s=c.haystackPts[1],l=c.haystackPts[2],u=c.haystackPts[3]):(a=c.arrowStartX,s=c.arrowStartY,l=c.arrowEndX,u=c.arrowEndY);var g=e._private.style;i=a-f.x,o=s-f.y,d||isNaN(a)||isNaN(s)||isNaN(i)||isNaN(o)||r("source",a,s,i,o);var v=c.midX,y=c.midY;d&&(v=(a+l)/2,y=(s+u)/2),i=a-l,o=s-u,"self"===c.edgeType&&(i=1,o=-1),isNaN(v)||isNaN(y)||r("mid-target",v,y,i,o),i*=-1,o*=-1,isNaN(v)||isNaN(y)||r("mid-source",v,y,i,o),i=l-p.x,o=u-p.y,d||isNaN(l)||isNaN(u)||isNaN(i)||isNaN(o)||r("target",l,u,i,o)}},n.drawArrowShape=function(t,n,r,i,o,a,s,l,u,c){var h,d=e.usePaths(),f=t._private.rscratch,p=!1,g=r,v={x:s,y:l},y=Math.asin(c/Math.sqrt(u*u+c*c));0>u?y+=Math.PI/2:y=-(Math.PI/2+y);var m=this.getArrowWidth(o),b=e.arrowShapes[a];if(d){var x=m+"$"+a+"$"+y+"$"+s+"$"+l;f.arrowPathCacheKey=f.arrowPathCacheKey||{},f.arrowPathCache=f.arrowPathCache||{};var w=f.arrowPathCacheKey[n]===x;w?(h=r=f.arrowPathCache[n],p=!0):(h=r=new Path2D,f.arrowPathCacheKey[n]=x,f.arrowPathCache[n]=h)}r.beginPath&&r.beginPath(),p||b.draw(r,m,y,v),!b.leavePathOpen&&r.closePath&&r.closePath(),r=g,"filled"!==i&&"both"!==i||(d?r.fill(h):r.fill()),"hollow"!==i&&"both"!==i||(r.lineWidth=b.matchEdgeWidth?o:1,r.lineJoin="miter",d?r.stroke(h):r.stroke())}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.getCachedImage=function(t,e){var n=this,r=n.imageCache=n.imageCache||{};if(r[t]&&r[t].image)return r[t].image;var i=r[t]=r[t]||{},o=i.image=new Image;return o.addEventListener("load",e),o.src=t,o},n.safeDrawImage=function(t,n,r,i,o,a,s,l,u,c){var h=this;try{t.drawImage(n,r,i,o,a,s,l,u,c)}catch(d){h.data.canvasNeedsRedraw[e.NODE]=!0,h.data.canvasNeedsRedraw[e.DRAG]=!0,h.drawingImage=!0,h.redraw()}},n.drawInscribedImage=function(t,n,r){var i=this,o=r._private.position.x,a=r._private.position.y,s=r._private.style,l=s["background-fit"].value,u=s["background-position-x"],c=s["background-position-y"],h=s["background-repeat"].value,d=r.width(),f=r.height(),p=r._private.rscratch,g=s["background-clip"].value,v="node"===g,y=s["background-image-opacity"].value,m=n.width,b=n.height;if(0!==m&&0!==b){var x=s["background-width"];"auto"!==x.value&&(m="%"===x.units?x.value/100*d:x.pxValue);var w=s["background-height"];if("auto"!==w.value&&(b="%"===w.units?w.value/100*f:w.pxValue),0!==m&&0!==b){if("contain"===l){var E=Math.min(d/m,f/b);m*=E,b*=E}else if("cover"===l){var E=Math.max(d/m,f/b);m*=E,b*=E}var _=o-d/2;_+="%"===u.units?(d-m)*u.value/100:u.pxValue;var S=a-f/2;S+="%"===c.units?(f-b)*c.value/100:c.pxValue,p.pathCache&&(_-=o,S-=a,o=0,a=0);var T=t.globalAlpha;if(t.globalAlpha=y,"no-repeat"===h)v&&(t.save(),p.pathCache?t.clip(p.pathCache):(e.nodeShapes[i.getNodeShape(r)].drawPath(t,o,a,d,f),t.clip())),i.safeDrawImage(t,n,0,0,n.width,n.height,_,S,m,b),v&&t.restore();else{var C=t.createPattern(n,h);t.fillStyle=C,e.nodeShapes[i.getNodeShape(r)].drawPath(t,o,a,d,f),t.translate(_,S),t.fill(),t.translate(-_,-S)}t.globalAlpha=T}}}}(cytoscape),function(t){"use strict";function e(t,e,n,r,i,o){var o=o||5;t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath(),t.fill()}var n=t("renderer","canvas"),r=n.prototype;r.drawEdgeText=function(e,n){var r=n._private.style.content.strValue;if(r&&!r.match(/^\s+$/)&&(!this.hideEdgesOnViewport||!(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var i=n._private.style["font-size"].pxValue*n.cy().zoom(),o=n._private.style["min-zoomed-font-size"].pxValue;if(!(o>i)){e.textAlign="center",e.textBaseline="middle";var a=n._private.rscratch;if(t.is.number(a.labelX)&&t.is.number(a.labelY)){var s,l,u,c=n._private.style,h="autorotate"===c["edge-text-rotation"].strValue;if(h){switch(a.edgeType){case"haystack":l=a.haystackPts[2]-a.haystackPts[0],u=a.haystackPts[3]-a.haystackPts[1];break;default:l=a.endX-a.startX,u=a.endY-a.startY}s=Math.atan(u/l),e.translate(a.labelX,a.labelY),e.rotate(s),this.drawText(e,n,0,0),e.rotate(-s),e.translate(-a.labelX,-a.labelY)}else this.drawText(e,n,a.labelX,a.labelY)}}}},r.drawNodeText=function(e,n){var r=n._private.style.content.strValue;if(r&&!r.match(/^\s+$/)){var i=n._private.style["font-size"].pxValue*n.cy().zoom(),o=n._private.style["min-zoomed-font-size"].pxValue;if(!(o>i)){var a=n._private.style["text-halign"].strValue,s=n._private.style["text-valign"].strValue,l=n._private.rscratch;if(t.is.number(l.labelX)&&t.is.number(l.labelY)){switch(a){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}switch(s){case"top":e.textBaseline="bottom";break;case"bottom":e.textBaseline="top";break;default:e.textBaseline="middle"}this.drawText(e,n,l.labelX,l.labelY)}}}},r.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(e=this.fontCaches[n],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e},r.setupTextStyle=function(t,e){var n=e.effectiveOpacity(),r=e._private.style,i=r["font-style"].strValue,o=r["font-size"].pxValue+"px",a=r["font-family"].strValue,s=r["font-weight"].strValue,l=r["text-opacity"].value*r.opacity.value*n,u=r["text-outline-opacity"].value*l,c=r.color.value,h=r["text-outline-color"].value,d=r["text-shadow-blur"].pxValue,f=r["text-shadow-opacity"].value,p=r["text-shadow-color"].value,g=r["text-shadow-offset-x"].pxValue,v=r["text-shadow-offset-y"].pxValue,y=e._private.fontKey,m=this.getFontCache(t);m.key!==y&&(t.font=i+" "+s+" "+o+" "+a,m.key=y);var b=this.getLabelText(e);return t.lineJoin="round",this.fillStyle(t,c[0],c[1],c[2],l),this.strokeStyle(t,h[0],h[1],h[2],u),this.shadowStyle(t,p,f,d,g,v),b},r.drawText=function(t,n,r,i){var o=n._private,a=o.style,s=o.rstyle,l=o.rscratch,u=n.effectiveOpacity();if(0!==u&&0!==a["text-opacity"].value){var c=this.setupTextStyle(t,n),h=a["text-halign"].value,d=a["text-valign"].value;if(n.isEdge()&&(h="center",d="center"),null!=c&&!isNaN(r)&&!isNaN(i)){var f=a["text-background-opacity"].value,p=a["text-border-opacity"].value,g=a["text-border-width"].pxValue;if(f>0||g>0&&p>0){var v=4+g/2;n.isNode()&&("top"===d?i-=v:"bottom"===d&&(i+=v),"left"===h?r-=v:"right"===h&&(r+=v));var y=s.labelWidth,m=s.labelHeight,b=r;h&&("center"==h?b-=y/2:"left"==h&&(b-=y));var x=i;if(n.isNode()?"top"==d?x-=m:"center"==d&&(x-=m/2):x-=m/2,"autorotate"===a["edge-text-rotation"].strValue?(i=0,y+=4,b=r-y/2,x=i-m/2):(b-=v,x-=v,m+=2*v,y+=2*v),f>0){var w=t.fillStyle,E=a["text-background-color"].value;t.fillStyle="rgba("+E[0]+","+E[1]+","+E[2]+","+f*u+")";var _=a["text-background-shape"].strValue;"roundrectangle"==_?e(t,b,x,y,m,2):t.fillRect(b,x,y,m),t.fillStyle=w}if(g>0&&p>0){var S=t.strokeStyle,T=t.lineWidth,C=a["text-border-color"].value,k=a["text-border-style"].value;if(t.strokeStyle="rgba("+C[0]+","+C[1]+","+C[2]+","+p*u+")",t.lineWidth=g,t.setLineDash)switch(k){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=g/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(b,x,y,m),"double"===k){var P=g/2;t.strokeRect(b+P,x+P,y-2*P,m-2*P)}t.setLineDash&&t.setLineDash([]),t.lineWidth=T,t.strokeStyle=S}}var D=2*a["text-outline-width"].pxValue;if(D>0&&(t.lineWidth=D),"wrap"===a["text-wrap"].value){var M=l.labelWrapCachedLines,N=s.labelHeight/M.length;switch(d){case"top":i-=(M.length-1)*N;break;case"bottom":break;default:case"center":i-=(M.length-1)*N/2}for(var A=0;A<M.length;A++)D>0&&t.strokeText(M[A],r,i),t.fillText(M[A],r,i),i+=N}else D>0&&t.strokeText(c,r,i),t.fillText(c,r,i);this.shadowStyle(t,"transparent",0)}}}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.drawNode=function(t,n,r){var i,o,a=this,s=n._private.style,l=n._private.rscratch,u=n._private,c=u.position;if(void 0!==c.x&&void 0!==c.y){var h,d=e.usePaths(),f=t,p=!1,g=s["overlay-padding"].pxValue,v=s["overlay-opacity"].value,y=s["overlay-color"].value;if(!r||0!==v){var m=n.effectiveOpacity();if(0!==m)if(i=this.getNodeWidth(n),o=this.getNodeHeight(n),t.lineWidth=s["border-width"].pxValue,void 0!==r&&r)v>0&&(this.fillStyle(t,y[0],y[1],y[2],v),e.nodeShapes.roundrectangle.drawPath(t,n._private.position.x,n._private.position.y,i+2*g,o+2*g),t.fill());else{var b,x=s["background-image"].value[2]||s["background-image"].value[1];if(void 0!==x){b=this.getCachedImage(x,function(){a.data.canvasNeedsRedraw[e.NODE]=!0,a.data.canvasNeedsRedraw[e.DRAG]=!0,a.drawingImage=!0,a.redraw()});var w=u.backgrounding;u.backgrounding=!b.complete,w!==u.backgrounding&&n.updateStyle(!1)}var E=s["background-color"].value,_=s["border-color"].value,S=s["border-style"].value;this.fillStyle(t,E[0],E[1],E[2],s["background-opacity"].value*m),this.strokeStyle(t,_[0],_[1],_[2],s["border-opacity"].value*m);var T=s["shadow-blur"].pxValue,C=s["shadow-opacity"].value,k=s["shadow-color"].value,P=s["shadow-offset-x"].pxValue,D=s["shadow-offset-y"].pxValue;if(this.shadowStyle(t,k,C,T,P,D),t.lineJoin="miter",t.setLineDash)switch(S){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}var M=s.shape.strValue;if(d){var N=M+"$"+i+"$"+o;t.translate(c.x,c.y),l.pathCacheKey===N?(h=t=l.pathCache,p=!0):(h=t=new Path2D,l.pathCacheKey=N,l.pathCache=h)}if(!p){var A=c;d&&(A={x:0,y:0}),e.nodeShapes[this.getNodeShape(n)].drawPath(t,A.x,A.y,i,o)}t=f,d?t.fill(h):t.fill(),this.shadowStyle(t,"transparent",0),void 0!==x&&b.complete&&this.drawInscribedImage(t,b,n);var I=s["background-blacken"].value,O=s["border-width"].pxValue;if(this.hasPie(n)&&(this.drawPie(t,n,m),0===I&&0===O||d||e.nodeShapes[this.getNodeShape(n)].drawPath(t,c.x,c.y,i,o)),I>0?(this.fillStyle(t,0,0,0,I),d?t.fill(h):t.fill()):0>I&&(this.fillStyle(t,255,255,255,-I),d?t.fill(h):t.fill()),O>0&&(d?t.stroke(h):t.stroke(),"double"===S)){t.lineWidth=s["border-width"].pxValue/3;var B=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",d?t.stroke(h):t.stroke(),t.globalCompositeOperation=B}d&&t.translate(-c.x,-c.y),t.setLineDash&&t.setLineDash([])}}}},n.hasPie=function(t){return t=t[0],t._private.hasPie},n.drawPie=function(n,r,i){r=r[0];var o=r._private,a=o.style,s=a["pie-size"],l=this.getNodeWidth(r),u=this.getNodeHeight(r),c=o.position.x,h=o.position.y,d=Math.min(l,u)/2,f=0,p=e.usePaths();p&&(c=0,h=0),"%"===s.units?d=d*s.value/100:void 0!==s.pxValue&&(d=s.pxValue/2);for(var g=1;g<=t.style.pieBackgroundN;g++){var v=a["pie-"+g+"-background-size"].value,y=a["pie-"+g+"-background-color"].value,m=a["pie-"+g+"-background-opacity"].value*i,b=v/100;b+f>1&&(b=1-f);var x=1.5*Math.PI+2*Math.PI*f,w=2*Math.PI*b,E=x+w;0===v||f>=1||f+b>1||(n.beginPath(),n.moveTo(c,h),n.arc(c,h,d,x,E),n.closePath(),this.fillStyle(n,y[0],y[1],y[2],m),n.fill(),f+=b)}}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e,r=e.prototype;r.getPixelRatio=function(){var t=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},r.paintCache=function(t){for(var e,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if(e=n[i],e.context===t){r=!1;break}return r&&(e={context:t},n.push(e)),e},r.fillStyle=function(t,e,n,r,i){t.fillStyle="rgba("+e+","+n+","+r+","+i+")"},r.strokeStyle=function(t,e,n,r,i){t.strokeStyle="rgba("+e+","+n+","+r+","+i+")"},r.shadowStyle=function(t,e,n,r,i,o){var a=this.data.cy.zoom(),s=this.paintCache(t);0===s.shadowOpacity&&0===n||(s.shadowOpacity=n,n>0?(t.shadowBlur=r*a,t.shadowColor="rgba("+e[0]+","+e[1]+","+e[2]+","+n+")",t.shadowOffsetX=i*a,t.shadowOffsetY=o*a):(t.shadowBlur=0,t.shadowColor="transparent"))},r.matchCanvasSize=function(t){var r=this.data,i=t.clientWidth,o=t.clientHeight,a=this.getPixelRatio(),s=this.motionBlurPxRatio;t!==this.data.bufferCanvases[n.MOTIONBLUR_BUFFER_NODE]&&t!==this.data.bufferCanvases[n.MOTIONBLUR_BUFFER_DRAG]||(a=s);var l,u=i*a,c=o*a;if(u!==this.canvasWidth||c!==this.canvasHeight){this.fontCaches=null;var h=r.canvasContainer;h.style.width=i+"px",h.style.height=o+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)l=r.canvases[d],l.width===u&&l.height===c||(l.width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px");for(var d=0;d<e.BUFFER_COUNT;d++)l=r.bufferCanvases[d],l.width===u&&l.height===c||(l.width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px");this.textureMult=1,1>=a&&(l=r.bufferCanvases[e.TEXTURE_BUFFER],this.textureMult=2,l.width=u*this.textureMult,l.height=c*this.textureMult),this.canvasWidth=u,this.canvasHeight=c}},r.renderTo=function(t,e,n,r){this.redraw({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},r.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},e.minRedrawLimit=1e3/60,e.maxRedrawLimit=1e3,e.motionBlurDelay=100,r.redraw=function(r){function i(){function r(t,e,n,r,i){var o=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",c.fillStyle(t,255,255,255,c.motionBlurTransparency),t.fillRect(e,n,r,i),t.globalCompositeOperation=o}function i(t,e){var i,s,h,d;c.clearingMotionBlur||t!==f.bufferContexts[n.MOTIONBLUR_BUFFER_NODE]&&t!==f.bufferContexts[n.MOTIONBLUR_BUFFER_DRAG]?(i=k,s=T,h=c.canvasWidth,d=c.canvasHeight):(i={x:C.x*y,y:C.y*y},s=S*y,h=c.canvasWidth*y,d=c.canvasHeight*y),t.setTransform(1,0,0,1,0,0),"motionBlur"===e?r(t,0,0,h,d):o||void 0!==e&&!e||t.clearRect(0,0,h,d),a||(t.translate(i.x,i.y),t.scale(s,s)),u&&t.translate(u.x,u.y),l&&t.scale(l,l)}function x(t,e){for(var n=t.eles,r=0;r<n.length;r++){var i=n[r];i.isNode()?(c.drawNode(e,i),F||c.drawNodeText(e,i),c.drawNode(e,i,!0)):z||(c.drawEdge(e,i),F||c.drawEdgeText(e,i),c.drawEdge(e,i,!0))}}c.textureDrawLastFrame&&!g&&(p[n.NODE]=!0,p[n.SELECT_BOX]=!0);var E=c.getCachedEdges(),_=d.style()._private.coreStyle,S=d.zoom(),T=void 0!==l?l:S,C=d.pan(),k={x:C.x,y:C.y},D={zoom:S,pan:{x:C.x,y:C.y}},M=c.prevViewport,N=void 0===M||D.zoom!==M.zoom||D.pan.x!==M.pan.x||D.pan.y!==M.pan.y;N||b&&!m||(c.motionBlurPxRatio=1),u&&(k=u),T*=h,k.x*=h,k.y*=h;var A={drag:{nodes:[],edges:[],eles:[]},nondrag:{nodes:[],edges:[],eles:[]}};if(g||(c.textureDrawLastFrame=!1),g){c.textureDrawLastFrame=!0;var I;if(!c.textureCache){c.textureCache={},I=c.textureCache.bb=d.elements().boundingBox(),c.textureCache.texture=c.data.bufferCanvases[e.TEXTURE_BUFFER];var O=c.data.bufferContexts[e.TEXTURE_BUFFER];O.setTransform(1,0,0,1,0,0),O.clearRect(0,0,c.canvasWidth*c.textureMult,c.canvasHeight*c.textureMult),c.redraw({forcedContext:O,drawOnlyNodeLayer:!0,forcedPxRatio:h*c.textureMult});var D=c.textureCache.viewport={zoom:d.zoom(),pan:d.pan(),width:c.canvasWidth,height:c.canvasHeight};D.mpan={x:(0-D.pan.x)/D.zoom,y:(0-D.pan.y)/D.zoom}}p[n.DRAG]=!1,p[n.NODE]=!1;var B=f.contexts[n.NODE],L=c.textureCache.texture,D=c.textureCache.viewport;I=c.textureCache.bb,B.setTransform(1,0,0,1,0,0),v?r(B,0,0,D.width,D.height):B.clearRect(0,0,D.width,D.height);var R=_["outside-texture-bg-color"].value,j=_["outside-texture-bg-opacity"].value;c.fillStyle(B,R[0],R[1],R[2],j),B.fillRect(0,0,D.width,D.height);var S=d.zoom();i(B,!1),B.clearRect(D.mpan.x,D.mpan.y,D.width/D.zoom/h,D.height/D.zoom/h),B.drawImage(L,D.mpan.x,D.mpan.y,D.width/D.zoom/h,D.height/D.zoom/h)}else c.textureOnViewport&&!o&&(c.textureCache=null);var $=c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming||c.hoverData.draggingEles,z=c.hideEdgesOnViewport&&$,F=c.hideLabelsOnViewport&&$;if(p[n.DRAG]||p[n.NODE]||a||s){z||c.findEdgeControlPoints(E);for(var q=c.getCachedZSortedEles(),H=d.extent(),Y=0;Y<q.length;Y++){var X,V=q[Y],I=o?null:V.boundingBox(),U=o?!0:t.math.boundingBoxesIntersect(H,I);U&&(X=V._private.rscratch.inDragLayer?A.drag:A.nondrag,X.eles.push(V))}}var W=[];if(W[n.NODE]=!p[n.NODE]&&v&&!c.clearedForMotionBlur[n.NODE]||c.clearingMotionBlur,W[n.NODE]&&(c.clearedForMotionBlur[n.NODE]=!0),W[n.DRAG]=!p[n.DRAG]&&v&&!c.clearedForMotionBlur[n.DRAG]||c.clearingMotionBlur,W[n.DRAG]&&(c.clearedForMotionBlur[n.DRAG]=!0),p[n.NODE]||a||s||W[n.NODE]){var G=v&&!W[n.NODE]&&1!==y,B=o||(G?c.data.bufferContexts[n.MOTIONBLUR_BUFFER_NODE]:f.contexts[n.NODE]),Z=v&&!G?"motionBlur":void 0;i(B,Z),x(A.nondrag,B),a||v||(p[n.NODE]=!1)}if(!s&&(p[n.DRAG]||a||W[n.DRAG])){var G=v&&!W[n.DRAG]&&1!==y,B=o||(G?c.data.bufferContexts[n.MOTIONBLUR_BUFFER_DRAG]:f.contexts[n.DRAG]);i(B,v&&!G?"motionBlur":void 0),x(A.drag,B),a||v||(p[n.DRAG]=!1)}if(c.showFps||!s&&p[n.SELECT_BOX]&&!a){var B=o||f.contexts[n.SELECT_BOX];if(i(B),1==f.select[4]&&(c.hoverData.selecting||c.touchData.selecting)){var S=f.cy.zoom(),K=_["selection-box-border-width"].value/S;B.lineWidth=K,B.fillStyle="rgba("+_["selection-box-color"].value[0]+","+_["selection-box-color"].value[1]+","+_["selection-box-color"].value[2]+","+_["selection-box-opacity"].value+")",B.fillRect(f.select[0],f.select[1],f.select[2]-f.select[0],f.select[3]-f.select[1]),K>0&&(B.strokeStyle="rgba("+_["selection-box-border-color"].value[0]+","+_["selection-box-border-color"].value[1]+","+_["selection-box-border-color"].value[2]+","+_["selection-box-opacity"].value+")",B.strokeRect(f.select[0],f.select[1],f.select[2]-f.select[0],f.select[3]-f.select[1]))}if(f.bgActivePosistion&&!c.hoverData.selecting){var S=f.cy.zoom(),J=f.bgActivePosistion;B.fillStyle="rgba("+_["active-bg-color"].value[0]+","+_["active-bg-color"].value[1]+","+_["active-bg-color"].value[2]+","+_["active-bg-opacity"].value+")",B.beginPath(),B.arc(J.x,J.y,_["active-bg-size"].pxValue/S,0,2*Math.PI),B.fill()}var Q=c.averageRedrawTime;if(c.showFps&&Q){Q=Math.round(Q);var tt=Math.round(1e3/Q);B.setTransform(1,0,0,1,0,0),B.fillStyle="rgba(255, 0, 0, 0.75)",B.strokeStyle="rgba(255, 0, 0, 0.75)",B.lineWidth=1,B.fillText("1 frame = "+Q+" ms = "+tt+" fps",0,20);var et=60;B.strokeRect(0,30,250,20),B.fillRect(0,30,250*Math.min(tt/et,1),20)}a||(p[n.SELECT_BOX]=!1)}if(v&&1!==y){var nt=f.contexts[n.NODE],rt=c.data.bufferCanvases[n.MOTIONBLUR_BUFFER_NODE],it=f.contexts[n.DRAG],ot=c.data.bufferCanvases[n.MOTIONBLUR_BUFFER_DRAG],at=function(t,e,n){t.setTransform(1,0,0,1,0,0),n||!w?t.clearRect(0,0,c.canvasWidth,c.canvasHeight):r(t,0,0,c.canvasWidth,c.canvasHeight);var i=y;t.drawImage(e,0,0,c.canvasWidth*i,c.canvasHeight*i,0,0,c.canvasWidth,c.canvasHeight)};(p[n.NODE]||W[n.NODE])&&(at(nt,rt,W[n.NODE]),p[n.NODE]=!1),(p[n.DRAG]||W[n.DRAG])&&(at(it,ot,W[n.DRAG]),p[n.DRAG]=!1)}var st=Date.now();void 0===c.averageRedrawTime&&(c.averageRedrawTime=st-P),void 0===c.redrawCount&&(c.redrawCount=0),c.redrawCount++,void 0===c.redrawTotalTime&&(c.redrawTotalTime=0),c.redrawTotalTime+=st-P,c.lastRedrawTime=st-P,c.averageRedrawTime=c.averageRedrawTime/2+(st-P)/2,c.currentlyDrawing=!1,c.prevViewport=D,c.clearingMotionBlur&&(c.clearingMotionBlur=!1,c.motionBlurCleared=!0,c.motionBlur=!0),v&&(c.motionBlurTimeout=setTimeout(function(){c.motionBlurTimeout=null,c.clearedForMotionBlur[n.NODE]=!1,c.clearedForMotionBlur[n.DRAG]=!1,c.motionBlur=!1,c.clearingMotionBlur=!g,c.mbFrames=0,p[n.NODE]=!0,p[n.DRAG]=!0,c.redraw()},e.motionBlurDelay)),c.drawingImage=!1}r=r||{};var o=r.forcedContext,a=r.drawAllLayers,s=r.drawOnlyNodeLayer,l=r.forcedZoom,u=r.forcedPan,c=this,h=void 0===r.forcedPxRatio?this.getPixelRatio():r.forcedPxRatio,d=c.data.cy,f=c.data,p=f.canvasNeedsRedraw,g=c.textureOnViewport&&!o&&(c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming),v=void 0!==r.motionBlur?r.motionBlur:c.motionBlur,y=c.motionBlurPxRatio,m=d.hasCompoundNodes(),b=c.hoverData.draggingEles,x=!(!c.hoverData.selecting&&!c.touchData.selecting);v=v&&!o&&c.motionBlurEnabled&&!x;var w=v;!o&&c.motionBlurTimeout&&clearTimeout(c.motionBlurTimeout),!o&&this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=null,void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);var E=e.minRedrawLimit,_=e.maxRedrawLimit,S=this.averageRedrawTime;S=E>S?E:S,S=_>S?S:_,void 0===this.lastDrawTime&&(this.lastDrawTime=0);var T=Date.now(),C=T-this.lastDrawTime,k=C>=S;if(!o&&!c.clearingMotionBlur){if(!k||this.currentlyDrawing)return void(this.redrawTimeout=setTimeout(function(){c.redraw()},S));this.lastDrawTime=T,this.currentlyDrawing=!0}v&&(null==c.mbFrames&&(c.mbFrames=0),c.drawingImage||c.mbFrames++,c.mbFrames<3&&(w=!1),c.mbFrames>c.minMbLowQualFrames&&(c.motionBlurPxRatio=c.mbPxRBlurry)),c.clearingMotionBlur&&(c.motionBlurPxRatio=1);var P=Date.now();o?i():t.util.requestAnimationFrame(i),o||c.initrender||(c.initrender=!0,d.trigger("initrender")),o||d.triggerOnRender()}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.drawPolygonPath=function(t,e,n,r,i,o){var a=r/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],n+s*o[1]);for(var l=1;l<o.length/2;l++)t.lineTo(e+a*o[2*l],n+s*o[2*l+1]);t.closePath()},n.drawPolygon=function(t,e,n,r,i,o){this.drawPolygonPath(t,e,n,r,i,o),t.fill()},n.drawRoundRectanglePath=function(e,n,r,i,o,a){var s=i/2,l=o/2,u=t.math.getRoundRectangleRadius(i,o);e.beginPath&&e.beginPath(),e.moveTo(n,r-l),e.arcTo(n+s,r-l,n+s,r,u),e.arcTo(n+s,r+l,n,r+l,u),e.arcTo(n-s,r+l,n-s,r,u),e.arcTo(n-s,r-l,n,r-l,u),e.lineTo(n,r-l),e.closePath()},n.drawRoundRectangle=function(t,e,n,r,i,o){this.drawRoundRectanglePath(t,e,n,r,i,o),t.fill()}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e.prototype;n.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]},n.bufferCanvasImage=function(e){var n=this.data,r=n.cy,i=r.elements().boundingBox(),o=e.full?Math.ceil(i.w):this.data.container.clientWidth,a=e.full?Math.ceil(i.h):this.data.container.clientHeight,s=1;if(void 0!==e.scale)o*=e.scale,a*=e.scale,s=e.scale;else if(t.is.number(e.maxWidth)||t.is.number(e.maxHeight)){var l=1/0,u=1/0;t.is.number(e.maxWidth)&&(l=s*e.maxWidth/o),t.is.number(e.maxHeight)&&(u=s*e.maxHeight/a),s=Math.min(l,u),o*=s,a*=s}var c=document.createElement("canvas");c.width=o,c.height=a,c.style.width=o+"px",c.style.height=a+"px";var h=c.getContext("2d");if(o>0&&a>0)if(h.clearRect(0,0,o,a),e.bg&&(h.fillStyle=e.bg,h.rect(0,0,o,a),h.fill()),h.globalCompositeOperation="source-over",e.full)this.redraw({forcedContext:h,drawAllLayers:!0,forcedZoom:s,forcedPan:{x:-i.x1*s,y:-i.y1*s},forcedPxRatio:1});else{var d=r.pan(),f={x:d.x*s,y:d.y*s},p=r.zoom()*s;this.redraw({forcedContext:h,drawAllLayers:!0,forcedZoom:p,forcedPan:f,forcedPxRatio:1})}return c},n.png=function(t){return this.bufferCanvasImage(t).toDataURL("image/png")},n.jpg=function(t){return this.bufferCanvasImage(t).toDataURL("image/jpeg")}}(cytoscape),function(t){"use strict";var e=t("renderer","canvas"),n=e,r=n.prototype;r.registerBinding=function(t,e,n,r){this.bindings.push({target:t,event:e,handler:n,useCapture:r}),t.addEventListener(e,n,r)},r.nodeIsDraggable=function(t){return!(0===t._private.style.opacity.value||"visible"!=t._private.style.visibility.value||"element"!=t._private.style.display.value||t.locked()||!t.grabbable())},r.load=function(){var e=this,r=function(t){var n;if(t.addToList&&e.data.cy.hasCompoundNodes()){if(!t.addToList.hasId){t.addToList.hasId={};for(var r=0;r<t.addToList.length;r++){var i=t.addToList[r];t.addToList.hasId[i.id()]=!0}}n=t.addToList.hasId}return n||{}},i=function(t,e){if(t._private.cy.hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList))for(var n=r(e),i=t.descendants(),o=0;o<i.size();o++){var a=i[o],s=a._private;e.inDragLayer&&(s.rscratch.inDragLayer=!0),e.addToList&&!n[a.id()]&&(e.addToList.push(a),n[a.id()]=!0,s.grabbed=!0);for(var l=s.edges,u=0;e.inDragLayer&&u<l.length;u++)l[u]._private.rscratch.inDragLayer=!0}},o=function(t,e){var n=t._private,o=r(e);e.inDragLayer&&(n.rscratch.inDragLayer=!0),e.addToList&&!o[t.id()]&&(e.addToList.push(t),o[t.id()]=!0,n.grabbed=!0);for(var a=n.edges,l=0;e.inDragLayer&&l<a.length;l++)a[l]._private.rscratch.inDragLayer=!0;i(t,e),s(t,{inDragLayer:e.inDragLayer})},a=function(t){if(t)for(var e=0;e<t.length;e++){var n=t[e]._private;if("nodes"===n.group){n.rscratch.inDragLayer=!1,n.grabbed=!1;for(var r=n.edges,i=0;i<r.length;i++)r[i]._private.rscratch.inDragLayer=!1;s(t[e],{inDragLayer:!1})}else"edges"===n.group&&(n.rscratch.inDragLayer=!1)}},s=function(t,e){if(null!=e.inDragLayer||null!=e.addToList){var n=t;if(t._private.cy.hasCompoundNodes()){for(;n.parent().nonempty();)n=n.parent()[0];if(n!=t){for(var i=n.descendants().merge(n).unmerge(t).unmerge(t.descendants()),o=i.connectedEdges(),a=r(e),s=0;s<i.size();s++)void 0!==e.inDragLayer&&(i[s]._private.rscratch.inDragLayer=e.inDragLayer),e.addToList&&!a[i[s].id()]&&(e.addToList.push(i[s]),a[i[s].id()]=!0,i[s]._private.grabbed=!0);for(var l=0;void 0!==e.inDragLayer&&l<o.length;l++)o[l]._private.rscratch.inDragLayer=e.inDragLayer}}}};"undefined"!=typeof MutationObserver?(e.removeObserver=new MutationObserver(function(t){
for(var n=0;n<t.length;n++){var r=t[n],i=r.removedNodes;if(i)for(var o=0;o<i.length;o++){var a=i[o];if(a===e.data.container){e.destroy();break}}}}),e.removeObserver.observe(e.data.container.parentNode,{childList:!0})):e.registerBinding(e.data.container,"DOMNodeRemoved",function(t){e.destroy()}),e.registerBinding(window,"resize",t.util.debounce(function(t){e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.data.container),e.data.canvasNeedsRedraw[n.NODE]=!0,e.redraw()},100));for(var l=function(t){e.registerBinding(t,"scroll",function(t){e.invalidateContainerClientCoordsCache()})},u=e.data.cy.container();l(u),u.parentNode;)u=u.parentNode;e.registerBinding(e.data.container,"contextmenu",function(t){t.preventDefault()});var c=function(){return 0!==e.data.select[4]};e.registerBinding(e.data.container,"mousedown",function(r){r.preventDefault(),e.hoverData.capture=!0,e.hoverData.which=r.which;var i=e.data.cy,a=e.projectIntoViewport(r.clientX,r.clientY),s=e.data.select,l=e.findNearestElement(a[0],a[1],!0,!1),u=e.dragData.possibleDragElements;e.hoverData.mdownPos=a;var c=e.data.canvasNeedsRedraw,h=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.trigger(new t.Event(r,{type:"taphold",cyPosition:{x:a[0],y:a[1]}})):i.trigger(new t.Event(r,{type:"taphold",cyPosition:{x:a[0],y:a[1]}}))}},e.tapholdDuration)};if(3==r.which){e.hoverData.cxtStarted=!0;var d=new t.Event(r,{type:"cxttapstart",cyPosition:{x:a[0],y:a[1]}});l?(l.activate(),l.trigger(d),e.hoverData.down=l):i.trigger(d),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==r.which){if(l&&l.activate(),null!=l){if(e.nodeIsDraggable(l)){var f=new t.Event(r,{type:"grab",cyPosition:{x:a[0],y:a[1]}});if(l.isNode()&&!l.selected())u=e.dragData.possibleDragElements=[],o(l,{addToList:u}),l.trigger(f);else if(l.isNode()&&l.selected()){u=e.dragData.possibleDragElements=[];for(var p=i.$(function(){return this.isNode()&&this.selected()}),g=0;g<p.length;g++)e.nodeIsDraggable(p[g])&&o(p[g],{addToList:u});l.trigger(f)}c[n.NODE]=!0,c[n.DRAG]=!0}l.trigger(new t.Event(r,{type:"mousedown",cyPosition:{x:a[0],y:a[1]}})).trigger(new t.Event(r,{type:"tapstart",cyPosition:{x:a[0],y:a[1]}})).trigger(new t.Event(r,{type:"vmousedown",cyPosition:{x:a[0],y:a[1]}}))}else null==l&&i.trigger(new t.Event(r,{type:"mousedown",cyPosition:{x:a[0],y:a[1]}})).trigger(new t.Event(r,{type:"tapstart",cyPosition:{x:a[0],y:a[1]}})).trigger(new t.Event(r,{type:"vmousedown",cyPosition:{x:a[0],y:a[1]}}));if(e.hoverData.down=l,e.hoverData.downTime=(new Date).getTime(),null==l||l.isEdge()){s[4]=1;var v=Math.max(0,n.panOrBoxSelectDelay-(+new Date-e.hoverData.downTime));clearTimeout(e.bgActiveTimeout),i.boxSelectionEnabled()||l&&l.isEdge()?e.bgActiveTimeout=setTimeout(function(){l&&l.unactivate(),e.data.bgActivePosistion={x:a[0],y:a[1]},e.hoverData.dragging=!0,c[n.SELECT_BOX]=!0,e.redraw()},v):(e.data.bgActivePosistion={x:a[0],y:a[1]},c[n.SELECT_BOX]=!0,e.redraw())}h()}s[0]=s[2]=a[0],s[1]=s[3]=a[1]},!1),e.registerBinding(window,"mousemove",t.util.throttle(function(r){var i=!1,a=e.hoverData.capture;if(!a){var s=e.findContainerClientCoords();if(!(r.clientX>s[0]&&r.clientX<s[0]+e.canvasWidth&&r.clientY>s[1]&&r.clientY<s[1]+e.canvasHeight))return;for(var l=e.data.container,u=r.target,c=u.parentNode,h=!1;c;){if(c===l){h=!0;break}c=c.parentNode}if(!h)return}var d=e.data.cy,f=d.zoom(),p=e.projectIntoViewport(r.clientX,r.clientY),g=e.data.select,v=e.data.canvasNeedsRedraw,y=null;e.hoverData.draggingEles||(y=e.findNearestElement(p[0],p[1],!0,!1));var m=e.hoverData.last,b=e.hoverData.down,x=[p[0]-g[2],p[1]-g[3]],w=e.dragData.possibleDragElements,E=g[2]-g[0],_=E*E,S=g[3]-g[1],T=S*S,C=_+T,k=C*f*f;e.hoverData.tapholdCancelled=!0;var P=function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(x[0]),t.push(x[1])):(t[0]+=x[0],t[1]+=x[1])};if(i=!0,null!=y?y.trigger(new t.Event(r,{type:"mousemove",cyPosition:{x:p[0],y:p[1]}})).trigger(new t.Event(r,{type:"vmousemove",cyPosition:{x:p[0],y:p[1]}})).trigger(new t.Event(r,{type:"tapdrag",cyPosition:{x:p[0],y:p[1]}})):null==y&&d.trigger(new t.Event(r,{type:"mousemove",cyPosition:{x:p[0],y:p[1]}})).trigger(new t.Event(r,{type:"vmousemove",cyPosition:{x:p[0],y:p[1]}})).trigger(new t.Event(r,{type:"tapdrag",cyPosition:{x:p[0],y:p[1]}})),3===e.hoverData.which){var D=new t.Event(r,{type:"cxtdrag",cyPosition:{x:p[0],y:p[1]}});b?b.trigger(D):d.trigger(D),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&y===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.trigger(new t.Event(r,{type:"cxtdragout",cyPosition:{x:p[0],y:p[1]}})),e.hoverData.cxtOver=y,y&&y.trigger(new t.Event(r,{type:"cxtdragover",cyPosition:{x:p[0],y:p[1]}})))}else if(e.hoverData.dragging){if(i=!0,d.panningEnabled()&&d.userPanningEnabled()){var M;if(e.hoverData.justStartedPan){var N=e.hoverData.mdownPos;M={x:(p[0]-N[0])*f,y:(p[1]-N[1])*f},e.hoverData.justStartedPan=!1}else M={x:x[0]*f,y:x[1]*f};d.panBy(M),e.hoverData.dragged=!0}p=e.projectIntoViewport(r.clientX,r.clientY)}else if(1==g[4]&&(null==b||b.isEdge())&&(!d.boxSelectionEnabled()||+new Date-e.hoverData.downTime>=n.panOrBoxSelectDelay)&&!e.hoverData.selecting&&k>=e.desktopTapThreshold2&&d.panningEnabled()&&d.userPanningEnabled())e.hoverData.dragging=!0,e.hoverData.selecting=!1,e.hoverData.justStartedPan=!0,g[4]=0;else{if(d.boxSelectionEnabled()&&!e.hoverData.dragging&&Math.pow(g[2]-g[0],2)+Math.pow(g[3]-g[1],2)>7&&g[4]&&(clearTimeout(e.bgActiveTimeout),e.data.bgActivePosistion=void 0,e.hoverData.selecting=!0,v[n.SELECT_BOX]=!0,e.redraw()),b&&b.isEdge()&&b.active()&&b.unactivate(),y!=m&&(m&&(m.trigger(new t.Event(r,{type:"mouseout",cyPosition:{x:p[0],y:p[1]}})),m.trigger(new t.Event(r,{type:"tapdragout",cyPosition:{x:p[0],y:p[1]}}))),y&&(y.trigger(new t.Event(r,{type:"mouseover",cyPosition:{x:p[0],y:p[1]}})),y.trigger(new t.Event(r,{type:"tapdragover",cyPosition:{x:p[0],y:p[1]}}))),e.hoverData.last=y),b&&b.isNode()&&e.nodeIsDraggable(b))if(k>=e.desktopTapThreshold2){var A=!e.dragData.didDrag;A&&(v[n.NODE]=!0),e.dragData.didDrag=!0;for(var I=[],O=0;O<w.length;O++){var B=w[O];if(e.hoverData.draggingEles||o(B,{inDragLayer:!0}),B.isNode()&&e.nodeIsDraggable(B)&&B.grabbed()){var L=B._private.position;if(I.push(B),t.is.number(x[0])&&t.is.number(x[1])&&(L.x+=x[0],L.y+=x[1],A)){var R=e.hoverData.dragDelta;t.is.number(R[0])&&t.is.number(R[1])&&(L.x+=R[0],L.y+=R[1])}}}e.hoverData.draggingEles=!0;var j=new t.Collection(d,I);j.updateCompoundBounds(),j.trigger("position drag"),v[n.DRAG]=!0,e.redraw()}else P();i=!0}return g[2]=p[0],g[3]=p[1],i?(r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault(),!1):void 0},1e3/30,{trailing:!0}),!1),e.registerBinding(window,"mouseup",function(r){var i=e.hoverData.capture;if(i){e.hoverData.capture=!1;var o=e.data.cy,s=e.projectIntoViewport(r.clientX,r.clientY),l=e.data.select,u=e.findNearestElement(s[0],s[1],!0,!1),c=e.dragData.possibleDragElements,h=e.hoverData.down,d=r.shiftKey,f=e.data.canvasNeedsRedraw;if(e.data.bgActivePosistion&&(f[n.SELECT_BOX]=!0,e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,clearTimeout(e.bgActiveTimeout),h&&h.unactivate(),3===e.hoverData.which){var p=new t.Event(r,{type:"cxttapend",cyPosition:{x:s[0],y:s[1]}});if(h?h.trigger(p):o.trigger(p),!e.hoverData.cxtDragged){var g=new t.Event(r,{type:"cxttap",cyPosition:{x:s[0],y:s[1]}});h?h.trigger(g):o.trigger(g)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else{if(null!=h||e.dragData.didDrag||e.hoverData.dragged||(o.$(function(){return this.selected()}).unselect(),c.length>0&&(f[n.NODE]=!0),e.dragData.possibleDragElements=c=[]),null!=u?u.trigger(new t.Event(r,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(r,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(r,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})):null==u&&o.trigger(new t.Event(r,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(r,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(r,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})),e.dragData.didDrag||e.hoverData.dragged||(null!=u?u.trigger(new t.Event(r,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(r,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(r,{type:"vclick",cyPosition:{x:s[0],y:s[1]}})):null==u&&o.trigger(new t.Event(r,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(r,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new t.Event(r,{type:"vclick",cyPosition:{x:s[0],y:s[1]}}))),u!=h||e.dragData.didDrag||null!=u&&u._private.selectable&&(e.hoverData.dragging||("additive"===o.selectionType()||d?u.selected()?u.unselect():u.select():d||(o.$(":selected").unmerge(u).unselect(),u.select())),f[n.NODE]=!0),e.hoverData.selecting&&o.boxSelectionEnabled()&&Math.pow(l[2]-l[0],2)+Math.pow(l[3]-l[1],2)>7&&l[4]){var v=[],y=e.getAllInBox(l[0],l[1],l[2],l[3]);f[n.SELECT_BOX]=!0,y.length>0&&(f[n.NODE]=!0);for(var m=0;m<y.length;m++)y[m]._private.selectable&&v.push(y[m]);var b=new t.Collection(o,v);"additive"===o.selectionType()?b.select():(d||o.$(":selected").unmerge(b).unselect(),b.select()),e.redraw()}e.hoverData.dragging&&(e.hoverData.dragging=!1,f[n.SELECT_BOX]=!0,f[n.NODE]=!0,e.redraw()),l[4]||(f[n.DRAG]=!0,f[n.NODE]=!0,a(c),h&&h.trigger("free"))}l[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[]}},!1);var h=function(t){if(!e.scrollingPage){var r=e.data.cy,i=e.projectIntoViewport(t.clientX,t.clientY),o=[i[0]*r.zoom()+r.pan().x,i[1]*r.zoom()+r.pan().y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||c())return void t.preventDefault();if(r.panningEnabled()&&r.userPanningEnabled()&&r.zoomingEnabled()&&r.userZoomingEnabled()){t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.data.canvasNeedsRedraw[n.NODE]=!0,e.redraw()},150);var a=t.deltaY/-250||t.wheelDeltaY/1e3||t.wheelDelta/1e3;a*=e.wheelSensitivity;var s=1===t.deltaMode;s&&(a*=33),r.zoom({level:r.zoom()*Math.pow(10,a),renderedPosition:{x:o[0],y:o[1]}})}}};e.registerBinding(e.data.container,"wheel",h,!0),e.registerBinding(window,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.data.container,"mouseout",function(n){var r=e.projectIntoViewport(n.clientX,n.clientY);e.data.cy.trigger(new t.Event(n,{type:"mouseout",cyPosition:{x:r[0],y:r[1]}}))},!1),e.registerBinding(e.data.container,"mouseover",function(n){var r=e.projectIntoViewport(n.clientX,n.clientY);e.data.cy.trigger(new t.Event(n,{type:"mouseover",cyPosition:{x:r[0],y:r[1]}}))},!1);var d,f,p,g,v,y,m,b,x,w,E,_,S,T=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},C=function(t,e,n,r){return(n-t)*(n-t)+(r-e)*(r-e)};e.registerBinding(e.data.container,"touchstart",function(r){clearTimeout(this.threeFingerSelectTimeout),r.target!==e.data.link&&r.preventDefault(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var i=e.data.cy,a=e.getCachedNodes(),s=e.getCachedEdges(),l=e.touchData.now,u=e.touchData.earlier,c=e.data.canvasNeedsRedraw;if(r.touches[0]){var h=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);l[0]=h[0],l[1]=h[1]}if(r.touches[1]){var h=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);l[2]=h[0],l[3]=h[1]}if(r.touches[2]){var h=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);l[4]=h[0],l[5]=h[1]}if(r.touches[1]){var k=function(t){for(var e=0;e<t.length;e++)t[e]._private.grabbed=!1,t[e]._private.rscratch.inDragLayer=!1,t[e].active()&&t[e].unactivate()};k(a),k(s);var P=e.findContainerClientCoords();x=P[0],w=P[1],E=P[2],_=P[3],d=r.touches[0].clientX-x,f=r.touches[0].clientY-w,p=r.touches[1].clientX-x,g=r.touches[1].clientY-w,S=d>=0&&E>=d&&p>=0&&E>=p&&f>=0&&_>=f&&g>=0&&_>=g;var D=i.pan(),M=i.zoom();v=T(d,f,p,g),y=C(d,f,p,g),m=[(d+p)/2,(f+g)/2],b=[(m[0]-D.x)/M,(m[1]-D.y)/M];var N=200,A=N*N;if(A>y&&!r.touches[2]){var I=e.findNearestElement(l[0],l[1],!0,!0),O=e.findNearestElement(l[2],l[3],!0,!0);return I&&I.isNode()?(I.activate().trigger(new t.Event(r,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),e.touchData.start=I):O&&O.isNode()?(O.activate().trigger(new t.Event(r,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),e.touchData.start=O):(i.trigger(new t.Event(r,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),e.touchData.start=null),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(r.touches[2]);else if(r.touches[1]);else if(r.touches[0]){var B=e.findNearestElement(l[0],l[1],!0,!0);if(null!=B){if(B.activate(),e.touchData.start=B,B.isNode()&&e.nodeIsDraggable(B)){var L=e.dragData.touchDragEles=[];if(c[n.NODE]=!0,c[n.DRAG]=!0,B.selected())for(var R=i.$(function(){return this.isNode()&&this.selected()}),j=0;j<R.length;j++){var $=R[j];e.nodeIsDraggable($)&&o($,{addToList:L})}else o(B,{addToList:L});B.trigger(new t.Event(r,{type:"grab",cyPosition:{x:l[0],y:l[1]}}))}B.trigger(new t.Event(r,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new t.Event(r,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new t.Event(r,{type:"vmousdown",cyPosition:{x:l[0],y:l[1]}}))}null==B&&(i.trigger(new t.Event(r,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new t.Event(r,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new t.Event(r,{type:"vmousedown",cyPosition:{x:l[0],y:l[1]}})),e.data.bgActivePosistion={x:h[0],y:h[1]},c[n.SELECT_BOX]=!0,e.redraw());for(var z=0;z<l.length;z++)u[z]=l[z],e.touchData.startPosition[z]=l[z];e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved!==!1||e.pinching||(e.touchData.start?e.touchData.start.trigger(new t.Event(r,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})):(e.data.cy.trigger(new t.Event(r,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})),i.$(":selected").unselect()))},e.tapholdDuration)}},!1),e.registerBinding(window,"touchmove",t.util.throttle(function(r){var i=e.data.select,a=e.touchData.capture;a&&r.preventDefault();var s=e.data.cy,l=e.touchData.now,u=e.touchData.earlier,c=s.zoom(),h=e.data.canvasNeedsRedraw;if(r.touches[0]){var m=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);l[0]=m[0],l[1]=m[1]}if(r.touches[1]){var m=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);l[2]=m[0],l[3]=m[1]}if(r.touches[2]){var m=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);l[4]=m[0],l[5]=m[1]}for(var E=[],_=0;_<l.length;_++)E[_]=l[_]-u[_];var k=e.touchData.startPosition,P=l[0]-k[0],D=P*P,M=l[1]-k[1],N=M*M,A=D+N,I=A*c*c;if(a&&e.touchData.cxt){var O=r.touches[0].clientX-x,B=r.touches[0].clientY-w,L=r.touches[1].clientX-x,R=r.touches[1].clientY-w,j=C(O,B,L,R),$=j/y,z=150,F=z*z,q=1.5,H=q*q;if($>=H||j>=F){e.touchData.cxt=!1,e.touchData.start&&(e.touchData.start.unactivate(),e.touchData.start=null),e.data.bgActivePosistion=void 0,h[n.SELECT_BOX]=!0;var Y=new t.Event(r,{type:"cxttapend",cyPosition:{x:l[0],y:l[1]}});e.touchData.start?e.touchData.start.trigger(Y):s.trigger(Y)}}if(a&&e.touchData.cxt){var Y=new t.Event(r,{type:"cxtdrag",cyPosition:{x:l[0],y:l[1]}});e.data.bgActivePosistion=void 0,h[n.SELECT_BOX]=!0,e.touchData.start?e.touchData.start.trigger(Y):s.trigger(Y),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var X=e.findNearestElement(l[0],l[1],!0,!0);e.touchData.cxtOver&&X===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.trigger(new t.Event(r,{type:"cxtdragout",cyPosition:{x:l[0],y:l[1]}})),e.touchData.cxtOver=X,X&&X.trigger(new t.Event(r,{type:"cxtdragover",cyPosition:{x:l[0],y:l[1]}})))}else if(a&&r.touches[2]&&s.boxSelectionEnabled())e.data.bgActivePosistion=void 0,clearTimeout(this.threeFingerSelectTimeout),this.lastThreeTouch=+new Date,e.touchData.selecting=!0,h[n.SELECT_BOX]=!0,i&&0!==i.length&&void 0!==i[0]?(i[2]=(l[0]+l[2]+l[4])/3,i[3]=(l[1]+l[3]+l[5])/3):(i[0]=(l[0]+l[2]+l[4])/3,i[1]=(l[1]+l[3]+l[5])/3,i[2]=(l[0]+l[2]+l[4])/3+1,i[3]=(l[1]+l[3]+l[5])/3+1),i[4]=1,e.touchData.selecting=!0,e.redraw();else if(a&&r.touches[1]&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){e.data.bgActivePosistion=void 0,h[n.SELECT_BOX]=!0;var V=e.dragData.touchDragEles;if(V){h[n.DRAG]=!0;for(var U=0;U<V.length;U++)V[U]._private.grabbed=!1,V[U]._private.rscratch.inDragLayer=!1}var O=r.touches[0].clientX-x,B=r.touches[0].clientY-w,L=r.touches[1].clientX-x,R=r.touches[1].clientY-w,W=T(O,B,L,R),G=W/v;if(1!=G&&S){var Z=O-d,K=B-f,J=L-p,Q=R-g,tt=(Z+J)/2,et=(K+Q)/2,nt=s.zoom(),rt=nt*G,it=s.pan(),ot=b[0]*nt+it.x,at=b[1]*nt+it.y,st={x:-rt/nt*(ot-it.x-tt)+ot,y:-rt/nt*(at-it.y-et)+at};if(e.touchData.start){var V=e.dragData.touchDragEles;if(V)for(var U=0;U<V.length;U++){var lt=V[U]._private;lt.grabbed=!1,lt.rscratch.inDragLayer=!1}var ut=e.touchData.start._private;ut.active=!1,ut.grabbed=!1,ut.rscratch.inDragLayer=!1,h[n.DRAG]=!0,e.touchData.start.trigger("free").trigger("unactivate")}s.viewport({zoom:rt,pan:st,cancelOnFailedZoom:!0}),v=W,d=O,f=B,p=L,g=R,e.pinching=!0}if(r.touches[0]){var m=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);l[0]=m[0],l[1]=m[1]}if(r.touches[1]){var m=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);l[2]=m[0],l[3]=m[1]}if(r.touches[2]){var m=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);l[4]=m[0],l[5]=m[1]}}else if(r.touches[0]){var ct=e.touchData.start,ht=e.touchData.last,X=X||e.findNearestElement(l[0],l[1],!0,!0);if(null!=ct&&"nodes"==ct._private.group&&e.nodeIsDraggable(ct))if(I>=e.touchTapThreshold2){for(var V=e.dragData.touchDragEles,dt=0;dt<V.length;dt++){var ft=V[dt];if(e.nodeIsDraggable(ft)&&ft.isNode()&&ft.grabbed()){e.dragData.didDrag=!0;var pt=ft._private.position,gt=!e.hoverData.draggingEles;if(t.is.number(E[0])&&t.is.number(E[1])&&(pt.x+=E[0],pt.y+=E[1]),gt){o(ft,{inDragLayer:!0}),h[n.NODE]=!0;var vt=e.touchData.dragDelta;t.is.number(vt[0])&&t.is.number(vt[1])&&(pt.x+=vt[0],pt.y+=vt[1])}}}var yt=new t.Collection(s,ft);yt.updateCompoundBounds(),yt.trigger("position drag"),e.hoverData.draggingEles=!0,h[n.DRAG]=!0,e.touchData.startPosition[0]==u[0]&&e.touchData.startPosition[1]==u[1]&&(h[n.NODE]=!0),e.redraw()}else{var vt=e.touchData.dragDelta=e.touchData.dragDelta||[];0===vt.length?(vt.push(E[0]),vt.push(E[1])):(vt[0]+=E[0],vt[1]+=E[1])}null!=ct&&(ct.trigger(new t.Event(r,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),ct.trigger(new t.Event(r,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),ct.trigger(new t.Event(r,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))),null==ct&&(null!=X&&(X.trigger(new t.Event(r,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),X.trigger(new t.Event(r,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),X.trigger(new t.Event(r,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))),null==X&&(s.trigger(new t.Event(r,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),s.trigger(new t.Event(r,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),s.trigger(new t.Event(r,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}})))),X!=ht&&(ht&&ht.trigger(new t.Event(r,{type:"tapdragout",cyPosition:{x:l[0],y:l[1]}})),X&&X.trigger(new t.Event(r,{type:"tapdragover",cyPosition:{x:l[0],y:l[1]}}))),e.touchData.last=X;for(var U=0;U<l.length;U++)l[U]&&e.touchData.startPosition[U]&&Math.abs(l[U]-e.touchData.startPosition[U])>4&&(e.touchData.singleTouchMoved=!0);if(a&&(null==ct||ct.isEdge())&&s.panningEnabled()&&s.userPanningEnabled()){e.swipePanning?s.panBy({x:E[0]*c,y:E[1]*c}):I>=e.touchTapThreshold2&&(e.swipePanning=!0,s.panBy({x:P*c,y:M*c})),ct&&(ct.unactivate(),e.data.bgActivePosistion||(e.data.bgActivePosistion={x:l[0],y:l[1]}),h[n.SELECT_BOX]=!0,e.touchData.start=null);var m=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);l[0]=m[0],l[1]=m[1]}}for(var _=0;_<l.length;_++)u[_]=l[_]},1e3/30,{trailing:!0}),!1),e.registerBinding(window,"touchcancel",function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",function(r){var i=e.touchData.start,o=e.touchData.capture;if(o){e.touchData.capture=!1,r.preventDefault();var s=e.data.select;e.swipePanning=!1,e.hoverData.draggingEles=!1;var l=e.data.cy,u=l.zoom(),c=e.touchData.now,h=e.touchData.earlier,d=e.data.canvasNeedsRedraw;if(r.touches[0]){var f=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);c[0]=f[0],c[1]=f[1]}if(r.touches[1]){var f=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);c[2]=f[0],c[3]=f[1]}if(r.touches[2]){var f=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);c[4]=f[0],c[5]=f[1]}i&&i.unactivate();var p;if(e.touchData.cxt){if(p=new t.Event(r,{type:"cxttapend",cyPosition:{x:c[0],y:c[1]}}),i?i.trigger(p):l.trigger(p),!e.touchData.cxtDragged){var g=new t.Event(r,{type:"cxttap",cyPosition:{x:c[0],y:c[1]}});i?i.trigger(g):l.trigger(g)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!r.touches[2]&&l.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1,clearTimeout(this.threeFingerSelectTimeout);var v=[],y=e.getAllInBox(s[0],s[1],s[2],s[3]);s[0]=void 0,s[1]=void 0,s[2]=void 0,s[3]=void 0,s[4]=0,d[n.SELECT_BOX]=!0;for(var m=0;m<y.length;m++)y[m]._private.selectable&&v.push(y[m]);var b=new t.Collection(l,v);"single"===l.selectionType()&&l.$(":selected").unmerge(b).unselect(),b.select(),b.length>0?d[n.NODE]=!0:e.redraw()}var x=!1;if(null!=i&&(i._private.active=!1,x=!0,i.unactivate()),r.touches[2])e.data.bgActivePosistion=void 0,d[n.SELECT_BOX]=!0;else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){e.data.bgActivePosistion=void 0,d[n.SELECT_BOX]=!0;var w=e.dragData.touchDragEles;if(null!=i){var E=i._private.grabbed;a(w),d[n.DRAG]=!0,d[n.NODE]=!0,E&&i.trigger("free"),i.trigger(new t.Event(r,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(r,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(r,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}})),i.unactivate(),e.touchData.start=null}else{var _=e.findNearestElement(c[0],c[1],!0,!0);null!=_&&_.trigger(new t.Event(r,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(r,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(r,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}})),null==_&&l.trigger(new t.Event(r,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(r,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(r,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}}))}var S=e.touchData.startPosition[0]-c[0],T=S*S,C=e.touchData.startPosition[1]-c[1],k=C*C,P=T+k,D=P*u*u;null!=i&&!e.dragData.didDrag&&i._private.selectable&&D<e.touchTapThreshold2&&!e.pinching&&("single"===l.selectionType()?(l.$(":selected").unmerge(i).unselect(),i.select()):i.selected()?i.unselect():i.select(),x=!0,d[n.NODE]=!0),e.touchData.singleTouchMoved===!1&&(i?i.trigger(new t.Event(r,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(r,{type:"vclick",cyPosition:{x:c[0],y:c[1]}})):l.trigger(new t.Event(r,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new t.Event(r,{type:"vclick",cyPosition:{x:c[0],y:c[1]}}))),e.touchData.singleTouchMoved=!0}for(var M=0;M<c.length;M++)h[M]=c[M];e.dragData.didDrag=!1,0===r.touches.length&&(e.touchData.dragDelta=[]),x&&i&&i.updateStyle(!1),r.touches.length<2&&(e.pinching=!1,d[n.NODE]=!0,e.redraw())}},!1)}}(cytoscape),function(t){"use strict";function e(e,n){o[e]={points:n,draw:function(t,n,i,a,s){r.drawPolygon(t,n,i,a,s,o[e].points)},drawPath:function(t,n,i,a,s){r.drawPolygonPath(t,n,i,a,s,o[e].points)},intersectLine:function(n,r,i,a,s,l,u){return t.math.polygonIntersectLine(s,l,o[e].points,n,r,i/2,a/2,u)},intersectBox:function(n,r,i,a,s,l,u,c,h){var d=o[e].points;return t.math.boxIntersectPolygon(n,r,i,a,d,s,l,u,c,[0,-1],h)},checkPoint:function(n,r,i,a,s,l,u){return t.math.pointInsidePolygon(n,r,o[e].points,l,u,a,s,[0,-1],i)}}}for(var n=t("renderer","canvas"),r=n.prototype,i=n.usePaths(),o=n.nodeShapes={},a=Math.sin(0),s=Math.cos(0),l={},u={},c=.1,h=0*Math.PI;h<2*Math.PI;h+=c)l[h]=Math.sin(h),u[h]=Math.cos(h);o.ellipse={draw:function(t,e,n,r,i){o.ellipse.drawPath(t,e,n,r,i),t.fill()},drawPath:function(t,e,n,r,o){if(i){t.beginPath&&t.beginPath();for(var h,d,f=r/2,p=o/2,g=0*Math.PI;g<2*Math.PI;g+=c)h=e-f*l[g]*a+f*u[g]*s,d=n+p*u[g]*a+p*l[g]*s,0===g?t.moveTo(h,d):t.lineTo(h,d);t.closePath()}else t.beginPath&&t.beginPath(),t.translate(e,n),t.scale(r/2,o/2),t.arc(0,0,1,0,2*Math.PI*.999,!1),t.closePath(),t.scale(2/r,2/o),t.translate(-e,-n)},intersectLine:function(e,n,r,i,o,a,s){var l=t.math.intersectLineEllipse(o,a,e,n,r/2+s,i/2+s);return l},intersectBox:function(e,n,r,i,o,a,s,l,u){return t.math.boxIntersectEllipse(e,n,r,i,u,o,a,s,l)},checkPoint:function(t,e,n,r,i,o,a){return t-=o,e-=a,t/=r/2+n,e/=i/2+n,Math.pow(t,2)+Math.pow(e,2)<=1}},e("triangle",t.math.generateUnitNgonPointsFitToSquare(3,0)),e("square",t.math.generateUnitNgonPointsFitToSquare(4,0)),o.rectangle=o.square,o.roundrectangle={points:t.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(t,e,n,i,o){r.drawRoundRectangle(t,e,n,i,o,10)},drawPath:function(t,e,n,i,o){r.drawRoundRectanglePath(t,e,n,i,o,10)},intersectLine:function(e,n,r,i,o,a,s){return t.math.roundRectangleIntersectLine(o,a,e,n,r,i,s)},intersectBox:function(e,n,r,i,o,a,s,l,u){return t.math.roundRectangleIntersectBox(e,n,r,i,o,a,s,l,u)},checkPoint:function(e,n,r,i,a,s,l){var u=t.math.getRoundRectangleRadius(i,a);if(t.math.pointInsidePolygon(e,n,o.roundrectangle.points,s,l,i,a-2*u,[0,-1],r))return!0;if(t.math.pointInsidePolygon(e,n,o.roundrectangle.points,s,l,i-2*u,a,[0,-1],r))return!0;var c=function(t,e,n,r,i,o,a){return t-=n,e-=r,t/=i/2+a,e/=o/2+a,Math.pow(t,2)+Math.pow(e,2)<=1};return c(e,n,s-i/2+u,l-a/2+u,2*u,2*u,r)?!0:c(e,n,s+i/2-u,l-a/2+u,2*u,2*u,r)?!0:c(e,n,s+i/2-u,l+a/2-u,2*u,2*u,r)?!0:!!c(e,n,s-i/2+u,l+a/2-u,2*u,2*u,r)}},e("diamond",[0,1,1,0,0,-1,-1,0]),e("pentagon",t.math.generateUnitNgonPointsFitToSquare(5,0)),e("hexagon",t.math.generateUnitNgonPointsFitToSquare(6,0)),e("heptagon",t.math.generateUnitNgonPointsFitToSquare(7,0)),e("octagon",t.math.generateUnitNgonPointsFitToSquare(8,0));var d=new Array(20),f=t.math.generateUnitNgonPoints(5,0),p=t.math.generateUnitNgonPoints(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var h=0;h<p.length/2;h++)p[2*h]*=g,p[2*h+1]*=g;for(var h=0;5>h;h++)d[4*h]=f[2*h],d[4*h+1]=f[2*h+1],d[4*h+2]=p[2*h],d[4*h+3]=p[2*h+1];d=t.math.fitPolygonToSquare(d),e("star",d),e("vee",[-1,-1,0,-.333,1,-1,0,1]),e("rhomboid",[-1,-1,.333,-1,1,1,-.333,1])}(cytoscape),function(t){"use strict";function e(e){this._private={},this._private.options=t.util.extend({},n,e)}var n={animate:!0,maxSimulationTime:4e3,fit:!0,padding:30,boundingBox:void 0,ungrabifyWhileSimulating:!1,ready:void 0,stop:void 0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:.1,stableEnergy:function(t){var e=t;return e.max<=.5||e.mean<=.3},infinite:!1};e.prototype.run=function(){var e=this,n=this._private.options;return t.util.require("arbor",function(r){function i(t,e){return null==e?void 0:"function"==typeof e?e.apply(t,[t._private.data,{nodes:u.length,edges:c.length,element:t}]):e}function o(t){if(!t.isFullAutoParent()){var e=t._private.data.id,r=i(t,n.nodeMass),o=t._private.locked,a=t.position(),s=f.fromScreen({x:a.x,y:a.y});t.scratch().arbor=f.addNode(e,{element:t,mass:r,fixed:o,x:o&&s?s.x:void 0,y:o&&s?s.y:void 0})}}function a(t){var e=t.source().id(),r=t.target().id(),o=i(t,n.edgeLength);t.scratch().arbor=f.addEdge(e,r,{length:o})}var s=n.cy,l=n.eles,u=l.nodes().not(":parent"),c=l.edges(),h=t.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),d=!1;if(e.trigger({type:"layoutstart",layout:e}),void 0!==n.liveUpdate&&(n.animate=n.liveUpdate),l.nodes().size()<=1)return n.fit&&s.reset(),l.nodes().position({x:Math.round((h.x1+h.x2)/2),y:Math.round((h.y1+h.y2)/2)}),e.one("layoutready",n.ready),e.trigger({type:"layoutready",layout:e}),e.one("layoutstop",n.stop),void e.trigger({type:"layoutstop",layout:e});var f=e._private.system=r.ParticleSystem();f.parameters({repulsion:n.repulsion,stiffness:n.stiffness,friction:n.friction,gravity:n.gravity,fps:n.fps,dt:n.dt,precision:n.precision}),n.animate&&n.fit&&s.fit(h,n.padding);var p,g=250,v=!1,y=+new Date,m={init:function(t){},redraw:function(){var t=f.energy();if(!n.infinite&&null!=n.stableEnergy&&null!=t&&t.n>0&&n.stableEnergy(t))return void e.stop();n.infinite||g==1/0||(clearTimeout(p),p=setTimeout(T,g));var r=s.collection();f.eachNode(function(t,e){var n=t.data,i=n.element;null!=i&&(i.locked()||i.grabbed()||(i.silentPosition({x:h.x1+e.x,y:h.y1+e.y}),r.merge(i)))}),n.animate&&r.length>0&&(d=!0,r.rtrigger("position"),n.fit&&s.fit(n.padding),y=+new Date,d=!1),v||(v=!0,e.one("layoutready",n.ready),e.trigger({type:"layoutready",layout:e}))}};f.renderer=m,f.screenSize(h.w,h.h),f.screenPadding(n.padding,n.padding,n.padding,n.padding),f.screenStep(n.stepSize);var b;u.on("grab free position",b=function(t){if(!d){var e=this.position(),i=f.fromScreen(e);if(i){var o=r.Point(i.x,i.y),a=n.padding;switch(h.x1+a<=e.x&&e.x<=h.x2-a&&h.y1+a<=e.y&&e.y<=h.y2-a&&(this.scratch().arbor.p=o),t.type){case"grab":this.scratch().arbor.fixed=!0;break;case"free":this.scratch().arbor.fixed=!1}}}});var x;u.on("lock unlock",x=function(t){node.scratch().arbor.fixed=node.locked()});var w;l.on("remove",w=function(t){});var E;s.on("add","*",E=function(){});var _;s.on("resize",_=function(){if(null==n.boundingBox&&null!=e._private.system){var t=s.width(),r=s.height();f.screenSize(t,r)}}),u.each(function(t,e){o(e)}),c.each(function(t,e){a(e)});var S=u.filter(":grabbable");n.ungrabifyWhileSimulating&&S.ungrabify();var T=e._private.doneHandler=function(){e._private.doneHandler=null,n.animate||(n.fit&&s.reset(),u.rtrigger("position")),u.off("grab free position",b),u.off("lock unlock",x),l.off("remove",w),s.off("add","*",E),s.off("resize",_),n.ungrabifyWhileSimulating&&S.grabify(),e.one("layoutstop",n.stop),e.trigger({type:"layoutstop",layout:e})};f.start(),!n.infinite&&null!=n.maxSimulationTime&&n.maxSimulationTime>0&&n.maxSimulationTime!==1/0&&setTimeout(function(){e.stop()},n.maxSimulationTime)}),this},e.prototype.stop=function(){return null!=this._private.system&&this._private.system.stop(),this._private.doneHandler&&this._private.doneHandler(),this},t("layout","arbor",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend({},n,e)}var n={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){var e,n=this.options,r=n,i=n.cy,o=r.eles,a=o.nodes().not(":parent"),s=o,l=t.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(t.is.elementOrCollection(r.roots))e=r.roots;else if(t.is.array(r.roots)){for(var u=[],c=0;c<r.roots.length;c++){var h=r.roots[c],d=i.getElementById(h);u.push(d)}e=new t.Collection(i,u)}else if(t.is.string(r.roots))e=i.$(r.roots);else if(r.directed)e=a.roots();else{for(var f=[],p=a;p.length>0;){var g=i.collection();o.bfs({roots:p[0],visit:function(t,e,n,r,i){g=g.add(n)},directed:!1}),p=p.not(g),f.push(g)}e=i.collection();for(var c=0;c<f.length;c++){var v=f[c],y=v.maxDegree(!1),m=v.filter(function(){return this.degree(!1)===y});e=e.add(m)}}var b=[],x={},w={},E={},_={},S={};s.bfs({roots:e,directed:r.directed,visit:function(t,e,n,r,i){var o=this[0],a=o.id();
if(b[e]||(b[e]=[]),b[e].push(o),x[a]=!0,w[a]=e,E[a]=i,_[a]=r,i){var s=i.id(),l=S[s]=S[s]||[];l.push(n)}}});for(var T=[],c=0;c<a.length;c++){var d=a[c];x[d.id()]||T.push(d)}for(var C=3*T.length,k=0;0!==T.length&&C>k;){for(var P=T.shift(),D=P.neighborhood().nodes(),M=!1,c=0;c<D.length;c++){var N=w[D[c].id()];if(void 0!==N){b[N].push(P),M=!0;break}}M||T.push(P),k++}for(;0!==T.length;){var P=T.shift(),M=!1;M||(0===b.length&&b.push([]),b[0].push(P))}var A=function(){for(var t=0;t<b.length;t++)for(var e=b[t],n=0;n<e.length;n++){var r=e[n];r._private.scratch.breadthfirst={depth:t,index:n}}};A();for(var I=function(t){for(var e,n=t.connectedEdges(function(){return this.data("target")===t.id()}),r=t._private.scratch.breadthfirst,i=0,o=0;o<n.length;o++){var a=n[o],s=a.source()[0],l=s._private.scratch.breadthfirst;r.depth<=l.depth&&i<l.depth&&(i=l.depth,e=s)}return e},O=0;O<r.maximalAdjustments;O++){for(var B=b.length,L=[],c=0;B>c;c++)for(var N=b[c],R=N.length,j=0;R>j;j++){var d=N[j],$=d._private.scratch.breadthfirst,z=I(d);z&&($.intEle=z,L.push(d))}for(var c=0;c<L.length;c++){var d=L[c],$=d._private.scratch.breadthfirst,z=$.intEle,F=z._private.scratch.breadthfirst;b[$.depth].splice($.index,1);for(var q=F.depth+1;q>b.length-1;)b.push([]);b[q].push(d),$.depth=q,$.index=b[q].length-1}A()}var H=0;if(r.avoidOverlap){for(var c=0;c<a.length;c++){var Y=a[c].outerWidth(),X=a[c].outerHeight();H=Math.max(H,Y,X)}H*=r.spacingFactor}for(var V={},U=function(t){if(V[t.id()])return V[t.id()];for(var e=t._private.scratch.breadthfirst.depth,n=t.neighborhood().nodes().not(":parent"),r=0,i=0,o=0;o<n.length;o++){var a=n[o],s=a._private.scratch.breadthfirst,l=s.index,u=s.depth,c=b[u].length;(e>u||0===e)&&(r+=l/c,i++)}return i=Math.max(1,i),r/=i,0===i&&(r=void 0),V[t.id()]=r,r},W=function(t,e){var n=U(t),r=U(e);return n-r},G=0;3>G;G++){for(var c=0;c<b.length;c++)b[c]=b[c].sort(W);A()}for(var Z=0,c=0;c<b.length;c++)Z=Math.max(b[c].length,Z);for(var K={x:l.x1+l.w/2,y:l.x1+l.h/2},J=function(t,e){var n=t._private.scratch.breadthfirst,i=n.depth,o=n.index,a=b[i].length,s=Math.max(l.w/(a+1),H),u=Math.max(l.h/(b.length+1),H),c=Math.min(l.w/2/b.length,l.h/2/b.length);if(c=Math.max(c,H),r.circle){if(r.circle){var h=c*i+c-(b.length>0&&b[0].length<=3?c/2:0),d=2*Math.PI/b[i].length*o;return 0===i&&1===b[0].length&&(h=1),{x:K.x+h*Math.cos(d),y:K.y+h*Math.sin(d)}}return{x:K.x+(o+1-(a+1)/2)*s,y:(i+1)*u}}var f={x:K.x+(o+1-(a+1)/2)*s,y:(i+1)*u};return e?f:f},Q={},c=b.length-1;c>=0;c--)for(var N=b[c],j=0;j<N.length;j++){var P=N[j];Q[P.id()]=J(P,c===b.length-1)}return a.layoutPositions(this,r,function(){return Q[this.id()]}),this},t("layout","breadthfirst",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend({},n,e)}var n={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,counterclockwise:!1,sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){var e=this.options,n=e,r=e.cy,i=n.eles,o=i.nodes().not(":parent");n.sort&&(o=o.sort(n.sort));for(var a,s=t.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=n.startAngle,c=2*Math.PI/o.length,h=0,d=0;d<o.length;d++){var f=o[d].outerWidth(),p=o[d].outerHeight();h=Math.max(h,f,p)}if(a=t.is.number(n.radius)?n.radius:o.length<=1?0:Math.min(s.h,s.w)/2-h,o.length>1&&n.avoidOverlap){h*=1.75;var c=2*Math.PI/o.length,g=Math.cos(c)-Math.cos(0),v=Math.sin(c)-Math.sin(0),y=Math.sqrt(h*h/(g*g+v*v));a=Math.max(y,a)}var m=function(t,e){var r=a*Math.cos(u),i=a*Math.sin(u),o={x:l.x+r,y:l.y+i};return u=n.counterclockwise?u-c:u+c,o};return o.layoutPositions(this,n,m),this},t("layout","circle",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(t){return 10},flow:void 0,alignment:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};e.prototype.run=function(){var e=this,n=this.options;return e.manuallyStopped=!1,t.util.require("cola",function(r){var i=n.cy,o=n.eles,a=o.nodes(),s=o.edges(),l=!1,u=t.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),c=function(e,n){if(t.is.fn(e)){var r=e;return r.apply(n,[n])}return e},h=function(){for(var e={min:1/0,max:-(1/0)},r={min:1/0,max:-(1/0)},o=0;o<a.length;o++){var s=a[o],h=s._private.scratch.cola;if(e.min=Math.min(e.min,h.x||0),e.max=Math.max(e.max,h.x||0),r.min=Math.min(r.min,h.y||0),r.max=Math.max(r.max,h.y||0),!h.updatedDims){var d=s.boundingBox(),p=c(n.nodeSpacing,s);h.width=d.w+2*p,h.height=d.h+2*p}}a.positions(function(n,i){var o,a=i._private.scratch.cola;return i.grabbed()||i.isParent()||(o={x:u.x1+a.x-e.min,y:u.y1+a.y-r.min},t.is.number(o.x)&&t.is.number(o.y)||(o=void 0)),o}),a.updateCompoundBounds(),l||(f(),l=!0),n.fit&&i.fit(n.padding)},d=function(){n.ungrabifyWhileSimulating&&y.grabify(),a.off("grab free position",m),a.off("lock unlock",b),e.one("layoutstop",n.stop),e.trigger({type:"layoutstop",layout:e})},f=function(){e.one("layoutready",n.ready),e.trigger({type:"layoutready",layout:e})},p=n.refresh,g=1;n.refresh<0?(g=Math.abs(n.refresh),p=1):p=Math.max(1,p);var v=e.adaptor=r.adaptor({trigger:function(t){var e=r.EventType?r.EventType.tick:null,i=r.EventType?r.EventType.end:null;switch(t.type){case"tick":case e:n.animate&&h();break;case"end":case i:h(),n.infinite||d()}},kick:function(){var r=function(){if(e.manuallyStopped)return d(),!0;var t=v.tick();return t&&n.infinite&&v.resume(),t},i=function(){for(var t,e=0;p>e&&!t;e++)t=t||r();return t};if(n.animate){var o=function(){i()||t.util.requestAnimationFrame(o)};t.util.requestAnimationFrame(o)}else for(;!r(););},on:function(t,e){},drag:function(){}});e.adaptor=v;var y=a.filter(":grabbable");n.ungrabifyWhileSimulating&&y.ungrabify();var m;a.on("grab free position",m=function(e){var n=this,r=n._private.scratch.cola,i=n._private.position;switch(n.grabbed()?(r.x=i.x-u.x1,r.y=i.y-u.y1,v.dragstart(r)):t.is.number(r.x)&&t.is.number(r.y)&&(i.x=r.x+u.x1,i.y=r.y+u.y1),e.type){case"grab":v.dragstart(r),v.resume();break;case"free":v.dragend(r)}});var b;a.on("lock unlock",b=function(t){var e=this,n=e._private.scratch.cola;e.locked()?v.dragstart(n):v.dragend(n)});var x=a.stdFilter(function(t){return!t.isParent()});if(v.nodes(x.map(function(t,e){var r=c(n.nodeSpacing,t),i=t.position(),o=t.boundingBox(),a=t._private.scratch.cola={x:n.randomize||void 0===i.x?Math.round(Math.random()*u.w):i.x,y:n.randomize||void 0===i.y?Math.round(Math.random()*u.h):i.y,width:o.w+2*r,height:o.h+2*r,index:e};return a})),n.alignment){var w=[],E=[];x.forEach(function(t){var e=c(n.alignment,t),r=t._private.scratch.cola,i=r.index;e&&(null!=e.x&&w.push({node:i,offset:e.x}),null!=e.y&&E.push({node:i,offset:e.y}))});var _=[];w.length>0&&_.push({type:"alignment",axis:"x",offsets:w}),E.length>0&&_.push({type:"alignment",axis:"y",offsets:E}),v.constraints(_)}v.groups(a.stdFilter(function(t){return t.isParent()}).map(function(t,e){var r=t._private.style,i=c(n.nodeSpacing,t),o=r["padding-left"].pxValue+i,a=r["padding-right"].pxValue+i,s=r["padding-top"].pxValue+i,l=r["padding-bottom"].pxValue+i;return t._private.scratch.cola={index:e,padding:Math.max(o,a,s,l),leaves:t.descendants().stdFilter(function(t){return!t.isParent()}).map(function(t){return t[0]._private.scratch.cola.index})},t}).map(function(t){return t._private.scratch.cola.groups=t.descendants().stdFilter(function(t){return t.isParent()}).map(function(t){return t._private.scratch.cola.index}),t._private.scratch.cola}));var S,T;null!=n.edgeLength?(S=n.edgeLength,T="linkDistance"):null!=n.edgeSymDiffLength?(S=n.edgeSymDiffLength,T="symmetricDiffLinkLengths"):null!=n.edgeJaccardLength?(S=n.edgeJaccardLength,T="jaccardLinkLengths"):(S=100,T="linkDistance");var C=function(t){return t.calcLength};if(v.links(s.stdFilter(function(t){return!t.source().isParent()&&!t.target().isParent()}).map(function(t,e){var n=t._private.scratch.cola={source:t.source()[0]._private.scratch.cola.index,target:t.target()[0]._private.scratch.cola.index};return null!=S&&(n.calcLength=c(S,t)),n})),v.size([u.w,u.h]),null!=S&&v[T](C),n.flow){var k,P="y",D=50;t.is.string(n.flow)?k={axis:n.flow,minSeparation:D}:t.is.number(n.flow)?k={axis:P,minSeparation:n.flow}:t.is.plainObject(n.flow)?(k=n.flow,k.axis=k.axis||P,k.minSeparation=null!=k.minSeparation?k.minSeparation:D):k={axis:P,minSeparation:D},v.flowLayout(k.axis,k.minSeparation)}e.trigger({type:"layoutstart",layout:e}),v.avoidOverlaps(n.avoidOverlap).handleDisconnected(n.handleDisconnected).start(n.unconstrIter,n.userConstIter,n.allConstIter),n.infinite||setTimeout(function(){e.manuallyStopped||v.stop()},n.maxSimulationTime)}),this},e.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},t("layout","cola",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend({},n,e)}var n={fit:!0,padding:30,startAngle:1.5*Math.PI,counterclockwise:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){for(var e=this.options,n=e,r=e.cy,i=n.eles,o=i.nodes().not(":parent"),a=t.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},l=[],u=n.startAngle,c=0,h=0;h<o.length;h++){var d,f=o[h];d=n.concentric.apply(f,[f]),l.push({value:d,node:f}),f._private.scratch.concentric=d}o.updateStyle();for(var h=0;h<o.length;h++){var f=o[h];c=Math.max(c,f.outerWidth(),f.outerHeight())}l.sort(function(t,e){return e.value-t.value});for(var p=n.levelWidth(o),g=[[]],v=g[0],h=0;h<l.length;h++){var y=l[h];if(v.length>0){var m=Math.abs(v[0].value-y.value);m>=p&&(v=[],g.push(v))}v.push(y)}var b={},x=0,w=c+n.minNodeSpacing;if(!n.avoidOverlap){var E=g.length>0&&g[0].length>1,_=Math.min(a.w,a.h)/2-w,S=_/(g.length+E?1:0);w=Math.min(w,S)}for(var h=0;h<g.length;h++){var T=g[h],C=2*Math.PI/T.length;if(T.length>1&&n.avoidOverlap){var k=Math.cos(C)-Math.cos(0),P=Math.sin(C)-Math.sin(0),D=Math.sqrt(w*w/(k*k+P*P));x=Math.max(D,x)}for(var M=0;M<T.length;M++){var y=T[M],u=n.startAngle+(n.counterclockwise?-1:1)*C*M,N={x:s.x+x*Math.cos(u),y:s.y+x*Math.sin(u)};b[y.node.id()]=N}x+=w}return o.layoutPositions(this,n,function(){var t=this.id();return b[t]}),this},t("layout","concentric",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend({},r,e)}var n,r={ready:function(){},stop:function(){},animate:!0,refresh:4,fit:!0,padding:30,boundingBox:void 0,randomize:!0,debug:!1,nodeRepulsion:4e5,nodeOverlap:10,idealEdgeLength:10,edgeElasticity:100,nestingFactor:5,gravity:250,numIter:100,initialTemp:200,coolingFactor:.95,minTemp:1};e.prototype.run=function(){var e=this.options,r=e.cy,o=this;o.stopped=!1,o.trigger({type:"layoutstart",layout:o}),n=!0===e.debug;var a=new Date,h=i(r,o,e);n&&s(h),!0===e.randomize&&l(h,r),m(h,r,e);var d=function(t){return o.stopped?!1:(c(h,r,e,t),h.temperature=h.temperature*e.coolingFactor,!(h.temperature<e.minTemp))},f=function(){u(h,r,e),!0===e.fit&&r.fit(e.padding);var t=new Date;console.info("Layout took "+(t-a)+" ms"),o.one("layoutstop",e.stop),o.trigger({type:"layoutstop",layout:o})};if(e.animate){var p=0,g=function(){for(var n,i=0;i<e.refresh&&p<e.numIter;){var n=d(p);if(n===!1)break;i++,p++}u(h,r,e),e.fit&&r.fit(e.padding),n!==!1&&p+1<e.numIter?t.util.requestAnimationFrame(g):f()};t.util.requestAnimationFrame(g)}else{for(var p=0;p<e.numIter&&d(p)!==!1;p++);f()}return this},e.prototype.stop=function(){return this.stopped=!0,this};var i=function(e,n,r){for(var i=r.eles.edges(),a=r.eles.nodes(),s={layout:n,layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:t.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},l=0;l<s.nodeSize;l++){var u={};u.id=a[l].data("id"),u.parentId=a[l].data("parent"),u.children=[],u.positionX=a[l].position("x"),u.positionY=a[l].position("y"),u.offsetX=0,u.offsetY=0,u.height=a[l].height(),u.width=a[l].width(),u.maxX=u.positionX+u.width/2,u.minX=u.positionX-u.width/2,u.maxY=u.positionY+u.height/2,u.minY=u.positionY-u.height/2,u.padLeft=a[l]._private.style["padding-left"].pxValue,u.padRight=a[l]._private.style["padding-right"].pxValue,u.padTop=a[l]._private.style["padding-top"].pxValue,u.padBottom=a[l]._private.style["padding-bottom"].pxValue,s.layoutNodes.push(u),s.idToIndex[u.id]=l}for(var c=[],h=0,d=-1,f=[],l=0;l<s.nodeSize;l++){var p=s.layoutNodes[l],g=p.parentId;null!=g?s.layoutNodes[s.idToIndex[g]].children.push(p.id):(c[++d]=p.id,f.push(p.id))}for(s.graphSet.push(f);d>=h;){var v=c[h++],y=s.idToIndex[v],m=s.layoutNodes[y],b=m.children;if(b.length>0){s.graphSet.push(b);for(var l=0;l<b.length;l++)c[++d]=b[l]}}for(var l=0;l<s.graphSet.length;l++)for(var x=s.graphSet[l],w=0;w<x.length;w++){var E=s.idToIndex[x[w]];s.indexToGraph[E]=l}for(var l=0;l<s.edgeSize;l++){var _=i[l],S={};S.id=_.data("id"),S.sourceId=_.data("source"),S.targetId=_.data("target");var T=r.idealEdgeLength,C=s.idToIndex[S.sourceId],k=s.idToIndex[S.targetId],P=s.indexToGraph[C],D=s.indexToGraph[k];if(P!=D){for(var M=o(S.sourceId,S.targetId,s),N=s.graphSet[M],A=0,u=s.layoutNodes[C];-1===$.inArray(u.id,N);)u=s.layoutNodes[s.idToIndex[u.parentId]],A++;for(u=s.layoutNodes[k];-1===$.inArray(u.id,N);)u=s.layoutNodes[s.idToIndex[u.parentId]],A++;T*=A*r.nestingFactor}S.idealLength=T,s.layoutEdges.push(S)}return s},o=function(t,e,n){var r=a(t,e,0,n);return 2>r.count?0:r.graph},a=function(t,e,n,r){var i=r.graphSet[n];if(-1<$.inArray(t,i)&&-1<$.inArray(e,i))return{count:2,graph:n};for(var o=0,s=0;s<i.length;s++){var l=i[s],u=r.idToIndex[l],c=r.layoutNodes[u].children;if(0!==c.length){var h=r.indexToGraph[r.idToIndex[c[0]]],d=a(t,e,h,r);if(0!==d.count){if(1!==d.count)return d;if(o++,2===o)break}}}return{count:o,graph:n}},s=function(t){if(n){console.debug("layoutNodes:");for(var e=0;e<t.nodeSize;e++){var r=t.layoutNodes[e],i="\nindex: "+e+"\nId: "+r.id+"\nChildren: "+r.children.toString()+"\nparentId: "+r.parentId+"\npositionX: "+r.positionX+"\npositionY: "+r.positionY+"\nOffsetX: "+r.offsetX+"\nOffsetY: "+r.offsetY+"\npadLeft: "+r.padLeft+"\npadRight: "+r.padRight+"\npadTop: "+r.padTop+"\npadBottom: "+r.padBottom;console.debug(i)}console.debug("idToIndex");for(var e in t.idToIndex)console.debug("Id: "+e+"\nIndex: "+t.idToIndex[e]);console.debug("Graph Set");for(var o=t.graphSet,e=0;e<o.length;e++)console.debug("Set : "+e+": "+o[e].toString());for(var i="IndexToGraph",e=0;e<t.indexToGraph.length;e++)i+="\nIndex : "+e+" Graph: "+t.indexToGraph[e];console.debug(i),i="Layout Edges";for(var e=0;e<t.layoutEdges.length;e++){var a=t.layoutEdges[e];i+="\nEdge Index: "+e+" ID: "+a.id+" SouceID: "+a.sourceId+" TargetId: "+a.targetId+" Ideal Length: "+a.idealLength}console.debug(i),i="nodeSize: "+t.nodeSize,i+="\nedgeSize: "+t.edgeSize,i+="\ntemperature: "+t.temperature,console.debug(i)}},l=function(t,e){for(var n=t.clientWidth,r=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];o.positionX=Math.random()*n,o.positionY=Math.random()*r}},u=function(t,e,n){var r=t.layout,i=n.eles.nodes(),o=t.boundingBox,a={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};n.boundingBox&&(i.forEach(function(e){var n=t.layoutNodes[t.idToIndex[e.data("id")]];a.x1=Math.min(a.x1,n.positionX),a.x2=Math.max(a.x2,n.positionX),a.y1=Math.min(a.y1,n.positionY),a.y2=Math.max(a.y2,n.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),i.positions(function(e,r){var i=t.layoutNodes[t.idToIndex[r.data("id")]];if(n.boundingBox){var s=(i.positionX-a.x1)/a.w,l=(i.positionY-a.y1)/a.h;return{x:o.x1+s*o.w,y:o.y1+l*o.h}}return{x:i.positionX,y:i.positionY}}),!0!==t.ready&&(t.ready=!0,r.one("layoutready",n.ready),r.trigger({type:"layoutready",layout:this}))},c=function(t,e,n,r){h(t,e,n),g(t,e,n),v(t,e,n),y(t,e,n),m(t,e,n)},h=function(t,e,n){for(var r=0;r<t.graphSet.length;r++)for(var i=t.graphSet[r],o=i.length,a=0;o>a;a++)for(var s=t.layoutNodes[t.idToIndex[i[a]]],l=a+1;o>l;l++){var u=t.layoutNodes[t.idToIndex[i[l]]];d(s,u,t,e,n)}},d=function(t,e,n,r,i){var o=e.positionX-t.positionX,a=e.positionY-t.positionY;if(0!==o||0!==a){var s=p(t,e,o,a);if(s>0)var l=i.nodeOverlap*s,u=Math.sqrt(o*o+a*a),c=l*o/u,h=l*a/u;else var d=f(t,o,a),g=f(e,-1*o,-1*a),v=g.x-d.x,y=g.y-d.y,m=v*v+y*y,u=Math.sqrt(m),l=i.nodeRepulsion/m,c=l*v/u,h=l*y/u;t.offsetX-=c,t.offsetY-=h,e.offsetX+=c,e.offsetY+=h}},f=function(t,e,n){var r=t.positionX,i=t.positionY,o=t.height,a=t.width,s=n/e,l=o/a,u={};do{if(0===e&&n>0){u.x=r,u.y=i+o/2;break}if(0===e&&0>n){u.x=r,u.y=i+o/2;break}if(e>0&&s>=-1*l&&l>=s){u.x=r+a/2,u.y=i+a*n/2/e;break}if(0>e&&s>=-1*l&&l>=s){u.x=r-a/2,u.y=i-a*n/2/e;break}if(n>0&&(-1*l>=s||s>=l)){u.x=r+o*e/2/n,u.y=i+o/2;break}if(0>n&&(-1*l>=s||s>=l)){u.x=r-o*e/2/n,u.y=i-o/2;break}}while(!1);return u},p=function(t,e,n,r){if(n>0)var i=t.maxX-e.minX;else var i=e.maxX-t.minX;if(r>0)var o=t.maxY-e.minY;else var o=e.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},g=function(t,e,n){for(var r=0;r<t.edgeSize;r++){var i=t.layoutEdges[r],o=t.idToIndex[i.sourceId],a=t.layoutNodes[o],s=t.idToIndex[i.targetId],l=t.layoutNodes[s],u=l.positionX-a.positionX,c=l.positionY-a.positionY;if(0===u&&0===c)return;var h=f(a,u,c),d=f(l,-1*u,-1*c),p=d.x-h.x,g=d.y-h.y,v=Math.sqrt(p*p+g*g),y=Math.pow(i.idealLength-v,2)/n.edgeElasticity;if(0!==v)var m=y*p/v,b=y*g/v;else var m=0,b=0;a.offsetX+=m,a.offsetY+=b,l.offsetX-=m,l.offsetY-=b}},v=function(t,e,n){for(var r=0;r<t.graphSet.length;r++){var i=t.graphSet[r],o=i.length;if(0===r)var a=t.clientHeight/2,s=t.clientWidth/2;else var l=t.layoutNodes[t.idToIndex[i[0]]],u=t.layoutNodes[t.idToIndex[l.parentId]],a=u.positionX,s=u.positionY;for(var c=0;o>c;c++){var h=t.layoutNodes[t.idToIndex[i[c]]],d=a-h.positionX,f=s-h.positionY,p=Math.sqrt(d*d+f*f);if(p>1){var g=n.gravity*d/p,v=n.gravity*f/p;h.offsetX+=g,h.offsetY+=v}}}},y=function(t,e,n){var r=[],i=0,o=-1;for(r.push.apply(r,t.graphSet[0]),o+=t.graphSet[0].length;o>=i;){var a=r[i++],s=t.idToIndex[a],l=t.layoutNodes[s],u=l.children;if(0<u.length){for(var c=l.offsetX,h=l.offsetY,d=0;d<u.length;d++){var f=t.layoutNodes[t.idToIndex[u[d]]];f.offsetX+=c,f.offsetY+=h,r[++o]=u[d]}l.offsetX=0,l.offsetY=0}}},m=function(t,e,n){for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];if(!(0<i.children.length)){var o=b(i.offsetX,i.offsetY,t.temperature);i.positionX+=o.x,i.positionY+=o.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,x(i,t)}}for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];0<i.children.length&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},b=function(t,e,n){var r=Math.sqrt(t*t+e*e);if(r>n)var i={x:n*t/r,y:n*e/r};else var i={x:t,y:e};return i},x=function(t,e){var n=t.parentId;if(null!=n){var r=e.layoutNodes[e.idToIndex[n]],i=!1;return(null==r.maxX||t.maxX+r.padRight>r.maxX)&&(r.maxX=t.maxX+r.padRight,i=!0),(null==r.minX||t.minX-r.padLeft<r.minX)&&(r.minX=t.minX-r.padLeft,i=!0),(null==r.maxY||t.maxY+r.padBottom>r.maxY)&&(r.maxY=t.maxY+r.padBottom,i=!0),(null==r.minY||t.minY-r.padTop<r.minY)&&(r.minY=t.minY-r.padTop,i=!0),i?x(r,e):void 0}};t("layout","cose",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(t){return 1},edgeWeight:function(t){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,boundingBox:void 0,ready:function(){},stop:function(){}};e.prototype.run=function(){var e=this.options,n=this;return t.util.require("dagre",function(r){var i=e.cy,o=e.eles,a=function(e,n){return t.is.fn(n)?n.apply(e,[e]):n},s=t.util.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),l=new r.graphlib.Graph({multigraph:!0,compound:!0}),u={},c=function(t,e){null!=e&&(u[t]=e)};c("nodesep",e.nodeSep),c("edgesep",e.edgeSep),c("ranksep",e.rankSep),c("rankdir",e.rankDir),l.setGraph(u),l.setDefaultEdgeLabel(function(){return{}}),l.setDefaultNodeLabel(function(){return{}});for(var h=o.nodes(),d=0;d<h.length;d++){var f=h[d];l.setNode(f.id(),{width:f.width(),height:f.height(),name:f.id()})}for(var d=0;d<h.length;d++){var f=h[d];f.isChild()&&l.setParent(f.id(),f.parent().id())}for(var p=o.edges().stdFilter(function(t){return!t.source().isParent()&&!t.target().isParent()}),d=0;d<p.length;d++){var g=p[d];l.setEdge(g.source().id(),g.target().id(),{minlen:a(g,e.minLen),weight:a(g,e.edgeWeight),name:g.id()},g.id())}r.layout(l);for(var v=l.nodes(),d=0;d<v.length;d++){var y=v[d],m=l.node(y);i.getElementById(y).scratch().dagre=m}var b;e.boundingBox?(b={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)},h.forEach(function(t){var e=t.scratch().dagre;b.x1=Math.min(b.x1,e.x),b.x2=Math.max(b.x2,e.x),b.y1=Math.min(b.y1,e.y),b.y2=Math.max(b.y2,e.y)}),b.w=b.x2-b.x1,b.h=b.y2-b.y1):b=s;var x=function(t){if(e.boundingBox){var n=(t.x-b.x1)/b.w,r=(t.y-b.y1)/b.h;return{x:s.x1+n*s.w,y:s.y1+r*s.h}}return t};h.layoutPositions(n,e,function(){var t=this.scratch().dagre;return x({x:t.x,y:t.y})})}),this},t("layout","dagre",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend({},n,e)}var n={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,rows:void 0,columns:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){var e=this.options,n=e,r=e.cy,i=n.eles,o=i.nodes().not(":parent");n.sort&&(o=o.sort(n.sort));var a=t.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(0===a.h||0===a.w)o.layoutPositions(this,n,function(){return{x:a.x1,y:a.y1}});else{var s=o.size(),l=Math.sqrt(s*a.h/a.w),u=Math.round(l),c=Math.round(a.w/a.h*l),h=function(t){if(null==t)return Math.min(u,c);var e=Math.min(u,c);e==u?u=t:c=t},d=function(t){if(null==t)return Math.max(u,c);var e=Math.max(u,c);e==u?u=t:c=t};if(null!=n.rows&&null!=n.columns)u=n.rows,c=n.columns;else if(null!=n.rows&&null==n.columns)u=n.rows,c=Math.ceil(s/u);else if(null==n.rows&&null!=n.columns)c=n.columns,u=Math.ceil(s/c);else if(c*u>s){var f=h(),p=d();(f-1)*p>=s?h(f-1):(p-1)*f>=s&&d(p-1)}else for(;s>c*u;){var f=h(),p=d();(p+1)*f>=s?d(p+1):h(f+1)}var g=a.w/c,v=a.h/u;if(n.avoidOverlap)for(var y=0;y<o.length;y++){var m=o[y],b=m.outerWidth(),x=m.outerHeight();g=Math.max(g,b),v=Math.max(v,x)}for(var w={},E=function(t,e){return!!w["c-"+t+"-"+e]},_=function(t,e){w["c-"+t+"-"+e]=!0},S=0,T=0,C=function(){T++,T>=c&&(T=0,S++)},k={},y=0;y<o.length;y++){var m=o[y],P=n.position(m);if(P&&(void 0!==P.row||void 0!==P.col)){var D={row:P.row,col:P.col};if(void 0===D.col)for(D.col=0;E(D.row,D.col);)D.col++;else if(void 0===D.row)for(D.row=0;E(D.row,D.col);)D.row++;k[m.id()]=D,_(D.row,D.col)}}var M=function(t,e){var n,r;if(e.locked()||e.isFullAutoParent())return!1;var i=k[e.id()];if(i)n=i.col*g+g/2+a.x1,r=i.row*v+v/2+a.y1;else{for(;E(S,T);)C();n=T*g+g/2+a.x1,r=S*v+v/2+a.y1,_(S,T),C()}return{x:n,y:r}};o.layoutPositions(this,n,M)}return this},t("layout","grid",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={ready:function(){},stop:function(){}};e.prototype.run=function(){var t=this.options,e=t.eles,n=this;t.cy;return n.trigger("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",t.ready),n.trigger("layoutready"),n.one("layoutstop",t.stop),n.trigger("layoutstop"),this},e.prototype.stop=function(){return this},t("layout","null",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){function e(t){if(null==n.positions)return null;if(o)return n.positions.apply(t,[t]);var e=n.positions[t._private.data.id];return null==e?null:e}var n=this.options,r=n.eles,i=r.nodes(),o=t.is.fn(n.positions);return i.layoutPositions(this,n,function(t,n){var r=e(n);return n.locked()||null==r?!1:r}),this},t("layout","preset",e)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};e.prototype.run=function(){var e=this.options,n=e.cy,r=e.eles,i=r.nodes().not(":parent"),o=t.util.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),a=function(t,e){return{x:o.x1+Math.round(Math.random()*o.w),y:o.y1+Math.round(Math.random()*o.h)}};return i.layoutPositions(this,e,a),this},t("layout","random",e)}(cytoscape),function($$){"use strict";function SpreadLayout(t){this.options=$$.util.extend({},defaults,t)}function cellCentroid(t){for(var e,n,r,i=t.halfedges,o=0,a=0,s=0,l=0;l<i.length;++l)e=i[l].getEndpoint(),n=i[l].getStartpoint(),o+=e.x*n.y,o-=e.y*n.x,r=e.x*n.y-n.x*e.y,a+=(e.x+n.x)*r,s+=(e.y+n.y)*r;return o/=2,r=6*o,{x:a/r,y:s/r}}function sitesDistance(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}var defaults={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,maxFruchtermanReingoldIterations:50,maxExpandIterations:4,boundingBox:void 0};SpreadLayout.prototype.run=function(){var layout=this,options=this.options;return $$.util.requires(["foograph","Voronoi"],function(foograph,Voronoi){function setPositions(t){for(var e=t.vertices,n=[],r=0;r<e.length;++r){var i=e[r];n[i.id]={x:i.x,y:i.y}}nodes.positions(function(t,e){var r=e._private.data.id,i=n[r];return{x:Math.round(simBB.x1+i.x),y:Math.round(simBB.y1+i.y)}}),options.fit&&cy.fit(options.padding),cy.nodes().rtrigger("position")}var cy=options.cy,nodes=cy.nodes(),edges=cy.edges(),cWidth=cy.width(),cHeight=cy.height(),simulationBounds=options.boundingBox?$$.util.makeBoundingBox(options.boundingBox):null,padding=options.padding,simBBFactor=Math.max(1,.8*Math.log(nodes.length));nodes.length<100&&(simBBFactor/=2),layout.trigger({type:"layoutstart",layout:layout});var simBB={x1:0,y1:0,x2:cWidth*simBBFactor,y2:cHeight*simBBFactor};simulationBounds&&(simBB.x1=simulationBounds.x1,simBB.y1=simulationBounds.y1,simBB.x2=simulationBounds.x2,simBB.y2=simulationBounds.y2),simBB.x1+=padding,simBB.y1+=padding,simBB.x2-=padding,simBB.y2-=padding;var width=simBB.x2-simBB.x1,height=simBB.y2-simBB.y1,startTime=Date.now();if(nodes.size()<=1){nodes.positions({x:Math.round((simBB.x1+simBB.x2)/2),y:Math.round((simBB.y1+simBB.y2)/2)}),options.fit&&cy.fit(options.padding);var endTime=Date.now();return console.info("Layout on "+nodes.size()+" nodes took "+(endTime-startTime)+" ms"),layout.one("layoutready",options.ready),layout.trigger("layoutready"),layout.one("layoutstop",options.stop),void layout.trigger("layoutstop")}var pData={width:width,height:height,minDist:options.minDist,expFact:options.expandingFactor,expIt:0,maxExpIt:options.maxExpandIterations,vertices:[],edges:[],startTime:startTime,maxFruchtermanReingoldIterations:options.maxFruchtermanReingoldIterations};nodes.each(function(t,e){var n=this._private.data.id;pData.vertices.push({id:n,x:0,y:0})}),edges.each(function(){var t=this.source().id(),e=this.target().id();pData.edges.push({src:t,tgt:e})});var t1=$$.Thread();t1.require(foograph,"foograph"),t1.require(Voronoi),t1.require(sitesDistance),t1.require(cellCentroid);var didLayoutReady=!1;t1.on("message",function(t){var e=t.message;options.animate&&(setPositions(e),didLayoutReady||(layout.trigger("layoutready"),didLayoutReady=!0))}),layout.one("layoutready",options.ready),t1.pass(pData).run(function(pData){function checkMinDist(t){for(var e=0,n=0;n<t.length;++n){var r=t[n];null!=r.lSite&&null!=r.rSite&&sitesDistance(r.lSite,r.rSite)<lMinDist&&++e}return e}foograph=eval("foograph"),Voronoi=eval("Voronoi");for(var lWidth=pData.width,lHeight=pData.height,lMinDist=pData.minDist,lExpFact=pData.expFact,lMaxExpIt=pData.maxExpIt,lMaxFruchtermanReingoldIterations=pData.maxFruchtermanReingoldIterations,savePositions=function(){pData.width=lWidth,pData.height=lHeight,pData.expIt=expandIteration,pData.expFact=lExpFact,pData.vertices=[];for(var t=0;t<fv.length;++t)pData.vertices.push({id:fv[t].label,x:fv[t].x,y:fv[t].y})},messagePositions=function(){broadcast(pData)},frg=new foograph.Graph("FRgraph",!1),frgNodes={},dataVertices=pData.vertices,ni=0;ni<dataVertices.length;++ni){var id=dataVertices[ni].id,v=new foograph.Vertex(id,Math.round(Math.random()*lHeight),Math.round(Math.random()*lHeight));frgNodes[id]=v,frg.insertVertex(v)}for(var dataEdges=pData.edges,ei=0;ei<dataEdges.length;++ei){var srcNodeId=dataEdges[ei].src,tgtNodeId=dataEdges[ei].tgt;frg.insertEdge("",1,frgNodes[srcNodeId],frgNodes[tgtNodeId])}var fv=frg.vertices,iterations=lMaxFruchtermanReingoldIterations,frLayoutManager=new foograph.ForceDirectedVertexLayout(lWidth,lHeight,iterations,!1,lMinDist);frLayoutManager.callback=function(){savePositions(),messagePositions()},frLayoutManager.layout(frg),savePositions(),messagePositions();for(var voronoi=new Voronoi,bbox={xl:0,xr:lWidth,yt:0,yb:lHeight},vSites=[],i=0;i<fv.length;++i)vSites[fv[i].label]=fv[i];for(var diagram=voronoi.compute(fv,bbox),cells=diagram.cells,i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x,currv.y=centroid.y}0>lExpFact&&(lExpFact=Math.max(.05,Math.min(.1,lMinDist/Math.sqrt(lWidth*lHeight/fv.length)*.5)));for(var prevInfractions=checkMinDist(diagram.edges),bStop=0>=prevInfractions,voronoiIteration=0,expandIteration=0;!bStop;){++voronoiIteration;for(var it=0;4>=it;++it){voronoi.recycle(diagram),diagram=voronoi.compute(fv,bbox),cells=diagram.cells;for(var i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x,currv.y=centroid.y}}var currInfractions=checkMinDist(diagram.edges);0>=currInfractions?bStop=!0:(currInfractions>=prevInfractions||voronoiIteration>=4)&&(expandIteration>=lMaxExpIt?bStop=!0:(lWidth+=lWidth*lExpFact,lHeight+=lHeight*lExpFact,bbox={xl:0,xr:lWidth,yt:0,yb:lHeight},++expandIteration,voronoiIteration=0)),prevInfractions=currInfractions,savePositions(),messagePositions()}return savePositions(),pData}).then(function(t){var e=t.vertices;setPositions(t);var n=t.startTime,r=new Date;console.info("Layout on "+e.length+" nodes took "+(r-n)+" ms"),layout.one("layoutstop",options.stop),options.animate||layout.trigger("layoutready"),layout.trigger("layoutstop"),t1.stop()})}),this},SpreadLayout.prototype.stop=function(){},$$("layout","spread",SpreadLayout)}(cytoscape),function(t){"use strict";function e(e){this.options=t.util.extend(!0,{},n,e)}var n={animate:!0,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,random:!1,infinite:!1,ready:void 0,stop:void 0,stiffness:400,repulsion:400,damping:.5};e.prototype.run=function(){var e=this,n=this,r=this.options;return t.util.require("Springy",function(i){function o(t){var e=t.scratch("springy").model.id,n=w.layout.nodePoints[e].p,r=t.position(),i=null!=r.x&&null!=r.y?y(t.position()):{x:4*Math.random()-2,y:4*Math.random()-2};n.x=i.x,n.y=i.y}function a(){n.stopped=!1,r.ungrabifyWhileSimulating&&_.ungrabify(),w.start()}var s=!1,l=r.cy;e.trigger({type:"layoutstart",layout:e});var u=r.eles,c=u.nodes().not(":parent"),h=u.edges(),d=t.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),f=new i.Graph;c.each(function(t,e){e.scratch("springy",{
model:f.newNode({element:e})})}),h.each(function(t,e){var n=e.source().scratch("springy").model,r=e.target().scratch("springy").model;e.scratch("springy",{model:f.newEdge(n,r,{element:e})})});var p=window.sim=new i.Layout.ForceDirected(f,r.stiffness,r.repulsion,r.damping);r.infinite&&(p.minEnergyThreshold=-(1/0));var g=p.getBoundingBox(),v=function(t){g=p.getBoundingBox();var e=g.topright.subtract(g.bottomleft),n=t.subtract(g.bottomleft).divide(e.x).x*d.w+d.x1,r=t.subtract(g.bottomleft).divide(e.y).y*d.h+d.x1;return new i.Vector(n,r)},y=function(t){g=p.getBoundingBox();var e=g.topright.subtract(g.bottomleft),n=(t.x-d.x1)/d.w*e.x+g.bottomleft.x,r=(t.y-d.y1)/d.h*e.y+g.bottomleft.y;return new i.Vector(n,r)},m=l.collection(),b=l.nodes().size(),x=1,w=new i.Renderer(p,function(){n.stopped||m.length>0&&r.animate&&(s=!0,m.rtrigger("position"),r.fit&&l.fit(r.padding),m=l.collection(),s=!1)},function(t,e,n){},function(t,i){if(!n.stopped){var o=v(i),a=t.data.element;a.locked()||a.grabbed()||(a._private.position={x:o.x,y:o.y},m.merge(a)),x==b&&(e.one("layoutready",r.ready),e.trigger({type:"layoutready",layout:e})),x++}});c.each(function(t,e){r.random||o(e)});var E;c.on("position",E=function(){s||o(this)});var _=c.filter(":grabbable");n.stopSystem=function(){n.stopped=!0,f.filterNodes(function(){return!1}),r.ungrabifyWhileSimulating&&_.grabify(),r.fit&&l.fit(r.padding),c.off("drag position",E),e.one("layoutstop",r.stop),e.trigger({type:"layoutstop",layout:e}),n.stopSystem=null},a(),r.infinite||setTimeout(function(){n.stop()},r.maxSimulationTime)}),this},e.prototype.stop=function(){return null!=this.stopSystem&&this.stopSystem(),this},t("layout","springy",e)}(cytoscape),function(t){"use strict";function e(t){this.options=t}e.prototype.recalculateRenderedStyle=function(){},e.prototype.notify=function(){},t("renderer","null",e)}(cytoscape)}).call(this,require("_process"),"/node_modules/cytoscape/dist")},{_process:9,child_process:1,os:7,path:8}],26:[function(t,e,n){!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ot.type(t);return"function"===n||ot.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(ot.isFunction(e))return ot.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return ot.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(gt.test(e))return ot.filter(e,t,n);e=ot.filter(e,t)}return ot.grep(t,function(t){return Q.call(e,t)>-1!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(wt)||[],function(t,n){e[n]=!0}),e}function a(){G.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a),ot.ready()}function s(){this.expando=ot.expando+s.uid++}function l(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Pt,"-$&").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:kt.test(n)?ot.parseJSON(n):n}catch(i){}Ct.set(t,e,n)}else n=void 0;return n}function u(t,e,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return ot.css(t,e,"")},l=s(),u=n&&n[3]||(ot.cssNumber[e]?"":"px"),c=(ot.cssNumber[e]||"px"!==u&&+l)&&Mt.exec(ot.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,ot.style(t,e,c+u);while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function c(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],n):n}function h(t,e){for(var n=0,r=t.length;r>n;n++)Tt.set(t[n],"globalEval",!e||Tt.get(e[n],"globalEval"))}function d(t,e,n,r,i){for(var o,a,s,l,u,d,f=e.createDocumentFragment(),p=[],g=0,v=t.length;v>g;g++)if(o=t[g],o||0===o)if("object"===ot.type(o))ot.merge(p,o.nodeType?[o]:o);else if(Rt.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(Ot.exec(o)||["",""])[1].toLowerCase(),l=Lt[s]||Lt._default,a.innerHTML=l[1]+ot.htmlPrefilter(o)+l[2],d=l[0];d--;)a=a.lastChild;ot.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(e.createTextNode(o));for(f.textContent="",g=0;o=p[g++];)if(r&&ot.inArray(o,r)>-1)i&&i.push(o);else if(u=ot.contains(o.ownerDocument,o),a=c(f.appendChild(o),"script"),u&&h(a),n)for(d=0;o=a[d++];)Bt.test(o.type||"")&&n.push(o);return f}function f(){return!0}function p(){return!1}function g(){try{return G.activeElement}catch(t){}}function v(t,e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(s in e)v(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=p;else if(!i)return t;return 1===o&&(a=i,i=function(t){return ot().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,i,r,n)})}function y(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function m(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=Yt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){var n,r,i,o,a,s,l,u;if(1===e.nodeType){if(Tt.hasData(t)&&(o=Tt.access(t),a=Tt.set(e,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)ot.event.add(e,i,u[i][n])}Ct.hasData(t)&&(s=Ct.access(t),l=ot.extend({},s),Ct.set(e,l))}}function w(t,e){var n=e.nodeName.toLowerCase();"input"===n&&It.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function E(t,e,n,r){e=K.apply([],e);var i,o,a,s,l,u,h=0,f=t.length,p=f-1,g=e[0],v=ot.isFunction(g);if(v||f>1&&"string"==typeof g&&!rt.checkClone&&Ht.test(g))return t.each(function(i){var o=t.eq(i);v&&(e[0]=g.call(this,i,o.html())),E(o,e,n,r)});if(f&&(i=d(e,t[0].ownerDocument,!1,t,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=ot.map(c(i,"script"),m),s=a.length;f>h;h++)l=i,h!==p&&(l=ot.clone(l,!0,!0),s&&ot.merge(a,c(l,"script"))),n.call(t[h],l,h);if(s)for(u=a[a.length-1].ownerDocument,ot.map(a,b),h=0;s>h;h++)l=a[h],Bt.test(l.type||"")&&!Tt.access(l,"globalEval")&&ot.contains(u,l)&&(l.src?ot._evalUrl&&ot._evalUrl(l.src):ot.globalEval(l.textContent.replace(Xt,"")))}return t}function _(t,e,n){for(var r,i=e?ot.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ot.cleanData(c(r)),r.parentNode&&(n&&ot.contains(r.ownerDocument,r)&&h(c(r,"script")),r.parentNode.removeChild(r));return t}function S(t,e){var n=ot(e.createElement(t)).appendTo(e.body),r=ot.css(n[0],"display");return n.detach(),r}function T(t){var e=G,n=Ut[t];return n||(n=S(t,e),"none"!==n&&n||(Vt=(Vt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Vt[0].contentDocument,e.write(),e.close(),n=S(t,e),Vt.detach()),Ut[t]=n),n}function C(t,e,n){var r,i,o,a,s=t.style;return n=n||Zt(t),a=n?n.getPropertyValue(e)||n[e]:void 0,""!==a&&void 0!==a||ot.contains(t.ownerDocument,t)||(a=ot.style(t,e)),n&&!rt.pixelMarginRight()&&Gt.test(a)&&Wt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0!==a?a+"":a}function k(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function P(t){if(t in re)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in re)return t}function D(t,e,n){var r=Mt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function M(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ot.css(t,n+Nt[o],!0,i)),r?("content"===n&&(a-=ot.css(t,"padding"+Nt[o],!0,i)),"margin"!==n&&(a-=ot.css(t,"border"+Nt[o]+"Width",!0,i))):(a+=ot.css(t,"padding"+Nt[o],!0,i),"padding"!==n&&(a+=ot.css(t,"border"+Nt[o]+"Width",!0,i)));return a}function N(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=Zt(t),a="border-box"===ot.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=C(t,e,o),(0>i||null==i)&&(i=t.style[e]),Gt.test(i))return i;r=a&&(rt.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+M(t,e,n||(a?"border":"content"),r,o)+"px"}function A(t,e){for(var n,r,i,o=[],a=0,s=t.length;s>a;a++)r=t[a],r.style&&(o[a]=Tt.get(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&At(r)&&(o[a]=Tt.access(r,"olddisplay",T(r.nodeName)))):(i=At(r),"none"===n&&i||Tt.set(r,"olddisplay",i?n:ot.css(r,"display"))));for(a=0;s>a;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function I(t,e,n,r,i){return new I.prototype.init(t,e,n,r,i)}function O(){return t.setTimeout(function(){ie=void 0}),ie=ot.now()}function B(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=Nt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function L(t,e,n){for(var r,i=($.tweeners[e]||[]).concat($.tweeners["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,e,t))return r}function R(t,e,n){var r,i,o,a,s,l,u,c,h=this,d={},f=t.style,p=t.nodeType&&At(t),g=Tt.get(t,"fxshow");n.queue||(s=ot._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,ot.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=ot.css(t,"display"),c="none"===u?Tt.get(t,"olddisplay")||T(t.nodeName):u,"inline"===c&&"none"===ot.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],ae.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}d[r]=g&&g[r]||ot.style(t,r)}else u=void 0;if(ot.isEmptyObject(d))"inline"===("none"===u?T(t.nodeName):u)&&(f.display=u);else{g?"hidden"in g&&(p=g.hidden):g=Tt.access(t,"fxshow",{}),o&&(g.hidden=!p),p?ot(t).show():h.done(function(){ot(t).hide()}),h.done(function(){var e;Tt.remove(t,"fxshow");for(e in d)ot.style(t,e,d[e])});for(r in d)a=L(p?g[r]:0,r,h),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function j(t,e){var n,r,i,o,a;for(n in t)if(r=ot.camelCase(n),i=e[r],o=t[n],ot.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),a=ot.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function $(t,e,n){var r,i,o=0,a=$.prefilters.length,s=ot.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=ie||O(),n=Math.max(0,u.startTime+u.duration-e),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,n]),1>o&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||O(),duration:n.duration,tweens:[],createTween:function(e,n){var r=ot.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(j(c,u.opts.specialEasing);a>o;o++)if(r=$.prefilters[o].call(u,t,c,u.opts))return ot.isFunction(r.stop)&&(ot._queueHooks(u.elem,u.opts.queue).stop=ot.proxy(r.stop,r)),r;return ot.map(c,L,u),ot.isFunction(u.opts.start)&&u.opts.start.call(t,u),ot.fx.timer(ot.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function z(t){return t.getAttribute&&t.getAttribute("class")||""}function F(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(wt)||[];if(ot.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function q(t,e,n,r){function i(s){var l;return o[s]=!0,ot.each(t[s]||[],function(t,s){var u=s(e,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=t===Ce;return i(e.dataTypes[0])||!o["*"]&&i("*")}function H(t,e){var n,r,i=ot.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&ot.extend(!0,t,r),t}function Y(t,e,n){for(var r,i,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function X(t,e,n,r){var i,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function V(t,e,n,r){var i;if(ot.isArray(e))ot.each(e,function(e,i){n||Me.test(t)?r(t,i):V(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==ot.type(e))r(t,e);else for(i in e)V(t+"["+i+"]",e[i],n,r)}function U(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var W=[],G=t.document,Z=W.slice,K=W.concat,J=W.push,Q=W.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,rt={},it="2.2.4",ot=function(t,e){return new ot.fn.init(t,e)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,lt=/-([\da-z])/gi,ut=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:it,constructor:ot,selector:"",length:0,toArray:function(){return Z.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:Z.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:W.sort,splice:W.splice},ot.extend=ot.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ot.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(u&&r&&(ot.isPlainObject(r)||(i=ot.isArray(r)))?(i?(i=!1,o=n&&ot.isArray(n)?n:[]):o=n&&ot.isPlainObject(n)?n:{},a[e]=ot.extend(u,o,r)):void 0!==r&&(a[e]=r));return a},ot.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=G.createElement("script"),e.text=t,G.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(st,"ms-").replace(lt,ut)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var r,i=0;if(n(t))for(r=t.length;r>i&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(at,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?ot.merge(r,"string"==typeof t?[t]:t):J.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:Q.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;a>o;o++)r=!e(t[o],o),r!==s&&i.push(t[o]);return i},map:function(t,e,r){var i,o,a=0,s=[];if(n(t))for(i=t.length;i>a;a++)o=e(t[a],a,r),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,r),null!=o&&s.push(o);return K.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),ot.isFunction(t)?(r=Z.call(arguments,2),i=function(){return t.apply(e||this,r.concat(Z.call(arguments)))},i.guid=t.guid=t.guid||ot.guid++,i):void 0},now:Date.now,support:rt}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=W[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,n,r){var i,o,a,s,l,u,h,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!r&&((e?e.ownerDocument||e:z)!==A&&N(e),e=e||A,O)){if(11!==g&&(u=yt.exec(t)))if(i=u[1]){if(9===g){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(p&&(a=p.getElementById(i))&&j(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return J.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(i)),n}if(w.qsa&&!X[t+" "]&&(!B||!B.test(t))){if(1!==g)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,"\\$&"):e.setAttribute("id",s=$),h=T(t),o=h.length,l=dt.test(s)?"#"+s:"[id='"+s+"']";o--;)h[o]=l+" "+d(h[o]);f=h.join(","),p=mt.test(t)&&c(e.parentNode)||e}if(f)try{return J.apply(n,p.querySelectorAll(f)),n}catch(v){}finally{s===$&&e.removeAttribute("id")}}}return k(t.replace(st,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>E.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[$]=!0,t}function i(t){var e=A.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)E.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function f(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=q++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,l,u,c=[F,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[$]||(e[$]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(s=l[r])&&s[0]===F&&s[1]===o)return c[2]=s[2];if(l[r]=c,c[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function v(t,e,n,r,i){for(var o,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),u&&e.push(s)));return a}function y(t,e,n,i,o,a){return i&&!i[$]&&(i=y(i)),o&&!o[$]&&(o=y(o,a)),r(function(r,a,s,l){var u,c,h,d=[],f=[],p=a.length,y=r||g(e||"*",s.nodeType?[s]:s,[]),m=!t||!r&&e?y:v(y,d,t,s,l),b=n?o||(r?t:p||i)?[]:a:m;if(n&&n(m,b,s,l),i)for(u=v(b,f),i(u,[],s,l),c=u.length;c--;)(h=u[c])&&(b[f[c]]=!(m[f[c]]=h));if(r){if(o||t){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(m[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?tt(r,h):d[c])>-1&&(r[u]=!(a[u]=h))}}else b=v(b===a?b.splice(p,b.length):b),o?o(null,a,b,l):J.apply(a,b)})}function m(t){for(var e,n,r,i=t.length,o=E.relative[t[0].type],a=o||E.relative[" "],s=o?1:0,l=f(function(t){return t===e},a,!0),u=f(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,r){var i=!o&&(r||n!==P)||((e=n).nodeType?l(t,n,r):u(t,n,r));return e=null,i}];i>s;s++)if(n=E.relative[t[s].type])c=[f(p(c),n)];else{if(n=E.filter[t[s].type].apply(null,t[s].matches),n[$]){for(r=++s;i>r&&!E.relative[t[r].type];r++);return y(s>1&&p(c),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,r>s&&m(t.slice(s,r)),i>r&&m(t=t.slice(r)),i>r&&d(t))}c.push(n)}return p(c)}function b(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,l,u){var c,h,d,f=0,p="0",g=r&&[],y=[],m=P,b=r||o&&E.find.TAG("*",u),x=F+=null==m?1:Math.random()||.1,w=b.length;for(u&&(P=a===A||a||u);p!==w&&null!=(c=b[p]);p++){if(o&&c){for(h=0,a||c.ownerDocument===A||(N(c),s=!O);d=t[h++];)if(d(c,a||A,s)){l.push(c);break}u&&(F=x)}i&&((c=!d&&c)&&f--,r&&g.push(c))}if(f+=p,i&&p!==f){for(h=0;d=n[h++];)d(g,y,a,s);if(r){if(f>0)for(;p--;)g[p]||y[p]||(y[p]=Z.call(l));y=v(y)}J.apply(l,y),u&&!r&&y.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(F=x,P=m),g};return i?r(a):a}var x,w,E,_,S,T,C,k,P,D,M,N,A,I,O,B,L,R,j,$="sizzle"+1*new Date,z=t.document,F=0,q=0,H=n(),Y=n(),X=n(),V=function(t,e){return t===e&&(M=!0),0},U=1<<31,W={}.hasOwnProperty,G=[],Z=G.pop,K=G.push,J=G.push,Q=G.slice,tt=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),dt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,bt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Et=function(){N()};try{J.apply(G=Q.call(z.childNodes),z.childNodes),G[z.childNodes.length].nodeType}catch(_t){J={apply:G.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},N=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:z;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,I=A.documentElement,O=!S(A),(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Et,!1):n.attachEvent&&n.attachEvent("onunload",Et)),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(A.getElementsByClassName),w.getById=i(function(t){return I.appendChild(t).id=$,!A.getElementsByName||!A.getElementsByName($).length}),w.getById?(E.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var n=e.getElementById(t);return n?[n]:[]}},E.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){return t.getAttribute("id")===e}}):(delete E.find.ID,E.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),E.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},E.find.CLASS=w.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&O?e.getElementsByClassName(t):void 0},L=[],B=[],(w.qsa=vt.test(A.querySelectorAll))&&(i(function(t){I.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&B.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||B.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+$+"-]").length||B.push("~="),t.querySelectorAll(":checked").length||B.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||B.push(".#.+[+~]")}),i(function(t){var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&B.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||B.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),B.push(",.*:")})),(w.matchesSelector=vt.test(R=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&i(function(t){w.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),L.push("!=",ot)}),B=B.length&&new RegExp(B.join("|")),L=L.length&&new RegExp(L.join("|")),e=vt.test(I.compareDocumentPosition),j=e||vt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===A||t.ownerDocument===z&&j(z,t)?-1:e===A||e.ownerDocument===z&&j(z,e)?1:D?tt(D,t)-tt(D,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],l=[e];if(!i||!o)return t===A?-1:e===A?1:i?-1:o?1:D?tt(D,t)-tt(D,e):0;if(i===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===z?-1:l[r]===z?1:0},A):A},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==A&&N(t),n=n.replace(ct,"='$1']"),w.matchesSelector&&O&&!X[n+" "]&&(!L||!L.test(n))&&(!B||!B.test(n)))try{var r=R.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&N(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&N(t);var n=E.attrHandle[e.toLowerCase()],r=n&&W.call(E.attrHandle,e.toLowerCase())?n(t,e,!O):void 0;return void 0!==r?r:w.attributes||!O?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(M=!w.detectDuplicates,D=!w.sortStable&&t.slice(0),t.sort(V),M){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return D=null,t},_=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=_(e);return n},E=e.selectors={cacheLength:50,createPseudo:r,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(at," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,f,p,g=o!==a?"nextSibling":"previousSibling",v=e.parentNode,y=s&&e.nodeName.toLowerCase(),m=!l&&!s,b=!1;if(v){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&m){for(d=v,h=d[$]||(d[$]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===F&&u[1],b=f&&u[2],d=f&&v.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[F,f,b];break}}else if(m&&(d=e,h=d[$]||(d[$]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===F&&u[1],b=f),b===!1)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++b||(m&&(h=d[$]||(d[$]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[t]=[F,b]),d!==e)););return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(t,n){var i,o=E.pseudos[t]||E.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[$]?o(n):o.length>1?(i=[t,t,"",n],E.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=tt(t,i[a]),
t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=C(t.replace(st,"$1"));return i[$]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(xt,wt),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:r(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,wt).toLowerCase(),function(e){var n;do if(n=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:u(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},E.pseudos.nth=E.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})E.pseudos[x]=l(x);return h.prototype=E.filters=E.pseudos,E.setFilters=new h,T=e.tokenize=function(t,n){var r,i,o,a,s,l,u,c=Y[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=E.preFilter;s;){r&&!(i=lt.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ut.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(st," ")}),s=s.slice(r.length));for(a in E.filter)!(i=ft[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):Y(t,l).slice(0)},C=e.compile=function(t,e){var n,r=[],i=[],o=X[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)o=m(e[n]),o[$]?r.push(o):i.push(o);o=X(t,b(i,r)),o.selector=t}return o},k=e.select=function(t,e,n,r){var i,o,a,s,l,u="function"==typeof t&&t,h=!r&&T(t=u.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===e.nodeType&&O&&E.relative[o[1].type]){if(e=(E.find.ID(a.matches[0].replace(xt,wt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ft.needsContext.test(t)?0:o.length;i--&&(a=o[i],!E.relative[s=a.type]);)if((l=E.find[s])&&(r=l(a.matches[0].replace(xt,wt),mt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&d(o),!t)return J.apply(n,r),n;break}}return(u||C(t,h))(r,e,!O,n,!e||mt.test(t)&&c(e.parentNode)||e),n},w.sortStable=$.split("").sort(V).join("")===$,w.detectDuplicates=!!M,N(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var ht=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&ot(t).is(n))break;r.push(t)}return r},dt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},ft=ot.expr.match.needsContext,pt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?ot.find.matchesSelector(r,t)?[r]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;n>e;e++)if(ot.contains(i[e],this))return!0}));for(e=0;n>e;e++)ot.find(t,i[e],r);return r=this.pushStack(n>1?ot.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ft.test(t)?ot(t):t||[],!1).length}});var vt,yt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=ot.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||vt,"string"==typeof t){if(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:yt.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:G,!0)),pt.test(r[1])&&ot.isPlainObject(e))for(r in e)ot.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=G.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=G,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==n.ready?n.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};mt.prototype=ot.fn,vt=ot(G);var bt=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=ft.test(t)||"string"!=typeof t?ot(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?Q.call(ot(t),this[0]):Q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ht(t,"parentNode")},parentsUntil:function(t,e,n){return ht(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return ht(t,"nextSibling")},prevAll:function(t){return ht(t,"previousSibling")},nextUntil:function(t,e,n){return ht(t,"nextSibling",n)},prevUntil:function(t,e,n){return ht(t,"previousSibling",n)},siblings:function(t){return dt((t.parentNode||{}).firstChild,t)},children:function(t){return dt(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(n,r){var i=ot.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ot.filter(r,i)),this.length>1&&(xt[t]||ot.uniqueSort(i),bt.test(t)&&i.reverse()),this.pushStack(i)}});var wt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,n,r,i,a=[],s=[],l=-1,u=function(){for(i=t.once,r=e=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=a.length,n=!1);t.memory||(n=!1),e=!1,i&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(l=a.length-1,s.push(n)),function r(e){ot.each(e,function(e,n){ot.isFunction(n)?t.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==ot.type(n)&&r(n)})}(arguments),n&&!e&&u()),this},remove:function(){return ot.each(arguments,function(t,e){for(var n;(n=ot.inArray(e,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(t){return t?ot.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=s=[],n||(a=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(n){ot.each(e,function(e,o){var a=ot.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,r):r}},i={};return r.pipe=r.then,ot.each(e,function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=Z.call(arguments),a=o.length,s=1!==a||t&&ot.isFunction(t.promise)?a:0,l=1===s?t:ot.Deferred(),u=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?Z.call(arguments):i,r===e?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&ot.isFunction(o[i].promise)?o[i].promise().progress(u(i,n,e)).done(u(i,r,o)).fail(l.reject):--s;return s||l.resolveWith(r,o),l.promise()}});var Et;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(Et.resolveWith(G,[ot]),ot.fn.triggerHandler&&(ot(G).triggerHandler("ready"),ot(G).off("ready"))))}}),ot.ready.promise=function(e){return Et||(Et=ot.Deferred(),"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?t.setTimeout(ot.ready):(G.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a))),Et.promise(e)},ot.ready.promise();var _t=function(t,e,n,r,i,o,a){var s=0,l=t.length,u=null==n;if("object"===ot.type(n)){i=!0;for(s in n)_t(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ot.isFunction(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(ot(t),n)})),e))for(;l>s;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:u?e.call(t):l?e(t[0],n):o},St=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};s.uid=1,s.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!St(t))return{};var e=t[this.expando];return e||(e={},St(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[e]=n;else for(r in e)i[r]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,ot.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?r=e.concat(e.map(ot.camelCase)):(i=ot.camelCase(e),e in o?r=[e,i]:(r=i,r=r in o?[r]:r.match(wt)||[])),n=r.length;for(;n--;)delete o[r[n]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var Tt=new s,Ct=new s,kt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pt=/[A-Z]/g;ot.extend({hasData:function(t){return Ct.hasData(t)||Tt.hasData(t)},data:function(t,e,n){return Ct.access(t,e,n)},removeData:function(t,e){Ct.remove(t,e)},_data:function(t,e,n){return Tt.access(t,e,n)},_removeData:function(t,e){Tt.remove(t,e)}}),ot.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Ct.get(o),1===o.nodeType&&!Tt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ot.camelCase(r.slice(5)),l(o,r,i[r])));Tt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Ct.set(this,t)}):_t(this,function(e){var n,r;if(o&&void 0===e){if(n=Ct.get(o,t)||Ct.get(o,t.replace(Pt,"-$&").toLowerCase()),void 0!==n)return n;if(r=ot.camelCase(t),n=Ct.get(o,r),void 0!==n)return n;if(n=l(o,r,void 0),void 0!==n)return n}else r=ot.camelCase(t),this.each(function(){var n=Ct.get(this,r);Ct.set(this,r,e),t.indexOf("-")>-1&&void 0!==n&&Ct.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ct.remove(this,t)})}}),ot.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=Tt.get(t,e),n&&(!r||ot.isArray(n)?r=Tt.access(t,e,ot.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),r=n.length,i=n.shift(),o=ot._queueHooks(t,e),a=function(){ot.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Tt.get(t,n)||Tt.access(t,n,{empty:ot.Callbacks("once memory").add(function(){Tt.remove(t,[e+"queue",n])})})}}),ot.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):void 0===e?this:this.each(function(){var n=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=ot.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=Tt.get(o[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var Dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=new RegExp("^(?:([+-])=|)("+Dt+")([a-z%]*)$","i"),Nt=["Top","Right","Bottom","Left"],At=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},It=/^(?:checkbox|radio)$/i,Ot=/<([\w:-]+)/,Bt=/^$|\/(?:java|ecma)script/i,Lt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td;var Rt=/<|&#?\w+;/;!function(){var t=G.createDocumentFragment(),e=t.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),rt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",rt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var jt=/^key/,$t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,zt=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,n,r,i){var o,a,s,l,u,c,h,d,f,p,g,v=Tt.get(t);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=ot.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(wt)||[""],u=e.length;u--;)s=zt.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(h=ot.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=ot.event.special[f]||{},c=ot.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ot.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&h.setup.call(t,r,p,a)!==!1||t.addEventListener&&t.addEventListener(f,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),ot.event.global[f]=!0)},remove:function(t,e,n,r,i){var o,a,s,l,u,c,h,d,f,p,g,v=Tt.hasData(t)&&Tt.get(t);if(v&&(l=v.events)){for(e=(e||"").match(wt)||[""],u=e.length;u--;)if(s=zt.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(h=ot.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));a&&!d.length&&(h.teardown&&h.teardown.call(t,p,v.handle)!==!1||ot.removeEvent(t,f,v.handle),delete l[f])}else for(f in l)ot.event.remove(t,f+e[u],n,r,!0);ot.isEmptyObject(l)&&Tt.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,n,r,i,o,a=[],s=Z.call(arguments),l=(Tt.get(this,"events")||{})[t.type]||[],u=ot.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=ot.event.handlers.call(this,t,l),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,r=((ot.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(r=[],n=0;s>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?ot(i,this).index(l)>-1:ot.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||G,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=$t.test(i)?this.mouseHooks:jt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new ot.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=G),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?f:p):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||ot.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ot.fn.extend({on:function(t,e,n,r){return v(this,t,e,n,r)},one:function(t,e,n,r){return v(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ot(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=p),this.each(function(){ot.event.remove(this,t,n,e)})}});var Ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,qt=/<script|<style|<link/i,Ht=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(Ft,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),l=ot.contains(t.ownerDocument,t);if(!(rt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(a=c(s),o=c(t),r=0,i=o.length;i>r;r++)w(o[r],a[r]);if(e)if(n)for(o=o||c(t),a=a||c(s),r=0,i=o.length;i>r;r++)x(o[r],a[r]);else x(t,s);return a=c(s,"script"),a.length>0&&h(a,!l&&c(t,"script")),s},cleanData:function(t){for(var e,n,r,i=ot.event.special,o=0;void 0!==(n=t[o]);o++)if(St(n)){if(e=n[Tt.expando]){if(e.events)for(r in e.events)i[r]?ot.event.remove(n,r):ot.removeEvent(n,r,e.handle);n[Tt.expando]=void 0}n[Ct.expando]&&(n[Ct.expando]=void 0)}}}),ot.fn.extend({domManip:E,detach:function(t){return _(this,t,!0)},remove:function(t){return _(this,t)},text:function(t){return _t(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.appendChild(t)}})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return _t(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!qt.test(t)&&!Lt[(Ot.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(ot.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return E(this,arguments,function(e){var n=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(c(this)),n&&n.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var n,r=[],i=ot(t),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),ot(i[a])[e](n),J.apply(r,n.get());return this.pushStack(r)}});var Vt,Ut={HTML:"block",BODY:"block"},Wt=/^margin/,Gt=new RegExp("^("+Dt+")(?!px)[a-z%]+$","i"),Zt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Kt=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i},Jt=G.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Jt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,s.style.marginRight="50%",i="4px"===e.marginRight,Jt.removeChild(a)}var n,r,i,o,a=G.createElement("div"),s=G.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ot.extend(rt,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},pixelMarginRight:function(){return null==r&&e(),i},reliableMarginLeft:function(){return null==r&&e(),o},reliableMarginRight:function(){var e,n=s.appendChild(G.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Jt.appendChild(a),e=!parseFloat(t.getComputedStyle(n).marginRight),Jt.removeChild(a),s.removeChild(n),e}}))}();var Qt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],re=G.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=C(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=ot.camelCase(e),l=t.style;return e=ot.cssProps[s]||(ot.cssProps[s]=P(s)||s),a=ot.cssHooks[e]||ot.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:l[e]:(o=typeof n,"string"===o&&(i=Mt.exec(n))&&i[1]&&(n=u(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(ot.cssNumber[s]?"":"px")),rt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(l[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,a,s=ot.camelCase(e);return e=ot.cssProps[s]||(ot.cssProps[s]=P(s)||s),a=ot.cssHooks[e]||ot.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=C(t,e,r)),"normal"===i&&e in ee&&(i=ee[e]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,n,r){return n?Qt.test(ot.css(t,"display"))&&0===t.offsetWidth?Kt(t,te,function(){return N(t,e,r)}):N(t,e,r):void 0},set:function(t,n,r){var i,o=r&&Zt(t),a=r&&M(t,e,r,"border-box"===ot.css(t,"boxSizing",!1,o),o);return a&&(i=Mt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=ot.css(t,e)),D(t,n,a)}}}),ot.cssHooks.marginLeft=k(rt.reliableMarginLeft,function(t,e){return e?(parseFloat(C(t,"marginLeft"))||t.getBoundingClientRect().left-Kt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ot.cssHooks.marginRight=k(rt.reliableMarginRight,function(t,e){return e?Kt(t,{display:"inline-block"},C,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Nt[r]+e]=o[r]||o[r-2]||o[0];return i}},Wt.test(t)||(ot.cssHooks[t+e].set=D)}),ot.fn.extend({css:function(t,e){return _t(this,function(t,e,n){var r,i,o={},a=0;if(ot.isArray(e)){for(r=Zt(t),i=e.length;i>a;a++)o[e[a]]=ot.css(t,e[a],!1,r);return o}return void 0!==n?ot.style(t,e,n):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){At(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=I,I.prototype={constructor:I,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return t&&t.get?t.get(this):I.propHooks._default.get(this)},run:function(t){var e,n=I.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=I.prototype.init,ot.fx.step={};var ie,oe,ae=/^(?:toggle|show|hide)$/,se=/queueHooks$/;ot.Animation=ot.extend($,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return u(n.elem,t,Mt.exec(e),n),n}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(wt);for(var n,r=0,i=t.length;i>r;r++)n=t[r],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(e)},prefilters:[R],prefilter:function(t,e){e?$.prefilters.unshift(t):$.prefilters.push(t)}}),ot.speed=function(t,e,n){var r=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return r.duration=ot.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ot.fx.speeds?ot.fx.speeds[r.duration]:ot.fx.speeds._default,
null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){ot.isFunction(r.old)&&r.old.call(this),r.queue&&ot.dequeue(this,r.queue)},r},ot.fn.extend({fadeTo:function(t,e,n,r){return this.filter(At).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=ot.isEmptyObject(t),o=ot.speed(e,n,r),a=function(){var e=$(this,ot.extend({},t),o);(i||Tt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=ot.timers,a=Tt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&se.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Tt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=ot.timers,a=r?r.length:0;for(n.finish=!0,ot.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var n=ot.fn[e];ot.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(B(e,!0),t,r,i)}}),ot.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,n=ot.timers;for(ie=ot.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ot.fx.stop(),ie=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,n){return e=ot.fx?ot.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var t=G.createElement("input"),e=G.createElement("select"),n=e.appendChild(G.createElement("option"));t.type="checkbox",rt.checkOn=""!==t.value,rt.optSelected=n.selected,e.disabled=!0,rt.optDisabled=!n.disabled,t=G.createElement("input"),t.value="t",t.type="radio",rt.radioValue="t"===t.value}();var le,ue=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return _t(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ot.prop(t,e,n):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),i=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?le:void 0)),void 0!==n?null===n?void ot.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=ot.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!rt.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(wt);if(o&&1===t.nodeType)for(;n=o[i++];)r=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)}}),le={set:function(t,e,n){return e===!1?ot.removeAttr(t,n):t.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ue[e]||ot.find.attr;ue[e]=function(t,e,r){var i,o;return r||(o=ue[e],ue[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,ue[e]=o),i}});var ce=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return _t(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,i=ot.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),rt.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var de=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,z(this)))});if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[l++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(de," ")){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=ot.trim(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[l++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(de," ")){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=ot.trim(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(n){ot(this).toggleClass(t.call(this,n,z(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=ot(this),o=t.match(wt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=z(this),e&&Tt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Tt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+z(n)+" ").replace(de," ").indexOf(e)>-1)return!0;return!1}});var fe=/\r/g,pe=/[\x20\t\r\n\f]+/g;ot.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=ot.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,ot(this).val()):t,null==i?i="":"number"==typeof i?i+="":ot.isArray(i)&&(i=ot.map(i,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=ot.valHooks[i.type]||ot.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(fe,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t)).replace(pe," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],(n.selected||l===i)&&(rt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=ot.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=ot.inArray(ot.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>-1:void 0}},rt.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ge=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,n,r,i){var o,a,s,l,u,c,h,d=[r||G],f=nt.call(e,"type")?e.type:e,p=nt.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||G,3!==r.nodeType&&8!==r.nodeType&&!ge.test(f+ot.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,e=e[ot.expando]?e:new ot.Event(f,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:ot.makeArray(n,[e]),h=ot.event.special[f]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!ot.isWindow(r)){for(l=h.delegateType||f,ge.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||G)&&d.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=d[o++])&&!e.isPropagationStopped();)e.type=o>1?l:h.bindType||f,c=(Tt.get(a,"events")||{})[e.type]&&Tt.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&St(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=f,i||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!St(r)||u&&ot.isFunction(r[f])&&!ot.isWindow(r)&&(s=r[u],s&&(r[u]=null),ot.event.triggered=f,r[f](),ot.event.triggered=void 0,s&&(r[u]=s)),e.result}},simulate:function(t,e,n){var r=ot.extend(new ot.Event,n,{type:t,isSimulated:!0});ot.event.trigger(r,null,e)}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ot.event.trigger(t,e,n,!0):void 0}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),rt.focusin="onfocusin"in t,rt.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Tt.access(r,e);i||r.addEventListener(t,n,!0),Tt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Tt.access(r,e)-1;i?Tt.access(r,e,i):(r.removeEventListener(t,n,!0),Tt.remove(r,e))}}});var ve=t.location,ye=ot.now(),me=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+e),n};var be=/#.*$/,xe=/([?&])_=[^&]*/,we=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ee=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_e=/^(?:GET|HEAD)$/,Se=/^\/\//,Te={},Ce={},ke="*/".concat("*"),Pe=G.createElement("a");Pe.href=ve.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ve.href,type:"GET",isLocal:Ee.test(ve.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?H(H(t,ot.ajaxSettings),e):H(ot.ajaxSettings,t)},ajaxPrefilter:F(Te),ajaxTransport:F(Ce),ajax:function(e,n){function r(e,n,r,s){var u,h,m,b,w,_=n;2!==x&&(x=2,l&&t.clearTimeout(l),i=void 0,a=s||"",E.readyState=e>0?4:0,u=e>=200&&300>e||304===e,r&&(b=Y(d,E,r)),b=X(d,b,E,u),u?(d.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(ot.lastModified[o]=w),w=E.getResponseHeader("etag"),w&&(ot.etag[o]=w)),204===e||"HEAD"===d.type?_="nocontent":304===e?_="notmodified":(_=b.state,h=b.data,m=b.error,u=!m)):(m=_,!e&&_||(_="error",0>e&&(e=0))),E.status=e,E.statusText=(n||_)+"",u?g.resolveWith(f,[h,_,E]):g.rejectWith(f,[E,_,m]),E.statusCode(y),y=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[E,d,u?h:m]),v.fireWith(f,[E,_]),c&&(p.trigger("ajaxComplete",[E,d]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,a,s,l,u,c,h,d=ot.ajaxSetup({},n),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ot(f):ot.event,g=ot.Deferred(),v=ot.Callbacks("once memory"),y=d.statusCode||{},m={},b={},x=0,w="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!s)for(s={};e=we.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=b[n]=b[n]||t,m[t]=e),this},overrideMimeType:function(t){return x||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)y[e]=[y[e],t[e]];else E.always(t[E.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),r(0,e),this}};if(g.promise(E).complete=v.add,E.success=E.done,E.error=E.fail,d.url=((e||d.url||ve.href)+"").replace(be,"").replace(Se,ve.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ot.trim(d.dataType||"*").toLowerCase().match(wt)||[""],null==d.crossDomain){u=G.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Pe.protocol+"//"+Pe.host!=u.protocol+"//"+u.host}catch(_){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ot.param(d.data,d.traditional)),q(Te,d,n,E),2===x)return E;c=ot.event&&d.global,c&&0===ot.active++&&ot.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!_e.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(me.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=xe.test(o)?o.replace(xe,"$1_="+ye++):o+(me.test(o)?"&":"?")+"_="+ye++)),d.ifModified&&(ot.lastModified[o]&&E.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&E.setRequestHeader("If-None-Match",ot.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+ke+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)E.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(f,E,d)===!1||2===x))return E.abort();w="abort";for(h in{success:1,error:1,complete:1})E[h](d[h]);if(i=q(Ce,d,n,E)){if(E.readyState=1,c&&p.trigger("ajaxSend",[E,d]),2===x)return E;d.async&&d.timeout>0&&(l=t.setTimeout(function(){E.abort("timeout")},d.timeout));try{x=1,i.send(m,r)}catch(_){if(!(2>x))throw _;r(-1,_)}}else r(-1,"No Transport");return E},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,n,r,i){return ot.isFunction(n)&&(i=i||r,r=n,n=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:i,data:n,success:r},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(n){ot(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var De=/%20/g,Me=/\[\]$/,Ne=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,r=[],i=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){i(this.name,this.value)});else for(n in t)V(n,t[n],e,i);return r.join("&").replace(De,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Ie.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!It.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{name:e.name,value:t.replace(Ne,"\r\n")}}):{name:e.name,value:n.replace(Ne,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Oe={0:200,1223:204},Be=ot.ajaxSettings.xhr();rt.cors=!!Be&&"withCredentials"in Be,rt.ajax=Be=!!Be,ot.ajaxTransport(function(e){var n,r;return rt.cors||Be&&!e.crossDomain?{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(t){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Oe[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),G.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Le=[],Re=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Le.pop()||ot.expando+"_"+ye++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=e.jsonp!==!1&&(Re.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Re.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Re,"$1"+i):e.jsonp!==!1&&(e.url+=(me.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||ot.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){void 0===o?ot(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Le.push(i)),a&&ot.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||G;var r=pt.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=d([t],e,i),i&&i.length&&ot(i).remove(),ot.merge([],r.childNodes))};var je=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&je)return je.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=ot.trim(t.slice(s)),t=t.slice(0,s)),ot.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&ot.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?ot("<div>").append(ot.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,n){var r,i,o,a,s,l,u,c=ot.css(t,"position"),h=ot(t),d={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=ot.css(t,"top"),l=ot.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),ot.isFunction(e)&&(e=e.call(t,n,ot.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+i),"using"in e?e.using.call(t,d):h.css(d)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,ot.contains(e,r)?(i=r.getBoundingClientRect(),n=U(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===ot.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(r=t.offset()),r.top+=ot.css(t[0],"borderTopWidth",!0),r.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-ot.css(n,"marginTop",!0),left:e.left-r.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Jt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ot.fn[t]=function(r){return _t(this,function(t,r,i){var o=U(t);return void 0===i?o?o[e]:t[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i)},t,r,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=k(rt.pixelPosition,function(t,n){return n?(n=C(t,e),Gt.test(n)?ot(t).position()[e]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){ot.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return _t(this,function(e,n,r){var i;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?ot.css(e,n,a):ot.style(e,n,r,a)},e,o?r:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var $e=t.jQuery,ze=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=ze),e&&t.jQuery===ot&&(t.jQuery=$e),ot},e||(t.jQuery=t.$=ot),ot})},{}],27:[function(t,e,n){(function(t){var n=function(){"use strict";function e(n,r,i,o){function s(n,i){if(null===n)return null;if(0==i)return n;var l,d;if("object"!=typeof n)return n;if(e.__isArray(n))l=[];else if(e.__isRegExp(n))l=new RegExp(n.source,a(n)),n.lastIndex&&(l.lastIndex=n.lastIndex);else if(e.__isDate(n))l=new Date(n.getTime());else{if(h&&t.isBuffer(n))return l=new t(n.length),n.copy(l),l;"undefined"==typeof o?(d=Object.getPrototypeOf(n),l=Object.create(d)):(l=Object.create(o),d=o)}if(r){var f=u.indexOf(n);if(-1!=f)return c[f];u.push(n),c.push(l)}for(var p in n){var g;d&&(g=Object.getOwnPropertyDescriptor(d,p)),g&&null==g.set||(l[p]=s(n[p],i-1))}return l}var l;"object"==typeof r&&(i=r.depth,o=r.prototype,l=r.filter,r=r.circular);var u=[],c=[],h="undefined"!=typeof t;return"undefined"==typeof r&&(r=!0),"undefined"==typeof i&&(i=1/0),s(n,i)}function n(t){return Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&"[object Date]"===n(t)}function i(t){return"object"==typeof t&&"[object Array]"===n(t)}function o(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return e.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},e.__objToStr=n,e.__isDate=r,e.__isArray=i,e.__isRegExp=o,e.__getRegExpFlags=a,e}();"object"==typeof e&&e.exports&&(e.exports=n)}).call(this,t("buffer").Buffer)},{buffer:2}],28:[function(t,e,n){function r(t,e){if(t.contains)return t.contains(e);var n=t.compareDocumentPosition(e);return 0===n||n&i}var i=16;e.exports=r},{}],29:[function(t,e,n){"use strict";function r(t){var e=""+t,n=i.exec(e);if(!n)return e;var r,o="",a=0,s=0;for(a=n.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=e.substring(s,a)),s=a+1,o+=r}return s!==a?o+e.substring(s,a):o}var i=/["'&<>]/;e.exports=r},{}],30:[function(t,e,n){"use strict";function r(t,e){if(o)return o.call(t,e);for(var n=t.parentNode.querySelectorAll(e),r=0;r<n.length;r++)if(n[r]==t)return!0;return!1}var i=Element.prototype,o=i.matches||i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=r},{}],31:[function(t,e,n){"use strict";function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function i(t){var e=Object.getOwnPropertyNames(t);return Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e.filter(function(e){return o.call(t,e)})}var o=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(t,e){for(var n,o,a=r(t),s=1;s<arguments.length;s++){n=arguments[s],o=i(Object(n));for(var l=0;l<o.length;l++)a[o[l]]=n[o[l]]}return a}},{}],32:[function(t,e,n){(function(t){"use strict";var n;e.exports=function(){return!n&&t.document&&(n=t.document.createElement("div")),n||(n={style:{}}),n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(t,e,n){"use strict";var r=t("./toUpperFirst"),i=t("./getPrefix"),o=t("./prefixProps");e.exports=function(t,e){if(!o[t])return t;var n=i(t);return n?n+r(t):t}},{"./getPrefix":35,"./prefixProps":42,"./toUpperFirst":43}],34:[function(t,e,n){"use strict";var r,i,o=t("./getPrefix"),a=t("./forcePrefixed"),s=t("./el"),l={};e.exports=function(t,e,n){i=i||s(),r=r||i.style;var u=t+": "+e;if(l[u])return l[u];var c,h,d;return!n&&t in r||(c=o("appearance"),c&&(h=a(t,e),d="-"+c.toLowerCase()+"-"+e,h in r&&(i.style[h]="",i.style[h]=d,""!==i.style[h]&&(e=d)))),l[u]=e,e}},{"./el":32,"./forcePrefixed":33,"./getPrefix":35}],35:[function(t,e,n){"use strict";var r,i,o=t("./toUpperFirst"),a=["ms","Moz","Webkit","O"],s=t("./el");e.exports=function(t){if(void 0!==i)return i;r=r||s();for(var e,n,l=0,u=a.length;u>l;l++)if(n=a[l],e=n+o(t),"undefined"!=typeof r.style[e])return i=n;return i}},{"./el":32,"./toUpperFirst":43}],36:[function(t,e,n){"use strict";var r=t("./getStylePrefixed"),i=t("./prefixProps");e.exports=function(t,e){return i[t]?r(t,e):t}},{"./getStylePrefixed":37,"./prefixProps":42}],37:[function(t,e,n){"use strict";var r,i,o=t("./toUpperFirst"),a=t("./getPrefix"),s=t("./el"),l={};e.exports=function(t,e){i=i||s(),r=r||i.style;var n=t;if(l[n])return l[n];var u,c;return t in r||(u=a("appearance"),u&&(c=u+o(t),c in r&&(t=c))),l[n]=t,t}},{"./el":32,"./getPrefix":35,"./toUpperFirst":43}],38:[function(t,e,n){"use strict";e.exports=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},{}],39:[function(t,e,n){"use strict";function r(t,e){var n={key:t,value:e};return(u.plugins||[]).forEach(function(r){var i=s(function(n){return r(t,e,n)},n);i&&(n=i)}),n}function i(t,e){var n=r(t,e);return s(function(t){return{key:a(t.key,t.value),value:t.value}},n)}var o=t("./hasOwn"),a=t("./getPrefixed"),s=t("./map"),l=t("./plugable"),u=function(t){var e,n,r={};for(e in t)if(o(t,e)){if(n=i(e,t[e]),!n)continue;s(function(t){r[t.key]=t.value},n)}return r};e.exports=l(u)},{"./getPrefixed":36,"./hasOwn":38,"./map":40,"./plugable":41}],40:[function(t,e,n){"use strict";e.exports=function(t,e){return e?Array.isArray(e)?e.map(t).filter(function(t){return!!t}):t(e):void 0}},{}],41:[function(t,e,n){"use strict";var r=t("./getCssPrefixedValue");e.exports=function(t){return t.plugins=t.plugins||[function(){var t={flex:1,"inline-flex":1};return function(e,n){return"display"===e&&n in t?{key:e,value:r(e,n,!0)}:void 0}}()],t.plugin=function(e){t.plugins=t.plugins||[],t.plugins.push(e)},t}},{"./getCssPrefixedValue":34}],42:[function(t,e,n){"use strict";e.exports={alignItems:1,justifyContent:1,flex:1,flexFlow:1,flexGrow:1,flexShrink:1,flexBasis:1,flexDirection:1,flexWrap:1,alignContent:1,alignSelf:1,userSelect:1,transform:1,transition:1,transformOrigin:1,transformStyle:1,transitionProperty:1,transitionDuration:1,transitionTimingFunction:1,transitionDelay:1,borderImage:1,borderImageSlice:1,boxShadow:1,backgroundClip:1,backfaceVisibility:1,perspective:1,perspectiveOrigin:1,animation:1,animationDuration:1,animationName:1,animationDelay:1,animationDirection:1,animationIterationCount:1,animationTimingFunction:1,animationPlayState:1,animationFillMode:1,appearance:1}},{}],43:[function(t,e,n){"use strict";e.exports=function(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}},{}],44:[function(t,e,n){"use strict";var r=t("region");r.prototype.alignToRegion=function(t,e){return r.align(this,t,e),this},r.prototype.alignToPoint=function(t,e){return r.alignToPoint(this,t,e),this}},{region:49}],45:[function(t,e,n){"use strict";var r=t("region");r.align=function(t,e,n){return e=r.from(e),n=(n||"c-c").split("-"),2!=n.length&&console.warn("Incorrect region alignment! The align parameter need to be in the form 'br-c', that is, a - separated string!",n),r.alignToPoint(t,e.getPoint(n[1]),n[0])},r.alignToPoint=function(t,e,n){t=r.from(t);var i=t.getPoint(n),o=0,a={};return null!=i.x&&null!=e.x&&(o++,a.left=e.x-i.x),null!=i.y&&null!=e.y&&(o++,a.top=e.y-i.y),o&&t.shift(a),t}},{region:49}],46:[function(t,e,n){"use strict";function r(t,e,n,r){e=i.from(e),r=r||{};var o=r.constrain,a=r.sync,s=r.offset||[],l=!1,u=!1,c=t.clone();Array.isArray(n)||(n=n?[n]:[]),Array.isArray(s)||(s=s?[s]:[]),o&&(o=o===!0?i.getDocRegion():o.getRegion()),a&&(a.size?(l=!0,u=!0):(l=a===!0?!0:a.width||!1,u=a===!0?!0:a.height||!1)),l&&c.setWidth(e.getWidth()),u&&c.setHeight(e.getHeight());for(var h,d,f,p,g=0,v=n.length,y=-1,m=-1;v>g;g++){if(d=n[g],h=s[g],c.alignToRegion(e,d),h&&(Array.isArray(h)||(h=s[g]=[h.x||h.left,h.y||h.top]),c.shift({left:h[0],top:h[1]})),!o)return t.set(c),d;if(f=c.getIntersection(o),f&&f.equals(c))return t.set(c),d;f&&(p=f.getArea())>y&&(y=p,m=g)}return~m?(d=n[m],h=s[m],c.alignToRegion(e,d),h&&c.shift({left:h[0],top:h[1]}),f=c.getIntersection(o),c.setRegion(f),c.alignToRegion(e,d),h&&c.shift({left:h[0],top:h[1]}),t.set(c),d):void 0}var i=t("region");e.exports=r},{region:49}],47:[function(t,e,n){
"use strict";function r(t,e,n,r){t=o.from(t);var a=t.clone(),s=i(a,e,n,r);return{position:s,region:a,widthChanged:a.getWidth()!=t.getWidth(),heightChanged:a.getHeight()!=t.getHeight(),positionChanged:a.equalsPosition(t)}}var i=t("./alignToNormalized"),o=t("region");e.exports=r},{"./alignToNormalized":46,region:49}],48:[function(t,e,n){"use strict";var r=t("region");t("./Region.static"),t("./Region.proto");var i=t("./computeAlignRegion");r.alignRegions=function(t,e,n,r){var o=i(t,e,n,r),a=o.region;return a.equals(t)||t.setRegion(a),o.position},r.prototype.alignTo=function(t,e,n){n=n||{};var o=this,a=r.from(t),s=i(o,a,e,n),l=s.region;return l.equalsSize(o)||this.setSize(l.getSize()),l.equalsPosition(o)||this.setPosition(l.getPosition(),{absolute:!!n.absolute}),s.position},e.exports=r},{"./Region.proto":44,"./Region.static":45,"./computeAlignRegion":47,region:49}],49:[function(t,e,n){e.exports=t("./src")},{"./src":54}],50:[function(t,e,n){"use strict";function r(t,e){function n(r){function i(){var i=arguments.length,o=[].concat(r);return i&&o.push.apply(o,arguments),o.length<e?n(o):t.apply(this,o)}return i}return"number"!=typeof e&&(e=t.length),n([])}var i=Object.prototype.hasOwnProperty;e.exports=r(function(t,e){return i.call(t,e)})},{}],51:[function(t,e,n){e.exports=function(){"use strict";var t={};return function(e){if(!t[e]){for(var n=[],r=0;e>r;r++)n.push("a["+r+"]");t[e]=new Function("c","a","return new c("+n.join(",")+")")}return t[e]}}()},{}],52:[function(t,e,n){var r=t("./getInstantiatorFunction");e.exports=function(t,e){return r(e.length)(t,e)}},{"./getInstantiatorFunction":51}],53:[function(t,e,n){"use strict";function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=Object.assign||function(t,e){for(var n,i,o=r(t),a=1;a<arguments.length;a++){n=arguments[a],i=Object.keys(Object(n));for(var s=0;s<i.length;s++)o[i[s]]=n[i[s]]}return o}},{}],54:[function(t,e,n){"use strict";function r(t,e,n){return t&&n.forEach(function(n){i(t,n)&&(e[n]=t[n])}),e}var i=t("hasown"),o=t("newify"),a=t("object-assign"),s=t("events").EventEmitter,l=t("./inherits"),u=t("./validate"),c=Object.prototype.toString,h=function(t){return"[object Object]"===c.apply(t)},d={cy:"YCenter",cx:"XCenter",t:"Top",tc:"TopCenter",tl:"TopLeft",tr:"TopRight",b:"Bottom",bc:"BottomCenter",bl:"BottomLeft",br:"BottomRight",l:"Left",lc:"LeftCenter",r:"Right",rc:"RightCenter",c:"Center"},f=function(t,e,n,i){return this instanceof f?(s.call(this),h(t)?(r(t,this,["top","right","bottom","left"]),null==t.bottom&&null!=t.height&&(this.bottom=this.top+t.height),null==t.right&&null!=t.width&&(this.right=this.left+t.width),t.emitChangeEvents&&(this.emitChangeEvents=t.emitChangeEvents)):(this.top=t,this.right=e,this.bottom=n,this.left=i),this[0]=this.left,this[1]=this.top,void u(this)):o(f,arguments)};l(f,s),a(f.prototype,{emitChangeEvents:!1,getRegion:function(t){return t?this.clone():this},setRegion:function(t){return t instanceof f?this.set(t.get()):this.set(t),this},validate:function(){return f.validate(this)},_before:function(){return this.emitChangeEvents?r(this,{},["left","top","bottom","right"]):void 0},_after:function(t){this.emitChangeEvents&&(this.top==t.top&&this.left==t.left||this.emitPositionChange(),this.right==t.right&&this.bottom==t.bottom||this.emitSizeChange())},notifyPositionChange:function(){this.emit("changeposition",this)},emitPositionChange:function(){this.notifyPositionChange()},notifySizeChange:function(){this.emit("changesize",this)},emitSizeChange:function(){this.notifySizeChange()},add:function(t){var e,n=this._before();for(e in t)i(t,e)&&(this[e]+=t[e]);return this[0]=this.left,this[1]=this.top,this._after(n),this},substract:function(t){var e,n=this._before();for(e in t)i(t,e)&&(this[e]-=t[e]);return this[0]=this.left,this[1]=this.top,this._after(n),this},getSize:function(){return{width:this.width,height:this.height}},setPosition:function(t){var e=this.width,n=this.height;return void 0!=t.left&&(t.right=t.left+e),void 0!=t.top&&(t.bottom=t.top+n),this.set(t)},setSize:function(t){return void 0!=t.height&&void 0!=t.width?this.set({right:this.left+t.width,bottom:this.top+t.height}):(void 0!=t.width&&this.setWidth(t.width),void 0!=t.height&&this.setHeight(t.height),this)},setWidth:function(t){return this.set({right:this.left+t})},setHeight:function(t){return this.set({bottom:this.top+t})},set:function(t){var e=this._before();return r(t,this,["left","top","bottom","right"]),null==t.bottom&&null!=t.height&&(this.bottom=this.top+t.height),null==t.right&&null!=t.width&&(this.right=this.left+t.width),this[0]=this.left,this[1]=this.top,this._after(e),this},get:function(t){return t?this[t]:r(this,{},["left","right","top","bottom"])},shift:function(t){var e=this._before();return t.top&&(this.top+=t.top,this.bottom+=t.top),t.left&&(this.left+=t.left,this.right+=t.left),this[0]=this.left,this[1]=this.top,this._after(e),this},unshift:function(t){return t.top&&(t.top*=-1),t.left&&(t.left*=-1),this.shift(t)},equals:function(t){return this.equalsPosition(t)&&this.equalsSize(t)},equalsSize:function(t){var e=t instanceof f,n={width:null==t.width&&e?t.getWidth():t.width,height:null==t.height&&e?t.getHeight():t.height};return this.getWidth()==n.width&&this.getHeight()==n.height},equalsPosition:function(t){return this.top==t.top&&this.left==t.left},addLeft:function(t){var e=this._before();return this.left=this[0]=this.left+t,this._after(e),this},addTop:function(t){var e=this._before();return this.top=this[1]=this.top+t,this._after(e),this},addBottom:function(t){var e=this._before();return this.bottom+=t,this._after(e),this},addRight:function(t){var e=this._before();return this.right+=t,this._after(e),this},minTop:function(){return this.expand({top:1})},maxBottom:function(){return this.expand({bottom:1})},minLeft:function(){return this.expand({left:1})},maxRight:function(){return this.expand({right:1})},expand:function(t,e){var n,o=e||f.getDocRegion(),a=[],s=this._before();for(n in t)i(t,n)&&a.push(n);return r(o,this,a),this[0]=this.left,this[1]=this.top,this._after(s),this},clone:function(){return new f({top:this.top,left:this.left,right:this.right,bottom:this.bottom})},containsPoint:function(t,e){return 1==arguments.length&&(e=t.y,t=t.x),this.left<=t&&t<=this.right&&this.top<=e&&e<=this.bottom},containsRegion:function(t){return this.containsPoint(t.left,t.top)&&this.containsPoint(t.right,t.bottom)},diffHeight:function(t){return this.diff(t,{top:!0,bottom:!0})},diffWidth:function(t){return this.diff(t,{left:!0,right:!0})},diff:function(t,e){var n,r={};for(n in e)i(e,n)&&(r[n]=this[n]-t[n]);return r},getPosition:function(){return{left:this.left,top:this.top}},getPoint:function(t,e){d[t]||console.warn("The position ",t," could not be found! Available options are tl, bl, tr, br, l, r, t, b.");var n="getPoint"+d[t],r=this[n]();return e?{left:r.x,top:r.y}:r},getPointYCenter:function(){return{x:null,y:this.top+this.getHeight()/2}},getPointXCenter:function(){return{x:this.left+this.getWidth()/2,y:null}},getPointTop:function(){return{x:null,y:this.top}},getPointTopCenter:function(){return{x:this.left+this.getWidth()/2,y:this.top}},getPointTopLeft:function(){return{x:this.left,y:this.top}},getPointTopRight:function(){return{x:this.right,y:this.top}},getPointBottom:function(){return{x:null,y:this.bottom}},getPointBottomCenter:function(){return{x:this.left+this.getWidth()/2,y:this.bottom}},getPointBottomLeft:function(){return{x:this.left,y:this.bottom}},getPointBottomRight:function(){return{x:this.right,y:this.bottom}},getPointLeft:function(){return{x:this.left,y:null}},getPointLeftCenter:function(){return{x:this.left,y:this.top+this.getHeight()/2}},getPointRight:function(){return{x:this.right,y:null}},getPointRightCenter:function(){return{x:this.right,y:this.top+this.getHeight()/2}},getPointCenter:function(){return{x:this.left+this.getWidth()/2,y:this.top+this.getHeight()/2}},getHeight:function(){return this.bottom-this.top},getWidth:function(){return this.right-this.left},getTop:function(){return this.top},getLeft:function(){return this.left},getBottom:function(){return this.bottom},getRight:function(){return this.right},getArea:function(){return this.getWidth()*this.getHeight()},constrainTo:function(t){var e,n=this.getIntersection(t);if(!n||!n.equals(this)){var r=t.getWidth(),i=t.getHeight();return this.getWidth()>r&&(this.left=t.left,this.setWidth(r)),this.getHeight()>i&&(this.top=t.top,this.setHeight(i)),e={},this.right>t.right&&(e.left=t.right-this.right),this.bottom>t.bottom&&(e.top=t.bottom-this.bottom),this.left<t.left&&(e.left=t.left-this.left),this.top<t.top&&(e.top=t.top-this.top),this.shift(e),!0}return!1},__IS_REGION:!0}),Object.defineProperties(f.prototype,{width:{get:function(){return this.getWidth()},set:function(t){return this.setWidth(t)}},height:{get:function(){return this.getHeight()},set:function(t){return this.setHeight(t)}}}),t("./statics")(f),e.exports=f},{"./inherits":55,"./statics":56,"./validate":57,events:6,hasown:50,newify:52,"object-assign":53}],55:[function(t,e,n){"use strict";e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}},{}],56:[function(t,e,n){"use strict";var r=t("hasown"),i=t("./validate");e.exports=function(t){var e=Math.max,n=Math.min,o={init:function(){var e,n,i={getIntersection:!0,getIntersectionArea:!0,getIntersectionHeight:!0,getIntersectionWidth:!0,getUnion:!0},o=t.prototype,a=r(i);for(n in i)a(n)&&(e=i[n],"string"!=typeof e&&(e=n),function(e,n,r){e[n]=function(e){return t[r]||console.warn("cannot find method ",r," on ",t),t[r](this,e)}}(o,e,n))},validate:i,getDocRegion:function(){return t.fromDOM(document.documentElement)},from:function(e){if(e.__IS_REGION)return e;if("undefined"!=typeof document){if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return t.fromDOM(e);if(e.type&&"undefined"!=typeof e.pageX&&"undefined"!=typeof e.pageY)return t.fromEvent(e)}return t(e)},fromEvent:function(e){return t.fromPoint({x:e.pageX,y:e.pageY})},fromDOM:function(e){var n=e.getBoundingClientRect();return new t({top:n.top,left:n.left,bottom:n.bottom,right:n.right})},getIntersection:function(e,n){var r=this.getIntersectionArea(e,n);return r?new t(r):!1},getIntersectionWidth:function(t,r){var i=n(t.right,r.right),o=e(t.left,r.left);return i>o?i-o:0},getIntersectionHeight:function(t,r){var i=e(t.top,r.top),o=n(t.bottom,r.bottom);return o>i?o-i:0},getIntersectionArea:function(t,r){var i=e(t.top,r.top),o=n(t.right,r.right),a=n(t.bottom,r.bottom),s=e(t.left,r.left);return a>i&&o>s?{top:i,right:o,bottom:a,left:s,width:o-s,height:a-i}:!1},getUnion:function(r,i){var o=n(r.top,i.top),a=e(r.right,i.right),s=e(r.bottom,i.bottom),l=n(r.left,i.left);return new t(o,a,s,l)},getRegion:function(e){return t.from(e)},fromPoint:function(e){return new t({top:e.y,bottom:e.y,left:e.x,right:e.x})}};Object.keys(o).forEach(function(e){t[e]=o[e]}),t.init()}},{"./validate":57,hasown:50}],57:[function(t,e,n){"use strict";e.exports=function(t){var e=!0;return t.right<t.left&&(e=!1,t.right=t.left),t.bottom<t.top&&(e=!1,t.bottom=t.top),e}},{}],58:[function(t,e,n){"use strict";e.exports={prefixProperties:t("./src/prefixProperties"),cssUnitless:t("./src/cssUnitless"),object:t("./src/toStyleObject"),string:t("./src/toStyleString")}},{"./src/cssUnitless":60,"./src/prefixProperties":65,"./src/toStyleObject":73,"./src/toStyleString":74}],59:[function(t,e,n){e.exports=t("./prefixer")()},{"./prefixer":66}],60:[function(t,e,n){"use exports";e.exports={animation:1,"column-count":1,columns:1,"font-weight":1,opacity:1,"order  ":1,"z-index":1,zoom:1,flex:1,"box-flex":1,transform:1,perspective:1,"box-pack":1,"box-align":1,colspan:1,rowspan:1}},{}],61:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(t,e){return r.call(t,e)}},{}],62:[function(t,e,n){"use strict";var r=Object.prototype.toString;e.exports=function(t){return"[object Function]"===r.apply(t)}},{}],63:[function(t,e,n){"use strict";var r=Object.prototype.toString;e.exports=function(t){return!!t&&"[object Object]"===r.call(t)}},{}],64:[function(t,e,n){"use strict";var r=t("./stringUtils/toUpperFirst"),i=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,o="undefined"==typeof document?{}:document.documentElement.style,a=function(){var t=function(){for(var t in o)if(i.test(t))return t.match(i)[0];return"WebkitOpacity"in o?"Webkit":"KhtmlOpacity"in o?"Khtml":""}(),e=t.toLowerCase();return{style:t,css:"-"+e+"-",dom:{Webkit:"WebKit",ms:"MS",o:"WebKit"}[t]||r(t)}}();e.exports=a},{"./stringUtils/toUpperFirst":72}],65:[function(t,e,n){e.exports={"border-radius":1,"border-top-left-radius":1,"border-top-right-radius":1,"border-bottom-left-radius":1,"border-bottom-right-radius":1,"box-shadow":1,order:1,flex:function(t,e){return[e+"box-flex"]},"box-flex":1,"box-align":1,animation:1,"animation-duration":1,"animation-name":1,transition:1,"transition-duration":1,transform:1,"transform-style":1,"transform-origin":1,"backface-visibility":1,perspective:1,"box-pack":1}},{}],66:[function(t,e,n){"use strict";var r=t("./stringUtils/camelize"),i=t("./stringUtils/hyphenate"),o=t("./stringUtils/toLowerFirst"),a=t("./stringUtils/toUpperFirst"),s=t("./prefixInfo"),l=t("./prefixProperties"),u="undefined"==typeof document?{}:document.documentElement.style;e.exports=function(t){return function(e,n){n=n||{};var c=o(r(e)),h=i(e),d=t?c:h,f=s.style?t?s.style:s.css:"";if(c in u)return n.asString?d:[d];var p=d,g=l[h],v=[];if(t&&(p=a(d)),"function"==typeof g){var y=g(d,f)||[];y&&!Array.isArray(y)&&(y=[y]),y.length&&(y=y.map(function(e){return t?o(r(e)):i(e)})),v=v.concat(y)}return f&&v.push(f+p),v.push(d),n.asString||1==v.length?v[0]:v}}},{"./prefixInfo":64,"./prefixProperties":65,"./stringUtils/camelize":67,"./stringUtils/hyphenate":69,"./stringUtils/toLowerFirst":71,"./stringUtils/toUpperFirst":72}],67:[function(t,e,n){"use strict";var r=function(t,e){return e?e.toUpperCase():""},i=t("./hyphenRe");e.exports=function(t){return t?t.replace(i,r):""}},{"./hyphenRe":68}],68:[function(t,e,n){e.exports=/[-\s]+(.)?/g},{}],69:[function(t,e,n){"use strict";var r=t("./separate");e.exports=function(t){return r(t).toLowerCase()}},{"./separate":70}],70:[function(t,e,n){"use strict";var r=/::/g,i=/([A-Z]+)([A-Z][a-z])/g,o=/([a-z\d])([A-Z])/g,a=/_/g;e.exports=function(t,e){return t?t.replace(r,"/").replace(i,"$1_$2").replace(o,"$1_$2").replace(a,e||"-"):""}},{}],71:[function(t,e,n){"use strict";e.exports=function(t){return t.length?t.charAt(0).toLowerCase()+t.substring(1):t}},{}],72:[function(t,e,n){"use strict";e.exports=function(t){return t.length?t.charAt(0).toUpperCase()+t.substring(1):t}},{}],73:[function(t,e,n){"use strict";var r=(t("./prefixInfo"),t("./cssPrefix")),i=t("./stringUtils/hyphenate"),o=t("./stringUtils/camelize"),a=t("./hasOwn"),s=t("./isObject"),l=t("./isFunction"),u=function(t,e,n,i){r(e).forEach(function(e){t[i?i(e):e]=n})},c=function(t){t=(t||"").split(";");var e={};return t.forEach(function(t){var n=t.split(":");2==n.length&&(e[n[0].trim()]=n[1].trim())}),e},h={cssUnitless:t("./cssUnitless")},d=function(t,e,n,r){"string"==typeof t&&(t=c(t)),e=e||h,e.cssUnitless=e.cssUnitless||h.cssUnitless,r=r||{};var f,p,g,v,y,m,b,x,w=e.scope||{},E=null!=e.addUnits?e.addUnits:w&&null!=w.addUnits?w.addUnits:!0,_=(null!=e.cssUnitless?e.cssUnitless:w?w.cssUnitless:null)||{},S=(e.cssUnit||w?w.cssUnit:null)||"px",T=e.prefixProperties||(w?w.prefixProperties:null)||{},C=e.camelize,k=C?o:i;for(g in t)if(a(t,g)){if(v=t[g],p=i(n?n+g:g),f=!1,x=!1,l(v)&&(b=v.call(w||t,v,g,p,t),s(b)&&null!=b.value?(v=b.value,x=b.prefix,p=b.name?i(b.name):p):v=b),y=typeof v,m="number"==y||"string"==y&&""!=v&&1*v==v,null==v||null==p||""===p)continue;if((m||"string"==y)&&(f=!0),!f&&null!=v.value&&v.prefix&&(f=!0,x=v.prefix,v=v.value),f){if(x=x||!!T[p],m&&(v=!E||p in _?v+"":v+S),"border"!=p&&(p.indexOf("border")||~p.indexOf("radius")||~p.indexOf("width"))||!m||(p+="-width"),!p.indexOf("border-radius-")&&(p.replace(/border(-radius)(-(.*))/,function(t,e,n){var r={"-top":["-top-left","-top-right"],"-left":["-top-left","-bottom-left"],"-right":["-top-right","-bottom-right"],"-bottom":["-bottom-left","-bottom-right"]};n in r?(p=[],r[n].forEach(function(t){p.push("border"+t+e)})):p="border"+n+e}),Array.isArray(p))){p.forEach(function(t){x?u(r,t,v,k):r[k(t)]=v});continue}x?u(r,p,v,k):r[k(p)]=v}else d(v,e,p+"-",r)}return r};e.exports=d},{"./cssPrefix":59,"./cssUnitless":60,"./hasOwn":61,"./isFunction":62,"./isObject":63,"./prefixInfo":64,"./stringUtils/camelize":67,"./stringUtils/hyphenate":69}],74:[function(t,e,n){"use strict";var r=t("./toStyleObject"),i=t("./hasOwn");e.exports=function(t,e){t=r(t,e);var n,o=[];for(n in t)i(t,n)&&o.push(n+": "+t[n]);return o.join("; ")}},{"./hasOwn":61,"./toStyleObject":73}],75:[function(t,e,n){"use strict";var r=t("object-assign"),i=t("clone"),o={attrName:"data-tooltip",throttle:10,showDelay:500,offset:{x:5,y:5},hideOnChange:!0,hideOnChangeDelay:500,className:"tooltip",style:{padding:5,border:"1px solid gray",background:"white",boxSizing:"border-box",pointerEvents:"none",position:"absolute",visibility:"hidden",display:"inline-block",transform:"translate3d(0px, 0px, 0px)",transition:"opacity 0.3s"},visibleStyle:{opacity:1,visibility:"visible"},hiddenStyle:{opacity:0},alignPositions:null},a=t("./preparePositions"),s=0;e.exports=function(t){t=t||{};var e=r({},o.style,t.style),n=r({},o.visibleStyle,t.visibleStyle),l=r({},o.hiddenStyle,t.hiddenStyle),u=i(r({},o,t));return u.style=e,u.visibleStyle=n,u.hiddenStyle=l,u.selector="["+u.attrName+"]",u.alignPositions=a(u.alignPositions),u.target=u.target||document.documentElement,u.id=s++,u}},{"./preparePositions":82,clone:27,"object-assign":31}],76:[function(t,e,n){"use strict";var r=t("matches-selector");e.exports=function(t,e){return function(n){for(var i=n.target;i;){if(r(i,e))return i;if(i==t)return;i=i.parentNode}}}},{"matches-selector":30}],77:[function(t,e,n){"use strict";var r=t("./throttle"),i=t("./target"),o=t("./config"),a=t("./mouseenter"),s=t("./mouseleave"),l=t("contains"),u=function(t){var e=o(t),n=i(e),u=e.target,c=e.throttle,h=r(function(t){n&&n.set(t)},c),d=r(function(t){n&&n.hold(),setTimeout(function(){n&&n.onHold()&&n.set(null)},c)},c),f=a(u,e.selector,h),p=s(u,e.selector,d),g=r(function(){var t=n.getCurrentTarget();t&&!l(document.documentElement,t)&&n.set(null)},200);return u.addEventListener("mousemove",g),{destroy:function(){n.destroy(),f(),p(),u.removeEventListener("mousemove",g),u=null,n=null,e=null}}};e.exports=u},{"./config":75,"./mouseenter":79,"./mouseleave":80,"./target":84,"./throttle":85,contains:28}],78:[function(t,e,n){"use strict";e.exports=function(t,e){var n={};return Object.keys(t).forEach(function(r){n[r]=e(t[r])}),n}},{}],79:[function(t,e,n){"use strict";var r=t("../eventMatches");e.exports=function(t,e,n,i){var o=r(t,e),a=function(t){var e;t.target,t.relatedTarget;(e=o(t))&&n(e,t)};return t.addEventListener("mouseover",a),function(){t.removeEventListener("mouseover",a)}}},{"../eventMatches":76}],80:[function(t,e,n){"use strict";function r(){return!0}function i(t,e){for(var n=e;n&&n!==t;)n=n.parentNode;return n!==t}var o=t("../eventMatches");e.exports=function(t,e,n,a){var s=a&&a.allowNested?r:i,l=o(t,e),u=function(t){var e,r=t.target,i=t.relatedTarget;(!i||i!==r&&s(r,i))&&(e=l(t))&&n(e,t)};return t.addEventListener("mouseout",u),function(){t.removeEventListener("mouseout",u)}}},{"../eventMatches":76}],81:[function(t,e,n){"use strict";e.exports=function(t){var e={};return t.split(";").forEach(function(t){var n=t.split(":");n.length&&(e[n[0].trim()]=n[1].trim())}),e}},{}],82:[function(t,e,n){"use strict";var r={top:"bc-tc",bottom:"tc-bc",left:"rc-lc",right:"lc-rc",topleft:"br-tl",topright:"bl-tr",bottomleft:"tr-bl",bottomright:"tl-br"};e.exports=function(t){return t=t||["topleft","topright","bottomleft","bottomright","top","bottom"],t.map(function(t){return t=t.trim(),r[t]||t}).filter(function(t){return!!t})}},{}],83:[function(t,e,n){"use strict";function r(t){return o(a(t))}function i(t,e){return e=r(e),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),t}var o=t("to-style").object,a=t("react-style-normalizer"),s=t("object-assign");e.exports=function(t,e){var n=[].slice.call(arguments,1),o=[{}].concat(n).map(r),e=s.apply(null,o);return i(t,e),t}},{"object-assign":31,"react-style-normalizer":39,"to-style":58}],84:[function(t,e,n){"use strict";function r(t){return d(t,function(){return""})}var i=t("region-align"),o=t("object-assign"),a=t("escape-html"),s=t("./setStyle"),l=t("./toOffset"),u=t("./parseAsStyle"),c=t("./tooltipElement"),h=t("./preparePositions"),d=t("./mapObject");e.exports=function(t){function e(e){var n=e.getAttribute(t.attrName),f=c(t);f.innerHTML=t.escape?a(n):n;var p=t.alignPositions,g=i.from(f),v=i.from(e),y=e.getAttribute(t.attrName+"-positions"),m=e.getAttribute(t.attrName+"-style"),b=o({},d,t.style);m&&(m=u(m),d=r(m),o(b,m)),y&&(p=h(y.split(";")));var x=(g.alignTo(v,p,{offset:l(t.offset,p),constrain:!0}),document.body.scrollTop||0),w=document.body.scrollLeft||0;s(f,b,t.visibleStyle,{top:g.top+x,left:g.left+w})}function n(){s(c(t),t.hiddenStyle)}var d,f,p=function(){var r;return function(i){i!=f&&(r&&(clearTimeout(r),r=null),i?t.showDelay?r=setTimeout(function(){r=null,e(i)},t.showDelay):e(i):n()),f=i}}(),g=function(){var e,n;return function(r){r!=e&&(e=r,t.hideOnChange&&((n||r)&&(n&&clearTimeout(n),n=setTimeout(function(){n=null,p(e)},t.hideOnChangeDelay)),r=null),p(r))}}(),v=!1;return{destroy:function(){c.destroy(t)},hold:function(){v=!0},onHold:function(){return v},set:function(t){v=!1,g(t)},getCurrentTarget:function(){return f}}}},{"./mapObject":78,"./parseAsStyle":81,"./preparePositions":82,"./setStyle":83,"./toOffset":86,"./tooltipElement":87,"escape-html":29,"object-assign":31,"region-align":48}],85:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i,o=-1;return void 0===e&&(e=0),0>e?t:function(){r=n||this,i=arguments,-1!==o||(o=setTimeout(function(){t.apply(r,i),r=null,o=-1},e))}}},{}],86:[function(t,e,n){"use strict";var r={t:{x:1,y:1},l:{x:1,y:1},b:{x:1,y:-1},r:{x:-1,y:1}};e.exports=function(t,e){if(t){var n;Array.isArray(t)&&(n=t),n=void 0!=t.x?[t.x,t.y]:[t.left,t.top];var i=n[0],o=n[1];return e.map(function(t){var e=t.split("-"),n=e[0],a=n[0],s=n[1],l=r[a],u=r[s],c=1,h=1;return l&&(c*=l.x,h*=l.y),u&&(c*=u.x,h*=u.y),[i*c,o*h]})}}},{}],87:[function(t,e,n){"use strict";var r=t("./setStyle"),i={},o=function(t){var e=i[t.id];return e||(e=r(document.createElement("div"),t.style||{}),e.className=t.className,t.appendTooltip?t.appendTooltip(e):document.body.appendChild(e),i[t.id]=e),e};o.destroy=function(t){var e=i[t.id];if(e){var n=e.parentNode;n&&n.removeChild(e)}},e.exports=o},{"./setStyle":83}],88:[function(t,e,n){(function(){function t(t){function e(e,n,r,i,o,a){for(;o>=0&&a>o;o+=t){var s=i?i[o]:o;r=n(r,e[s],s,e)}return r}return function(n,r,i,o){r=w(r,o,4);var a=!P(n)&&x.keys(n),s=(a||n).length,l=t>0?0:s-1;return arguments.length<3&&(i=n[a?a[l]:l],l+=t),e(n,r,i,a,l,s)}}function r(t){return function(e,n,r){n=E(n,r);for(var i=k(e),o=t>0?0:i-1;o>=0&&i>o;o+=t)if(n(e[o],o,e))return o;return-1}}function i(t,e,n){return function(r,i,o){var a=0,s=k(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(d.call(r,a,s),x.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&s>o;o+=t)if(r[o]===i)return o;return-1}}function o(t,e){var n=I.length,r=t.constructor,i=x.isFunction(r)&&r.prototype||u,o="constructor";for(x.has(t,o)&&!x.contains(e,o)&&e.push(o);n--;)o=I[n],o in t&&t[o]!==i[o]&&!x.contains(e,o)&&e.push(o)}var a=this,s=a._,l=Array.prototype,u=Object.prototype,c=Function.prototype,h=l.push,d=l.slice,f=u.toString,p=u.hasOwnProperty,g=Array.isArray,v=Object.keys,y=c.bind,m=Object.create,b=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=x),n._=x):a._=x,x.VERSION="1.8.3";var w=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},E=function(t,e,n){return null==t?x.identity:x.isFunction(t)?w(t,e,n):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,e){return E(t,e,1/0)};var _=function(t,e){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=t(o),s=a.length,l=0;s>l;l++){var u=a[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}},S=function(t){if(!x.isObject(t))return{};if(m)return m(t);b.prototype=t;var e=new b;return b.prototype=null,e},T=function(t){return function(e){return null==e?void 0:e[t]}},C=Math.pow(2,53)-1,k=T("length"),P=function(t){var e=k(t);return"number"==typeof e&&e>=0&&C>=e};x.each=x.forEach=function(t,e,n){e=w(e,n);var r,i;if(P(t))for(r=0,i=t.length;i>r;r++)e(t[r],r,t);else{var o=x.keys(t);for(r=0,i=o.length;i>r;r++)e(t[o[r]],o[r],t)}return t},x.map=x.collect=function(t,e,n){e=E(e,n);for(var r=!P(t)&&x.keys(t),i=(r||t).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o},x.reduce=x.foldl=x.inject=t(1),x.reduceRight=x.foldr=t(-1),x.find=x.detect=function(t,e,n){var r;return r=P(t)?x.findIndex(t,e,n):x.findKey(t,e,n),void 0!==r&&-1!==r?t[r]:void 0},x.filter=x.select=function(t,e,n){var r=[];return e=E(e,n),x.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},x.reject=function(t,e,n){return x.filter(t,x.negate(E(e)),n)},x.every=x.all=function(t,e,n){e=E(e,n);for(var r=!P(t)&&x.keys(t),i=(r||t).length,o=0;i>o;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},x.some=x.any=function(t,e,n){e=E(e,n);for(var r=!P(t)&&x.keys(t),i=(r||t).length,o=0;i>o;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},x.contains=x.includes=x.include=function(t,e,n,r){return P(t)||(t=x.values(t)),("number"!=typeof n||r)&&(n=0),x.indexOf(t,e,n)>=0},x.invoke=function(t,e){var n=d.call(arguments,2),r=x.isFunction(e);return x.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matcher(e))},x.findWhere=function(t,e){return x.find(t,x.matcher(e))},x.max=function(t,e,n){var r,i,o=-(1/0),a=-(1/0);if(null==e&&null!=t){t=P(t)?t:x.values(t);for(var s=0,l=t.length;l>s;s++)r=t[s],r>o&&(o=r)}else e=E(e,n),x.each(t,function(t,n,r){i=e(t,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=t,a=i)});return o},x.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e&&null!=t){t=P(t)?t:x.values(t);for(var s=0,l=t.length;l>s;s++)r=t[s],o>r&&(o=r)}else e=E(e,n),x.each(t,function(t,n,r){i=e(t,n,r),(a>i||i===1/0&&o===1/0)&&(o=t,a=i)});return o},x.shuffle=function(t){for(var e,n=P(t)?t:x.values(t),r=n.length,i=Array(r),o=0;r>o;o++)e=x.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},x.sample=function(t,e,n){return null==e||n?(P(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))},x.sortBy=function(t,e,n){return e=E(e,n),x.pluck(x.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var D=function(t){return function(e,n,r){var i={};return n=E(n,r),x.each(e,function(r,o){var a=n(r,o,e);t(i,r,a)}),i}};x.groupBy=D(function(t,e,n){x.has(t,n)?t[n].push(e):t[n]=[e]}),x.indexBy=D(function(t,e,n){t[n]=e}),x.countBy=D(function(t,e,n){x.has(t,n)?t[n]++:t[n]=1}),x.toArray=function(t){return t?x.isArray(t)?d.call(t):P(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:P(t)?t.length:x.keys(t).length},x.partition=function(t,e,n){e=E(e,n);var r=[],i=[];return x.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},x.first=x.head=x.take=function(t,e,n){return null!=t?null==e||n?t[0]:x.initial(t,t.length-e):void 0},x.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},x.last=function(t,e,n){return null!=t?null==e||n?t[t.length-1]:x.rest(t,Math.max(0,t.length-e)):void 0},x.rest=x.tail=x.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var M=function(t,e,n,r){for(var i=[],o=0,a=r||0,s=k(t);s>a;a++){var l=t[a];if(P(l)&&(x.isArray(l)||x.isArguments(l))){e||(l=M(l,e,n));var u=0,c=l.length;for(i.length+=c;c>u;)i[o++]=l[u++]}else n||(i[o++]=l)}return i};x.flatten=function(t,e){return M(t,e,!1)},x.without=function(t){return x.difference(t,d.call(arguments,1))},x.uniq=x.unique=function(t,e,n,r){x.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=E(n,r));for(var i=[],o=[],a=0,s=k(t);s>a;a++){var l=t[a],u=n?n(l,a,t):l;e?(a&&o===u||i.push(l),o=u):n?x.contains(o,u)||(o.push(u),i.push(l)):x.contains(i,l)||i.push(l)}return i},x.union=function(){return x.uniq(M(arguments,!0,!0))},x.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=k(t);i>r;r++){var o=t[r];if(!x.contains(e,o)){for(var a=1;n>a&&x.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},x.difference=function(t){var e=M(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var e=t&&x.max(t,k).length||0,n=Array(e),r=0;e>r;r++)n[r]=x.pluck(t,r);return n},x.object=function(t,e){for(var n={},r=0,i=k(t);i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},x.findIndex=r(1),x.findLastIndex=r(-1),x.sortedIndex=function(t,e,n,r){n=E(n,r,1);for(var i=n(e),o=0,a=k(t);a>o;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o},x.indexOf=i(1,x.findIndex,x.sortedIndex),x.lastIndexOf=i(-1,x.findLastIndex),x.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;r>o;o++,t+=n)i[o]=t;return i};var N=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=S(t.prototype),a=t.apply(o,i);return x.isObject(a)?a:o};x.bind=function(t,e){if(y&&t.bind===y)return y.apply(t,d.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return N(t,r,e,this,n.concat(d.call(arguments)))};return r},x.partial=function(t){var e=d.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),a=0;i>a;a++)o[a]=e[a]===x?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return N(t,n,this,this,o)};return n},x.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=x.bind(t[n],t);return t},x.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return x.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},x.delay=function(t,e){var n=d.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,e,n){var r,i,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:x.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var u=x.now();s||n.leading!==!1||(s=u);var c=e-(u-s);return r=this,i=arguments,0>=c||c>e?(a&&(clearTimeout(a),a=null),s=u,o=t.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(l,c)),o}},x.debounce=function(t,e,n){var r,i,o,a,s,l=function(){var u=x.now()-a;e>u&&u>=0?r=setTimeout(l,e-u):(r=null,n||(s=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=x.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(s=t.apply(o,i),o=i=null),s}},x.wrap=function(t,e){return x.partial(e,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},x.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0;
}},x.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},x.once=x.partial(x.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(v)return v(t);var e=[];for(var n in t)x.has(t,n)&&e.push(n);return A&&o(t,e),e},x.allKeys=function(t){if(!x.isObject(t))return[];var e=[];for(var n in t)e.push(n);return A&&o(t,e),e},x.values=function(t){for(var e=x.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},x.mapObject=function(t,e,n){e=E(e,n);for(var r,i=x.keys(t),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=e(t[r],r,t);return a},x.pairs=function(t){for(var e=x.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},x.invert=function(t){for(var e={},n=x.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=_(x.allKeys),x.extendOwn=x.assign=_(x.keys),x.findKey=function(t,e,n){e=E(e,n);for(var r,i=x.keys(t),o=0,a=i.length;a>o;o++)if(r=i[o],e(t[r],r,t))return r},x.pick=function(t,e,n){var r,i,o={},a=t;if(null==a)return o;x.isFunction(e)?(i=x.allKeys(a),r=w(e,n)):(i=M(arguments,!1,!1,1),r=function(t,e,n){return e in n},a=Object(a));for(var s=0,l=i.length;l>s;s++){var u=i[s],c=a[u];r(c,u,a)&&(o[u]=c)}return o},x.omit=function(t,e,n){if(x.isFunction(e))e=x.negate(e);else{var r=x.map(M(arguments,!1,!1,1),String);e=function(t,e){return!x.contains(r,e)}}return x.pick(t,e,n)},x.defaults=_(x.allKeys,!0),x.create=function(t,e){var n=S(t);return e&&x.extendOwn(n,e),n},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isMatch=function(t,e){var n=x.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;r>o;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var O=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),o){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!O(t[l],e[l],n,r))return!1}else{var u,c=x.keys(t);if(l=c.length,x.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!x.has(e,u)||!O(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(t,e){return O(t,e)},x.isEmpty=function(t){return null==t?!0:P(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=g||function(t){return"[object Array]"===f.call(t)},x.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===f.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return null!=t&&p.call(t,e)},x.noConflict=function(){return a._=s,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=T,x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(e){return x.isMatch(e,t)}},x.times=function(t,e,n){var r=Array(Math.max(0,t));e=w(e,n,1);for(var i=0;t>i;i++)r[i]=e(i);return r},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=x.invert(B),R=function(t){var e=function(e){return t[e]},n="(?:"+x.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};x.escape=R(B),x.unescape=R(L),x.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),x.isFunction(r)?r.call(t):r};var j=0;x.uniqueId=function(t){var e=++j+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var $=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,q=function(t){return"\\"+z[t]};x.template=function(t,e,n){!e&&n&&(e=n),e=x.defaults({},e,x.templateSettings);var r=RegExp([(e.escape||$).source,(e.interpolate||$).source,(e.evaluate||$).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(F,q),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(t){return a.call(this,t,x)},u=e.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},x.chain=function(t){var e=x(t);return e._chain=!0,e};var H=function(t,e){return t._chain?x(e).chain():e};x.mixin=function(t){x.each(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return h.apply(t,arguments),H(this,n.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=l[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],H(this,n)}}),x.each(["concat","join","slice"],function(t){var e=l[t];x.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this)},{}],89:[function(t,e,n){var r=t("./radiate/getradiate"),i=t("./naview/getnaview"),o=function(t,e,n){this.layout=t,this.nodes=e,this.links=n};o.prototype.getCoords=function(){var t=null;if("radiate"===this.layout)t=r(this.nodes,this.links);else{if("naview"!==this.layout)throw new Error("Invalid layout");t=i(this.nodes,this.links)}return t},e.exports=o},{"./naview/getnaview":92,"./radiate/getradiate":97}],90:[function(t,e,n){var r=t("./region"),i=e.exports=function(){this.mate=null,this.x=null,this.y=null,this.extracted=null,this.region=new r};i.prototype.getMate=function(){return this.mate},i.prototype.setMate=function(t){this.mate=t},i.prototype.getX=function(){return this.x},i.prototype.setX=function(t){this.x=t},i.prototype.getY=function(){return this.y},i.prototype.setY=function(t){this.y=t},i.prototype.isExtracted=function(){return this.extracted},i.prototype.setExtracted=function(t){this.extracted=t},i.prototype.getRegion=function(){return this.region},i.prototype.setRegion=function(t){this.region=t}},{"./region":96}],91:[function(t,e,n){var r=t("./loop"),i=t("./region"),o=e.exports=function(){this.loop=new r,this.region=new i,this.start=null,this.end=null,this.xrad=null,this.yrad=null,this.angle=null,this.extruded=null,this.broken=null,this._isNull=!1};o.prototype.isNull=function(){return this._isNull},o.prototype.setNull=function(t){this._isNull=t},o.prototype.getLoop=function(){return this.loop},o.prototype.setLoop=function(t){this.loop=t},o.prototype.getRegion=function(){return this.region},o.prototype.setRegion=function(t){this.region=t},o.prototype.getStart=function(){return this.start},o.prototype.setStart=function(t){this.start=t},o.prototype.getEnd=function(){return this.end},o.prototype.setEnd=function(t){this.end=t},o.prototype.getXrad=function(){return this.xrad},o.prototype.setXrad=function(t){this.xrad=t},o.prototype.getYrad=function(){return this.yrad},o.prototype.setYrad=function(t){this.yrad=t},o.prototype.getAngle=function(){return this.angle},o.prototype.setAngle=function(t){this.angle=t},o.prototype.isExtruded=function(){return this.extruded},o.prototype.setExtruded=function(t){this.extruded=t},o.prototype.isBroken=function(){return this.broken},o.prototype.setBroken=function(t){this.broken=t}},{"./loop":93,"./region":96}],92:[function(t,e,n){function r(t,e){for(var n=-1,r=0;r<e.length;r++)if("phosphodiester"===e[r].type||"index"===e[r].type);else{if(e[r].source===t){n=e[r].target;break}if(e[r].target===t){n=e[r].source;break}}return n}var i=t("./naview");getCoordsNAVIEW=e.exports=function(t,e){for(var n=[],o=0;o<t.length;o++)n.push(r(o,e));for(var a=new i,s=a.naview_xy_coordinates(n),l=[],o=0;o<t.length;o++)l.push({x:Math.round(2.5*s.x[o]),y:Math.round(2.5*s.y[o])});return l}},{"./naview":94}],93:[function(t,e,n){var r=e.exports=function(){this.nconnection=null,this.connections=[],this._connections=[],this.number=null,this.depth=null,this.mark=null,this.x=null,this.y=null,this.radius=null};r.prototype.getNconnection=function(){return this.nconnection},r.prototype.setNconnection=function(t){this.nconnection=t},r.prototype.setConnection=function(e,n){var r=t("./connection");null!=n?this._connections[e]=n:(this._connections[e]||(this._connections[e]=new r),this._connections[e].setNull(!0))},r.prototype.getConnection=function(e){var n=t("./connection");this._connections[e]||(this._connections[e]=new n);var r=this._connections[e];return r.isNull()?null:r},r.prototype.addConnection=function(t,e){this._connections.push(e)},r.prototype.getNumber=function(){return this.number},r.prototype.setNumber=function(t){this.number=t},r.prototype.getDepth=function(){return this.depth},r.prototype.setDepth=function(t){this.depth=t},r.prototype.isMark=function(){return this.mark},r.prototype.setMark=function(t){this.mark=t},r.prototype.getX=function(){return this.x},r.prototype.setX=function(t){this.x=t},r.prototype.getY=function(){return this.y},r.prototype.setY=function(t){this.y=t},r.prototype.getRadius=function(){return this.radius},r.prototype.setRadius=function(t){this.radius=t}},{"./connection":91}],94:[function(t,e,n){function r(){var t=new o,e=null,n=null;for(e=0;e<this.loop_count;e++){for(t=this.loops[e],n=0;n<this.loop_count;n++)this.loops[n].setMark(!1);t.setDepth(i(t))}}function i(t){var e=null,n=null,r=null;if(t.getNconnection()<=1)return 0;if(t.isMark())return-1;t.setMark(!0),e=0,n=0;for(var o=0;null!=t.getConnection(o);o++)r=i(t.getConnection(o).getLoop()),r>=0&&(1==++e?n=r:n>r&&(n=r));return t.setMark(!1),n+1}var o=t("./loop"),a=t("./base"),s=t("./region"),l=t("./connection"),u=t("./radloop"),c=e.exports=function(){this.ANUM=9999,this.MAXITER=500,this.bases=[],this.nbase=null,this.nregion=null,this.loop_count=null,this.root=new o,this.loops=[],this.regions=[],this.rlphead=new u,this.lencut=.8,this.RADIUS_REDUCTION_FACTOR=1.4,this.angleinc=null,this._h=null,this.HELIX_FACTOR=.6,this.BACKBONE_DISTANCE=27};c.prototype.naview_xy_coordinates=function(t){var e=[],n=[];if(0===t.length)return 0;var r,i=[];i.push(t.length);for(var l=0;l<t.length;l++)i.push(t[l]+1);this.nbase=i[0],this.bases=[];for(var u=0;u<this.nbase+1;u++)this.bases.push(new a);this.regions=[];for(var u=0;u<this.nbase+1;u++)this.regions.push(new s);this.read_in_bases(i),this.rlphead=null,this.find_regions(),this.loop_count=0,this.loops=[];for(var u=0;u<this.nbase+1;u++)this.loops.push(new o);for(this.construct_loop(0),this.find_central_loop(),this.traverse_loop(this.root,null),r=0;r<this.nbase;r++)e.push(100+this.BACKBONE_DISTANCE*this.bases[r+1].getX()),n.push(100+this.BACKBONE_DISTANCE*this.bases[r+1].getY());return{nbase:this.nbase,x:e,y:n}},c.prototype.read_in_bases=function(t){var e=null,n=null;for(this.bases.push(new a),this.bases[0].setMate(0),this.bases[0].setExtracted(!1),this.bases[0].setX(this.ANUM),this.bases[0].setY(this.ANUM),n=0,e=1;e<=this.nbase;e++)this.bases.push(new a),this.bases[e].setExtracted(!1),this.bases[e].setX(this.ANUM),this.bases[e].setY(this.ANUM),this.bases[e].setMate(t[e]),t[e]>e&&n++;0==n&&(this.bases[1].setMate(this.nbase),this.bases[this.nbase].setMate(1))},c.prototype.find_regions=function(){var t=null,e=null,n=null;n=this.nbase+1;var r=[];for(t=0;n>t;t++)r.push(!1);for(this.nregion=0,t=0;t<=this.nbase;t++)if(0!=(e=this.bases[t].getMate())&&!r[t]){for(this.regions[this.nregion].setStart1(t),this.regions[this.nregion].setEnd2(e),r[t]=!0,r[e]=!0,this.bases[t].setRegion(this.regions[this.nregion]),this.bases[e].setRegion(this.regions[this.nregion]),t++,e--;e>t&&this.bases[t].getMate()==e;t++,e--)r[e]=!0,r[t]=!0,this.bases[t].setRegion(this.regions[this.nregion]),this.bases[e].setRegion(this.regions[this.nregion]);this.regions[this.nregion].setEnd1(--t),this.regions[this.nregion].setStart2(e+1),this.nregion++}},c.prototype.construct_loop=function(t){var e=null,n=null,r=new o,i=new o,a=new l,c=new s,h=new u;for(r=this.loops[this.loop_count++],r.setNconnection(0),r.setDepth(0),r.setNumber(this.loop_count),r.setRadius(0),h=this.rlphead;null!=h;h=h.getNext())h.getLoopnumber()==this.loop_count&&r.setRadius(h.getRadius());e=t;do 0!=(n=this.bases[e].getMate())&&(c=this.bases[e].getRegion(),this.bases[c.getStart1()].isExtracted()||(e==c.getStart1()?(this.bases[c.getStart1()].setExtracted(!0),this.bases[c.getEnd1()].setExtracted(!0),this.bases[c.getStart2()].setExtracted(!0),this.bases[c.getEnd2()].setExtracted(!0),i=this.construct_loop(c.getEnd1()<this.nbase?c.getEnd1()+1:0)):e==c.getStart2()?(this.bases[c.getStart2()].setExtracted(!0),this.bases[c.getEnd2()].setExtracted(!0),this.bases[c.getStart1()].setExtracted(!0),this.bases[c.getEnd1()].setExtracted(!0),i=this.construct_loop(c.getEnd2()<this.nbase?c.getEnd2()+1:0)):console.log("Something went terribly wrong ...."),r.setNconnection(r.getNconnection()+1),a=new l,r.setConnection(r.getNconnection()-1,a),r.setConnection(r.getNconnection(),null),a.setLoop(i),a.setRegion(c),e==c.getStart1()?(a.setStart(c.getStart1()),a.setEnd(c.getEnd2())):(a.setStart(c.getStart2()),a.setEnd(c.getEnd1())),a.setExtruded(!1),a.setBroken(!1),i.setNconnection(i.getNconnection()+1),a=new l,i.setConnection(i.getNconnection()-1,a),i.setConnection(i.getNconnection(),null),a.setLoop(r),a.setRegion(c),e==c.getStart1()?(a.setStart(c.getStart2()),a.setEnd(c.getEnd1())):(a.setStart(c.getStart1()),a.setEnd(c.getEnd2())),a.setExtruded(!1),a.setBroken(!1)),e=n),++e>this.nbase&&(e=0);while(e!=t);return r},c.prototype.find_central_loop=function(){var t=new o,e=null,n=null,i=null;for(r(),e=0,n=-1,i=0;i<this.loop_count;i++)t=this.loops[i],t.getNconnection()>e?(n=t.getDepth(),e=t.getNconnection(),this.root=t):t.getDepth()>n&&t.getNconnection()==e&&(n=t.getDepth(),this.root=t)},c.prototype.traverse_loop=function(t,e){var n,r,i,o,a,s,l,u,c,h,d,f,p,g,v,y,m,b,x,w,E,_,S,T,C,k,P,D,M,N,A,I,O,B,L,R,j,$,z,F,q,H,Y,X,V,U,W,G,Z,K,J,Q,tt,et,nt,rt,it,ot,at,st,lt,ut,ct,ht,dt,ft,pt,gt,vt,yt,mt,bt=0;l=2*Math.PI/(this.nbase+1),x=null,A=-1;var xt=0;for(T=0;null!=(m=t.getConnection(xt));xt++,T++)n=-Math.sin(l*m.getStart()),r=Math.cos(l*m.getStart()),i=-Math.sin(l*m.getEnd()),o=Math.cos(l*m.getEnd()),a=o-r,s=n-i,u=Math.sqrt(a*a+s*s),m.setXrad(a/u),m.setYrad(s/u),m.setAngle(Math.atan2(s,a)),m.getAngle()<0&&m.setAngle(m.getAngle()+2*Math.PI),null!=e&&e.getRegion()==m.getRegion()&&(x=m,A=T);t:for(;;){this.determine_radius(t,this.lencut),c=t.getRadius()/this.RADIUS_REDUCTION_FACTOR,null==e?h=d=0:(f=(this.bases[x.getStart()].getX()+this.bases[x.getEnd()].getX())/2,p=(this.bases[x.getStart()].getY()+this.bases[x.getEnd()].getY())/2,h=f-c*x.getXrad(),d=p-c*x.getYrad()),D=-1==A?0:A,m=t.getConnection(D),P=0,I=!1;do if(_=D-1,0>_&&(_=t.getNconnection()-1),w=t.getConnection(_),this.connected_connection(w,m)?(D=_,m=w):I=!0,++P>t.getNconnection()){for(k=-1,T=0;T<t.getNconnection();T++)_=T+1,_>=t.getNconnection()&&(_=0),m=t.getConnection(T),b=t.getConnection(_),pt=b.getAngle()-m.getAngle(),0>pt&&(pt+=2*Math.PI),pt>k&&(k=pt,bt=T);M=bt,D=bt+1,D>=t.getNconnection()&&(D=0),m=t.getConnection(M),m.setBroken(!0),I=!0}while(!I);for(O=!1,W=D;!O;){for(P=0,I=!1,M=D,B=!1;!I;)if(m=t.getConnection(M),M==A&&(B=!0),_=M+1,_>=t.getNconnection()&&(_=0),b=t.getConnection(_),this.connected_connection(m,b)){if(++P>=t.getNconnection())break;M=_}else I=!0;for(N=this.find_ic_middle(D,M,e,x,t),T=G=Z=N,I=!1,J=0;!I;)T=0>J?G:0==J?N:Z,T>=0&&(m=t.getConnection(T),null!=e&&x==m||(0==J?(g=m.getAngle()-Math.asin(.5/c),v=m.getAngle()+Math.asin(.5/c),this.bases[m.getStart()].setX(h+c*Math.cos(g)),this.bases[m.getStart()].setY(d+c*Math.sin(g)),this.bases[m.getEnd()].setX(h+c*Math.cos(v)),this.bases[m.getEnd()].setY(d+c*Math.sin(v))):0>J?(_=T+1,_>=t.getNconnection()&&(_=0),m=t.getConnection(T),b=t.getConnection(_),rt=m.getXrad(),it=m.getYrad(),pt=(m.getAngle()+b.getAngle())/2,m.getAngle()>b.getAngle()&&(pt-=Math.PI),st=Math.cos(pt),lt=Math.sin(pt),ht=lt,dt=-st,C=b.getAngle()-m.getAngle(),0>C&&(C+=2*Math.PI),ft=m.isExtruded()?C<=Math.PI/2?2:1.5:1,this.bases[m.getEnd()].setX(this.bases[b.getStart()].getX()+ft*ht),this.bases[m.getEnd()].setY(this.bases[b.getStart()].getY()+ft*dt),this.bases[m.getStart()].setX(this.bases[m.getEnd()].getX()+it),this.bases[m.getStart()].setY(this.bases[m.getEnd()].getY()-rt)):(_=T-1,0>_&&(_=t.getNconnection()-1),m=t.getConnection(_),b=t.getConnection(T),ot=b.getXrad(),at=b.getYrad(),pt=(m.getAngle()+b.getAngle())/2,m.getAngle()>b.getAngle()&&(pt-=Math.PI),st=Math.cos(pt),lt=Math.sin(pt),ht=-lt,dt=st,C=b.getAngle()-m.getAngle(),0>C&&(C+=2*Math.PI),ft=m.isExtruded()?C<=Math.PI/2?2:1.5:1,this.bases[b.getStart()].setX(this.bases[m.getEnd()].getX()+ft*ht),this.bases[b.getStart()].setY(this.bases[m.getEnd()].getY()+ft*dt),this.bases[b.getEnd()].setX(this.bases[b.getStart()].getX()-at),this.bases[b.getEnd()].setY(this.bases[b.getStart()].getY()+ot)))),0>J?(Z==M?Z=-1:Z>=0&&++Z>=t.getNconnection()&&(Z=0),J=1):(G==D?G=-1:G>=0&&--G<0&&(G=t.getNconnection()-1),J=-1),I=-1==G&&-1==Z;if(K=M+1,K>=t.getNconnection()&&(K=0),M!=D&&(D!=W||K!=W))if(m=t.getConnection(D),b=t.getConnection(M),tt=this.bases[b.getEnd()].getX()-this.bases[m.getStart()].getX(),et=this.bases[b.getEnd()].getY()-this.bases[m.getStart()].getY(),R=this.bases[m.getStart()].getX()+tt/2,j=this.bases[m.getStart()].getY()+et/2,nt=Math.sqrt(tt*tt+et*et),F=tt/nt,q=et/nt,H=h-R,Y=d-j,nt=Math.sqrt(tt*tt+et*et),H/=nt,Y/=nt,X=H*F+Y*q,$=X*F-H,z=X*q-Y,nt=Math.sqrt($*$+z*z),$/=nt,z/=nt,tt=this.bases[m.getStart()].getX()-h,et=this.bases[m.getStart()].getY()-d,pt=Math.atan2(et,tt),0>pt&&(pt+=2*Math.PI),tt=this.bases[b.getEnd()].getX()-h,et=this.bases[b.getEnd()].getY()-d,gt=Math.atan2(et,tt),0>gt&&(gt+=2*Math.PI),pt>gt&&(gt+=2*Math.PI),L=gt-pt>Math.PI?-1:1,V=h+L*c*$,U=d+L*c*z,B)h-=V-R,d-=U-j;else for(T=D;m=t.getConnection(T),E=m.getStart(),this.bases[E].setX(this.bases[E].getX()+V-R),this.bases[E].setY(this.bases[E].getY()+U-j),E=m.getEnd(),this.bases[E].setX(this.bases[E].getX()+V-R),this.bases[E].setY(this.bases[E].getY()+U-j),T!=M;)++T>=t.getNconnection()&&(T=0);D=K,O=D==W}for(T=0;T<t.getNconnection();T++){if(m=t.getConnection(T),_=T+1,_>=t.getNconnection()&&(_=0),b=t.getConnection(_),tt=this.bases[m.getEnd()].getX()-h,et=this.bases[m.getEnd()].getY()-d,ct=Math.sqrt(tt*tt+et*et),pt=Math.atan2(et,tt),0>pt&&(pt+=2*Math.PI),tt=this.bases[b.getStart()].getX()-h,et=this.bases[b.getStart()].getY()-d,ut=Math.sqrt(tt*tt+et*et),gt=Math.atan2(et,tt),0>gt&&(gt+=2*Math.PI),pt>gt&&(gt+=2*Math.PI),Q=gt-pt,mt=b.getAngle()-m.getAngle(),0>=mt&&(mt+=2*Math.PI),Math.abs(Q-mt)>Math.PI)if(m.isExtruded())console.log("Warning from traverse_loop. Loop "+t.getNumber()+" has crossed regions\n");else if(b.getStart()-m.getEnd()!=1){m.setExtruded(!0);continue t}if(m.isExtruded())this.construct_extruded_segment(m,b);else for(S=b.getStart()-m.getEnd(),0>S&&(S+=this.nbase+1),l=Q/S,_=1;S>_;_++)E=m.getEnd()+_,E>this.nbase&&(E-=this.nbase+1),y=pt+_*l,nt=ct+(ut-ct)*(y-pt)/Q,this.bases[E].setX(h+nt*Math.cos(y)),this.bases[E].setY(d+nt*Math.sin(y))}break}for(T=0;T<t.getNconnection();T++)A!=T&&(m=t.getConnection(T),this.generate_region(m),this.traverse_loop(m.getLoop(),m));for(S=0,vt=0,yt=0,T=0;T<t.getNconnection();T++)if(_=T+1,_>=t.getNconnection()&&(_=0),m=t.getConnection(T),b=t.getConnection(_),S+=2,vt+=this.bases[m.getStart()].getX()+this.bases[m.getEnd()].getX(),yt+=this.bases[m.getStart()].getY()+this.bases[m.getEnd()].getY(),!m.isExtruded())for(_=m.getEnd()+1;_!=b.getStart();_++)_>this.nbase&&(_-=this.nbase+1),S++,vt+=this.bases[_].getX(),yt+=this.bases[_].getY();t.setX(vt/S),t.setY(yt/S)},c.prototype.determine_radius=function(t,e){var n,r,i,o,a,s,u,c,h,d,f,p=0,g=new l,v=new l,y=.7071068;do{for(n=1e10,a=0,o=0,c=0;c<t.getNconnection();c++)g=t.getConnection(c),h=c+1,h>=t.getNconnection()&&(h=0),v=t.getConnection(h),d=g.getEnd(),f=v.getStart(),d>f&&(f+=this.nbase+1),i=v.getAngle()-g.getAngle(),0>=i&&(i+=2*Math.PI),r=g.isExtruded()?i<=Math.PI/2?2:1.5:f-d,o+=i*(1/r+1),a+=i*i/r,u=i/r,n>u&&!g.isExtruded()&&r>1&&(n=u,p=c);s=o/a,y>s&&(s=y),e>n*s&&t.getConnection(p).setExtruded(!0)}while(e>n*s);t.getRadius()>0?s=t.getRadius():t.setRadius(s)},c.prototype.find_ic_middle=function(t,e,n,r,i){var o,a,s,l,u;for(o=0,a=-1,s=t,u=!1;!u;)o++>2*i.getNconnection()&&console.log("Infinite loop in 'find_ic_middle'"),null!=n&&i.getConnection(s)==r&&(a=s),u=s==e,++s>=i.getNconnection()&&(s=0);if(-1==a){for(l=1,s=t;(o+1)/2>l;l++)++s>=i.getNconnection()&&(s=0);a=s}return a},c.prototype.construct_extruded_segment=function(t,e){var n,r,i,o,a,s,l,u,c,h,d,f,p,g,v,y,m,b;if(n=t.getAngle(),i=r=e.getAngle(),n>i&&(i+=2*Math.PI),o=(n+i)/2,p=t.getEnd(),g=e.getStart(),v=g-p,0>v&&(v+=this.nbase+1),d=e.getAngle()-t.getAngle(),0>d&&(d+=2*Math.PI),2==v)this.construct_circle_segment(p,g);else{a=this.bases[g].getX()-this.bases[p].getX(),s=this.bases[g].getY()-this.bases[p].getY(),h=Math.sqrt(a*a+s*s),a/=h,s/=h,h>=1.5&&d<=Math.PI/2&&(y=p+1,y>this.nbase&&(y-=this.nbase+1),m=g-1,0>m&&(m+=this.nbase+1),this.bases[y].setX(this.bases[p].getX()+.5*a),this.bases[y].setY(this.bases[p].getY()+.5*s),this.bases[m].setX(this.bases[g].getX()-.5*a),this.bases[m].setY(this.bases[g].getY()-.5*s),p=y,g=m);do b=!1,this.construct_circle_segment(p,g),y=p+1,y>this.nbase&&(y-=this.nbase+1),a=this.bases[y].getX()-this.bases[p].getX(),s=this.bases[y].getY()-this.bases[p].getY(),l=Math.atan2(s,a),0>l&&(l+=2*Math.PI),f=l-n,0>f&&(f+=2*Math.PI),f>Math.PI&&(b=!0),m=g-1,0>m&&(m+=this.nbase+1),a=this.bases[m].getX()-this.bases[g].getX(),s=this.bases[m].getY()-this.bases[g].getY(),u=Math.atan2(s,a),0>u&&(u+=2*Math.PI),f=r-u,0>f&&(f+=2*Math.PI),f>Math.PI&&(b=!0),b&&(c=this.minf2(o,n+.5),this.bases[y].setX(this.bases[p].getX()+Math.cos(c)),this.bases[y].setY(this.bases[p].getY()+Math.sin(c)),p=y,c=this.maxf2(o,i-.5),this.bases[m].setX(this.bases[g].getX()+Math.cos(c)),this.bases[m].setY(this.bases[g].getY()+Math.sin(c)),g=m,v-=2);while(b&&v>1)}},c.prototype.construct_circle_segment=function(t,e){var n,r,i,o,a,s,l,u,c,h,d,f,p,g,v;if(n=this.bases[e].getX()-this.bases[t].getX(),r=this.bases[e].getY()-this.bases[t].getY(),i=Math.sqrt(n*n+r*r),p=e-t,0>p&&(p+=this.nbase+1),i>=p)for(n/=i,r/=i,g=1;p>g;g++)v=t+g,v>this.nbase&&(v-=this.nbase+1),this.bases[v].setX(this.bases[t].getX()+n*g/p),this.bases[v].setY(this.bases[t].getY()+r*g/p);else for(this.find_center_for_arc(p-1,i),n/=i,r/=i,o=this.bases[t].getX()+n*i/2,a=this.bases[t].getY()+r*i/2,s=r,l=-n,u=o+this._h*s,c=a+this._h*l,h=this.bases[t].getX()-u,d=this.bases[t].getY()-c,i=Math.sqrt(h*h+d*d),f=Math.atan2(d,h),g=1;p>g;g++)v=t+g,v>this.nbase&&(v-=this.nbase+1),this.bases[v].setX(u+i*Math.cos(f+g*this.angleinc)),this.bases[v].setY(c+i*Math.sin(f+g*this.angleinc))},c.prototype.find_center_for_arc=function(t,e){var n,r,i,o,a,s,l,u,c;r=(t+1)/Math.PI,i=-r-e/(t+1.000001-e),1>e&&(i=0),c=0;do n=(r+i)/2,o=Math.sqrt(n*n+e*e/4),a=1-.5/(o*o),Math.abs(a)>1&&console.log("Unexpected large magnitude discriminant = "+a+" "+o),s=Math.acos(a),u=Math.acos(n/o),l=s*(t+1)+2*u-2*Math.PI,l>0?i=n:r=n;while(Math.abs(l)>1e-4&&++c<this.MAXITER);c>=this.MAXITER&&(noIterationFailureYet&&(console.log("Iteration failed in find_center_for_arc"),noIterationFailureYet=!1),n=0,s=0),this._h=n,this.angleinc=s},c.prototype.generate_region=function(t){var e,n,r,i,o,a;for(a=t.getRegion(),e=0,t.getStart()==a.getStart1()?(n=a.getStart1(),r=a.getEnd1()):(n=a.getStart2(),r=a.getEnd2()),(this.bases[t.getStart()].getX()>this.ANUM-100||this.bases[t.getEnd()].getX()>this.ANUM-100)&&console.log("Bad region passed to generate_region. Coordinates not defined."),i=n+1;r>=i;i++)e++,this.bases[i].setX(this.bases[t.getStart()].getX()+this.HELIX_FACTOR*e*t.getXrad()),this.bases[i].setY(this.bases[t.getStart()].getY()+this.HELIX_FACTOR*e*t.getYrad()),o=this.bases[i].getMate(),this.bases[o].setX(this.bases[t.getEnd()].getX()+this.HELIX_FACTOR*e*t.getXrad()),this.bases[o].setY(this.bases[t.getEnd()].getY()+this.HELIX_FACTOR*e*t.getYrad())},c.prototype.minf2=function(t,e){return e>t?t:e},c.prototype.maxf2=function(t,e){return t>e?t:e},c.prototype.connected_connection=function(t,e){return t.isExtruded()?!0:t.getEnd()+1==e.getStart()}},{"./base":90,"./connection":91,"./loop":93,"./radloop":95,"./region":96}],95:[function(t,e,n){var r=e.exports=function(){this.radius=null,this.loopnumber=null,this.next=null,this.prev=null};r.prototype.getRadius=function(){return this.radius},r.prototype.setRadius=function(t){this.radius=t},r.prototype.getLoopnumber=function(){return this.loopnumber},r.prototype.setLoopnumber=function(t){this.loopnumber=t},r.prototype.getNext=function(){return this.next},r.prototype.setNext=function(t){this.next=t},r.prototype.getPrev=function(){return this.prev},r.prototype.setPrev=function(t){this.prev=t}},{}],96:[function(t,e,n){var r=e.exports=function(){this._start1=null,this._end1=null,this._start2=null,this._end2=null};r.prototype.getStart1=function(){return this._start1},r.prototype.setStart1=function(t){this._start1=t},r.prototype.getEnd1=function(){return this._end1},r.prototype.setEnd1=function(t){this._end1=t},r.prototype.getStart2=function(){return this._start2},r.prototype.setStart2=function(t){this._start2=t},r.prototype.getEnd2=function(){return this._end2},r.prototype.setEnd2=function(t){this._end2=t}},{}],97:[function(e,n,r){function i(t,e){for(var n=-1,r=0;r<e.length;r++)if("phosphodiester"==e[r].type);else{if(e[r].source===t){n=e[r].target;break}if(e[r].target===t){n=e[r].source;break}}return n}function o(t,e,n,r,s,u,h,d,f,p){if(!(t>e))if(i(t,p)===e){var g=Math.PI/2;h[t]={x:n,y:r},h[e]={x:n,y:r},u[t].x=n+65*Math.cos(s-g)/2,u[t].y=r+65*Math.sin(s-g)/2,u[e].x=n+65*Math.cos(s+g)/2,u[e].y=r+65*Math.sin(s+g)/2,o(t+1,e-1,n+40*Math.cos(s),r+40*Math.sin(s),s,u,h,d,f,p)}else{for(var v,y=t,m=[],b=[];e>=y;)v=i(y,p),v>y?(m.push(y),m.push(v),b.push(y),y=v+1):(m.push(y),y++);var x,w,E,_=m.length+2,S=b.length+1,T=35*(_-S)+65*S;_>3?(x=a(S,_-S,T/(2*Math.PI),65,35),w=-2*Math.asin(35/(2*x)),E=-2*Math.asin(65/(2*x))):(x=35,E=-2*Math.asin(65/(2*x)),w=(-2*Math.PI-E)/2);var C=Math.sqrt(Math.max(Math.pow(x,2)-Math.pow(32.5,2),0))-40,k={x:n+C*Math.cos(s),y:r+C*Math.sin(s)},P=s+Math.PI+.5*E+1*w,D=[],M={el1:0,el2:P-1*w},N=[];for(y=m.length-1;y>=0;y--){v=m[y],h[v]=k;var A=-1!=i(t,p),I=A&&i(t,p)<v,O=A&&!I;I?(P=l(P+E/2)-E/2,M.el1=P,N.push({el1:D,el2:M}),M={el1:-1,el2:-1},D=[]):O?M.el2=P:D.push(v),d[v]=P,P+=I?E:w}M.el1=s-Math.PI-.5*E,N.push({el1:D,el2:M});for(var B=0;B<N.length;B++)for(var L=N[B].el2.el1,R=c(N[B].el2.el2,L),j=0;j<N[B].el1.length;j++){var $=(1+j)/(1+N[B].el1.length),z=N[B].el1[j];d[z]=L+(1-$)*(R-L)}for(y=m.length-1;y>=0;y--)v=m[y],u[v].x=k.x+x*Math.cos(d[v]),u[v].y=k.y+x*Math.sin(d[v]);var F,q,j;for(y=0;y<b.length;y++)q=b[y],j=i(q,p),F=(d[q]+d[j])/2,o(q+1,j-1,40*Math.cos(F)+(u[q].x+u[j].x)/2,40*Math.sin(F)+(u[q].y+u[j].y)/2,F,u,h,d,f,p)}}function a(t,e,n,r,i){for(var o=r/2,a=3*i+1,l=(o+a)/2,u=1e4,c=-1e3,h=1e3,d=0,f=1e-5;Math.abs(u)>f&&1e4>d;)l=(o+a)/2,u=s(t,e,l,r,i),c=s(t,e,a,r,i),h=s(t,e,o,r,i),c>0?a+=a-o:0>=u&&h>0?a=l:u>=0&&0>c?o=l:0>h&&(o=Math.max(o-(l-o),Math.max(r/2,i/2)),a=l),d++;return l}function s(t,e,n,r,i){return 2*t*Math.asin(r/(2*n))+2*e*Math.asin(i/(2*n))-2*Math.PI}function l(e){for(var n=[0,Math.PI/4,Math.PI/2,3*Math.PI/4,Math.PI,5*Math.PI/4,3*Math.PI/2,7*Math.PI/4],r=u(e),i=0;i<n.length;i++){var o=n[i];Math.abs(t.normalizeAngle(o-r,-Math.PI))<.15&&(r=o)}return r}function u(e){return t.normalizeAngle(e,0)}function c(t,e){for(var n=e+2*Math.PI,r=t;e>r;)r+=2*Math.PI;for(;r>=n;)r-=2*Math.PI;return r}n.exports=function(t,e,n){for(var r=[],a=[],s=[],l=-1,u=0;u<t.length;u++)r[u]={x:0,y:0},a[u]={x:0,y:0};l+=1-Math.PI/2;for(var u=0,c=0,h=0,d=-Math.sin(l),f=Math.cos(l);u<t.length;){r[u].x=c,r[u].y=h,a[u].x=c+65*f,a[u].y=h-65*d;var p=i(u,n);p>u&&(o(u,p,c+65*d/2,h+65*f/2,l,r,a,s,t,n),a[u].x=r[u].x+65*f,a[u].y=h-65*d,u=p,c+=65*d,h+=65*f,a[u].x=r[u].x+65*f,a[u].y=h-65*d),c+=35*d,h+=35*f,u+=1}return r}},{}],98:[function(t,e,n){var r=t("backbone"),i=r.Model.extend({defaults:{group:"edges"},initialize:function(t){this.set("id",t.id),this.set("source",t.source),this.set("target",t.target),this.set("label",t.label),this.set("weight",t.weight),this.set("color",t.color)}});e.exports=i},{backbone:10}],99:[function(t,e,n){var r=t("backbone"),i=t("./link"),o=t("../utils/parsedbr"),a=r.Collection.extend({model:i,initialize:function(t,e,n){this.style=e,this.residues=n},newBond:function(t,e){var n=this.residues.at(parseInt(t)),r=this.residues.at(parseInt(e)),a=o.getType(o.isWatsonCrick(n,r)),s=this.style;this.add(new i({id:t+"to"+e,source:t,target:e,label:a,weight:s.getWeight(a),color:s.getColor(a)}))}});e.exports=a},{"../utils/parsedbr":105,"./link":98,backbone:10}],100:[function(t,e,n){var r=t("backbone"),i=r.Model.extend({defaults:{base1:"wc",base2:"wc",stericity:"cis",edge:null},initialize:function(t,e,n,r){this.set("base1",t),this.set("base2",e),this.set("edge",r),this.set("stericity",n)},getLabels:function(){for(var t=[],e=1;3>e;e++)switch(this.get("base"+e)){case"wc":t.push("Watson-Crick");break;case"hg":t.push("Hoogsteen");break;case"sg":t.push("Sugar")}return t.push(this.get("stericity")),t}});e.exports=i},{backbone:10}],101:[function(t,e,n){var r=t("backbone"),i=r.Model.extend({defaults:{group:"nodes",selectable:!0,locked:!1,grabbable:!0},initialize:function(t){this.set("name",t.name),this.set("color",t.color),this.set("x",t.x),this.set("y",t.y),this.set("id",t.id)}});e.exports=i},{backbone:10}],102:[function(t,e,n){var r=t("backbone"),i=t("./residue"),o=t("underscore"),a=r.Collection.extend({model:i,setResidueColor:function(t,e){o.each(this.where({name:t}),function(t){t.set("color",e)})},setSelectionColor:function(t,e){for(var n=null,r=0;r<t.length;r++)n=t[r],this.where({id:n.id()})[0].set("color",e)}});e.exports=a},{"./residue":101,backbone:10,underscore:88}],103:[function(t,e,n){var r=t("backbone"),i=t("../utils/parsedbr"),o=t("../layouts/layout.js"),a=t("../utils/style"),s=t("./link"),l=t("./linkcol"),u=t("./residue"),c=t("./residuecol"),h=r.Model.extend({initialize:function(t,e,n){this.set("seq",t),this.set("dotbr",e),this.set("layout",n),this.set("style",new a("standard")),this.set("renderSwitch",!0),this.defineStructure(),this.on("change:renderSwitch",this.defineStructure);
},reconstruct:function(){for(var t,e="",n=[],r=this.get("residues"),i=0;i<r.length;i++)if(e+=r.at(i).get("name"),t=this.getPartner(i.toString()),-1===t)n[i]=".";else{if(!(t>i))continue;n[i]="(",n[t]=")"}this.set("seq",e),this.set("dotbr",n.join("")),this.set("renderSwitch",!this.get("renderSwitch"))},defineStructure:function(){for(var t=this.get("seq"),e=this.get("dotbr"),n=this.get("layout"),r=this.get("style"),a=new c,h=i.parseDbr(t,e),d=new o(n,h.nodes,h.links).getCoords(),f=0;f<h.nodes.length;f++)a.add(new u({name:h.nodes[f].name,color:r.getColor(h.nodes[f].name),x:d[f].x,y:d[f].y,id:f.toString()}));this.set("residues",a);for(var p=new l(null,r,a),f=0;f<h.links.length;f++)p.add(new s({id:h.links[f].source+"to"+h.links[f].target,source:h.links[f].source.toString(),target:h.links[f].target.toString(),label:h.links[f].type,weight:r.getWeight(h.links[f].type),color:r.getColor(h.links[f].type)}));this.set("links",p),this.listenTo(this.get("links"),"update",this.reconstruct)},toCytoscape:function(){for(var t,e=[],n=this.get("residues"),r=0;r<n.length;r++)t=n.at(r),e.push({group:t.get("group"),data:{id:t.get("id"),label:t.get("name"),type:"residue"},position:{x:t.get("x"),y:t.get("y")},selected:t.get("selected"),selectable:t.get("selectable"),locked:t.get("locked"),grabbable:t.get("grabbable"),css:{"background-color":t.get("color")}});for(var i=this.get("links"),r=0;r<i.length;r++)t=i.at(r),e.push({group:t.get("group"),data:{id:t.get("id"),source:t.get("source"),target:t.get("target"),label:t.get("label"),weight:t.get("weight")},css:{"line-color":t.get("color"),width:t.get("weight")}});return e},getPartner:function(t){for(var e=this.get("links"),n=-1,r=0;r<e.length;r++)if("phosphodiester"===e.at(r).get("label"));else{if(e.at(r).get("source")===t){n=e.at(r).get("target");break}if(e.at(r).get("target")===t){n=e.at(r).get("source");break}}return n}});e.exports=h},{"../layouts/layout.js":89,"../utils/parsedbr":105,"../utils/style":107,"./link":98,"./linkcol":99,"./residue":101,"./residuecol":102,backbone:10}],104:[function(t,e,n){e.exports=function(t){t.fn.extend({lasso:function(){return this.mousedown(function(e){1!==e.which||t(this).is(".lassoRunning")||(t(this).addClass("lassoRunning"),t(this).data("lassoPoints",[]),t(this).trigger("lassoBegin"))}),this.mouseup(function(e){1===e.which&&t(this).is(".lassoRunning")&&(t(this).removeClass("lassoRunning"),t(this).trigger("lassoDone",[t(this).data("lassoPoints")]))}),this.mousemove(function(e){if(t(this).is(".lassoRunning")){var n=e.offsetX||e.clientX-t(e.target).offset().left+window.pageXOffset,r=e.offsetY||e.clientY-t(e.target).offset().top+window.pageYOffset,i=[n,r];t(this).data("lassoPoints").push(i),t(this).trigger("lassoPoint",[i])}}),this}})}},{}],105:[function(t,e,n){var r={};r.parseDbr=function(t,e){for(var n,i,o=[],a=[],s=[],l=0;l<t.length;l++)switch(a.push({name:t[l].toUpperCase()}),l>0&&s.push({source:l-1,target:l,type:"phosphodiester"}),e[l]){case"(":o.push(l);break;case")":n=o.pop(),i=r.getType(r.isWatsonCrick(t[n],t[l])),s.push({source:n,target:l,type:i});break;case".":}return{nodes:a,links:s}},r.isWatsonCrick=function(t,e){var n=!1;return("G"===t&&"C"===e||"C"===t&&"G"===e||"A"===t&&"U"===e||"U"===t&&"A"===e||"A"===t&&"T"===e||"T"===t&&"A"===e)&&(n=!0),n},r.getType=function(t){return t?"hbond":"violation"},e.exports=r},{}],106:[function(t,e,n){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof n&&"object"==typeof e?e.exports=t:t(jQuery)}(function(t,e){"use strict";function n(e,n,r,i){for(var o=[],a=0;a<e.length;a++){var s=e[a];if(s){var l=tinycolor(s),u=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,s)?" sp-thumb-active":"";var c=l.toString(i.preferredFormat||"rgb"),h=g?"background-color:"+l.toRgbString():"filter:"+l.toFilter();o.push('<span title="'+c+'" data-color="'+l.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var d="sp-clear-display";o.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+r+"'>"+o.join("")+"</div>"}function r(){for(var t=0;t<f.length;t++)f[t]&&f[t].hide()}function i(e,n){var r=t.extend({},d,e);return r.callbacks={move:u(r.move,n),change:u(r.change,n),show:u(r.show,n),hide:u(r.hide,n),beforeShow:u(r.beforeShow,n)},r}function o(o,s){function u(){if(X.showPaletteOnly&&(X.showPalette=!0),Lt.text(X.showPaletteOnly?X.togglePaletteMoreText:X.togglePaletteLessText),X.palette){ht=X.palette.slice(0),dt=t.isArray(ht[0])?ht:[ht],ft={};for(var e=0;e<dt.length;e++)for(var n=0;n<dt[e].length;n++){var r=tinycolor(dt[e][n]).toRgbString();ft[r]=!0}}wt.toggleClass("sp-flat",V),wt.toggleClass("sp-input-disabled",!X.showInput),wt.toggleClass("sp-alpha-enabled",X.showAlpha),wt.toggleClass("sp-clear-enabled",Gt),wt.toggleClass("sp-buttons-disabled",!X.showButtons),wt.toggleClass("sp-palette-buttons-disabled",!X.togglePaletteOnly),wt.toggleClass("sp-palette-disabled",!X.showPalette),wt.toggleClass("sp-palette-only",X.showPaletteOnly),wt.toggleClass("sp-initial-disabled",!X.showInitial),wt.addClass(X.className).addClass(X.containerClassName),$()}function d(){function e(e){return e.data&&e.data.ignore?(A(t(e.target).closest(".sp-thumb-el").data("color")),B()):(A(t(e.target).closest(".sp-thumb-el").data("color")),B(),j(!0),X.hideAfterPaletteSelect&&M()),!1}if(p&&wt.find("*:not(input)").attr("unselectable","on"),u(),$t&&bt.after(zt).hide(),Gt||Ot.hide(),V)bt.after(wt).hide();else{var n="parent"===X.appendTo?bt.parent():t(X.appendTo);1!==n.length&&(n=t("body")),n.append(wt)}b(),Ft.bind("click.spectrum touchstart.spectrum",function(e){xt||k(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(bt.is(":disabled")||X.disabled===!0)&&H(),wt.click(l),Mt.change(C),Mt.bind("paste",function(){setTimeout(C,1)}),Mt.keydown(function(t){13==t.keyCode&&C()}),It.text(X.cancelText),It.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),N(),M()}),Ot.attr("title",X.clearText),Ot.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Wt=!0,B(),V&&j(!0)}),Bt.text(X.chooseText),Bt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),O()&&(j(!0),M())}),Lt.text(X.showPaletteOnly?X.togglePaletteMoreText:X.togglePaletteLessText),Lt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),X.showPaletteOnly=!X.showPaletteOnly,X.showPaletteOnly||V||wt.css("left","-="+(Et.outerWidth(!0)+5)),u()}),c(Pt,function(t,e,n){ct=t/it,Wt=!1,n.shiftKey&&(ct=Math.round(10*ct)/10),B()},S,T),c(Tt,function(t,e){st=parseFloat(e/nt),Wt=!1,X.showAlpha||(ct=1),B()},S,T),c(_t,function(t,e,n){if(n.shiftKey){if(!yt){var r=lt*Q,i=tt-ut*tt,o=Math.abs(t-r)>Math.abs(e-i);yt=o?"x":"y"}}else yt=null;var a=!yt||"x"===yt,s=!yt||"y"===yt;a&&(lt=parseFloat(t/Q)),s&&(ut=parseFloat((tt-e)/tt)),Wt=!1,X.showAlpha||(ct=1),B()},S,T),Ht?(A(Ht),L(),Vt=Xt||tinycolor(Ht).format,x(Ht)):L(),V&&P();var r=p?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Nt.delegate(".sp-thumb-el",r,e),At.delegate(".sp-thumb-el:nth-child(1)",r,{ignore:!0},e)}function b(){if(W&&window.localStorage){try{var e=window.localStorage[W].split(",#");e.length>1&&(delete window.localStorage[W],t.each(e,function(t,e){x(e)}))}catch(n){}try{pt=window.localStorage[W].split(";")}catch(n){}}}function x(e){if(U){var n=tinycolor(e).toRgbString();if(!ft[n]&&-1===t.inArray(n,pt))for(pt.push(n);pt.length>gt;)pt.shift();if(W&&window.localStorage)try{window.localStorage[W]=pt.join(";")}catch(r){}}}function w(){var t=[];if(X.showPalette)for(var e=0;e<pt.length;e++){var n=tinycolor(pt[e]).toRgbString();ft[n]||t.push(pt[e])}return t.reverse().slice(0,X.maxSelectionSize)}function E(){var e=I(),r=t.map(dt,function(t,r){return n(t,e,"sp-palette-row sp-palette-row-"+r,X)});b(),pt&&r.push(n(w(),e,"sp-palette-row sp-palette-row-selection",X)),Nt.html(r.join(""))}function _(){if(X.showInitial){var t=Yt,e=I();At.html(n([t,e],e,"sp-palette-row-initial",X))}}function S(){(0>=tt||0>=Q||0>=nt)&&$(),wt.addClass(vt),yt=null,bt.trigger("dragstart.spectrum",[I()])}function T(){wt.removeClass(vt),bt.trigger("dragstop.spectrum",[I()])}function C(){var t=Mt.val();if(null!==t&&""!==t||!Gt){var e=tinycolor(t);e.isValid()?(A(e),j(!0)):Mt.addClass("sp-validation-error")}else A(null),j(!0)}function k(){J?M():P()}function P(){var e=t.Event("beforeShow.spectrum");return J?void $():(bt.trigger(e,[I()]),void(Z.beforeShow(I())===!1||e.isDefaultPrevented()||(r(),J=!0,t(mt).bind("click.spectrum",D),t(window).bind("resize.spectrum",K),zt.addClass("sp-active"),wt.removeClass("sp-hidden"),$(),L(),Yt=I(),_(),Z.show(Yt),bt.trigger("show.spectrum",[Yt]))))}function D(t){2!=t.button&&(Ut?j(!0):N(),M())}function M(){J&&!V&&(J=!1,t(mt).unbind("click.spectrum",D),t(window).unbind("resize.spectrum",K),zt.removeClass("sp-active"),wt.addClass("sp-hidden"),Z.hide(I()),bt.trigger("hide.spectrum",[I()]))}function N(){A(Yt,!0)}function A(t,e){if(tinycolor.equals(t,I()))return void L();var n,r;!t&&Gt?Wt=!0:(Wt=!1,n=tinycolor(t),r=n.toHsv(),st=r.h%360/360,lt=r.s,ut=r.v,ct=r.a),L(),n&&n.isValid()&&!e&&(Vt=Xt||n.getFormat())}function I(t){return t=t||{},Gt&&Wt?null:tinycolor.fromRatio({h:st,s:lt,v:ut,a:Math.round(100*ct)/100},{format:t.format||Vt})}function O(){return!Mt.hasClass("sp-validation-error")}function B(){L(),Z.move(I()),bt.trigger("move.spectrum",[I()])}function L(){Mt.removeClass("sp-validation-error"),R();var t=tinycolor.fromRatio({h:st,s:1,v:1});_t.css("background-color",t.toHexString());var e=Vt;1>ct&&(0!==ct||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=I({format:e}),r="";if(qt.removeClass("sp-clear-display"),qt.css("background-color","transparent"),!n&&Gt)qt.addClass("sp-clear-display");else{var i=n.toHexString(),o=n.toRgbString();if(g||1===n.alpha?qt.css("background-color",o):(qt.css("background-color","transparent"),qt.css("filter",n.toFilter())),X.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString(),l="linear-gradient(left, "+s+", "+i+")";p?kt.css("filter",tinycolor(s).toFilter({gradientType:1},i)):(kt.css("background","-webkit-"+l),kt.css("background","-moz-"+l),kt.css("background","-ms-"+l),kt.css("background","linear-gradient(to right, "+s+", "+i+")"))}r=n.toString(e)}X.showInput&&Mt.val(r),X.showPalette&&E(),_()}function R(){var t=lt,e=ut;if(Gt&&Wt)Dt.hide(),Ct.hide(),St.hide();else{Dt.show(),Ct.show(),St.show();var n=t*Q,r=tt-e*tt;n=Math.max(-et,Math.min(Q-et,n-et)),r=Math.max(-et,Math.min(tt-et,r-et)),St.css({top:r+"px",left:n+"px"});var i=ct*it;Dt.css({left:i-ot/2+"px"});var o=st*nt;Ct.css({top:o-at+"px"})}}function j(t){var e=I(),n="",r=!tinycolor.equals(e,Yt);e&&(n=e.toString(Vt),x(e)),Rt&&bt.val(n),t&&r&&(Z.change(e),bt.trigger("change",[e]))}function $(){Q=_t.width(),tt=_t.height(),et=St.height(),rt=Tt.width(),nt=Tt.height(),at=Ct.height(),it=Pt.width(),ot=Dt.width(),V||(wt.css("position","absolute"),X.offset?wt.offset(X.offset):wt.offset(a(wt,Ft))),R(),X.showPalette&&E(),bt.trigger("reflow.spectrum")}function z(){bt.show(),Ft.unbind("click.spectrum touchstart.spectrum"),wt.remove(),zt.remove(),f[Zt.id]=null}function F(n,r){return n===e?t.extend({},X):r===e?X[n]:(X[n]=r,void u())}function q(){xt=!1,bt.attr("disabled",!1),Ft.removeClass("sp-disabled")}function H(){M(),xt=!0,bt.attr("disabled",!0),Ft.addClass("sp-disabled")}function Y(t){X.offset=t,$()}var X=i(s,o),V=X.flat,U=X.showSelectionPalette,W=X.localStorageKey,G=X.theme,Z=X.callbacks,K=h($,10),J=!1,Q=0,tt=0,et=0,nt=0,rt=0,it=0,ot=0,at=0,st=0,lt=0,ut=0,ct=1,ht=[],dt=[],ft={},pt=X.selectionPalette.slice(0),gt=X.maxSelectionSize,vt="sp-dragging",yt=null,mt=o.ownerDocument,bt=(mt.body,t(o)),xt=!1,wt=t(m,mt).addClass(G),Et=wt.find(".sp-picker-container"),_t=wt.find(".sp-color"),St=wt.find(".sp-dragger"),Tt=wt.find(".sp-hue"),Ct=wt.find(".sp-slider"),kt=wt.find(".sp-alpha-inner"),Pt=wt.find(".sp-alpha"),Dt=wt.find(".sp-alpha-handle"),Mt=wt.find(".sp-input"),Nt=wt.find(".sp-palette"),At=wt.find(".sp-initial"),It=wt.find(".sp-cancel"),Ot=wt.find(".sp-clear"),Bt=wt.find(".sp-choose"),Lt=wt.find(".sp-palette-toggle"),Rt=bt.is("input"),jt=Rt&&v&&"color"===bt.attr("type"),$t=Rt&&!V,zt=$t?t(y).addClass(G).addClass(X.className).addClass(X.replacerClassName):t([]),Ft=$t?zt:bt,qt=zt.find(".sp-preview-inner"),Ht=X.color||Rt&&bt.val(),Yt=!1,Xt=X.preferredFormat,Vt=Xt,Ut=!X.showButtons||X.clickoutFiresChange,Wt=!Ht,Gt=X.allowEmpty&&!jt;d();var Zt={show:P,hide:M,toggle:k,reflow:$,option:F,enable:q,disable:H,offset:Y,set:function(t){A(t),j()},get:I,destroy:z,container:wt};return Zt.id=f.push(Zt)-1,Zt}function a(e,n){var r=0,i=e.outerWidth(),o=e.outerHeight(),a=n.outerHeight(),s=e[0].ownerDocument,l=s.documentElement,u=l.clientWidth+t(s).scrollLeft(),c=l.clientHeight+t(s).scrollTop(),h=n.offset();return h.top+=a,h.left-=Math.min(h.left,h.left+i>u&&u>i?Math.abs(h.left+i-u):0),h.top-=Math.min(h.top,h.top+o>c&&c>o?Math.abs(o+a-r):r),h}function s(){}function l(t){t.stopPropagation()}function u(t,e){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}function c(e,n,r,i){function o(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function a(t){if(c){if(p&&u.documentMode<9&&!t.button)return l();var r=t.originalEvent&&t.originalEvent.touches,i=r?r[0].pageX:t.pageX,a=r?r[0].pageY:t.pageY,s=Math.max(0,Math.min(i-h.left,f)),v=Math.max(0,Math.min(a-h.top,d));g&&o(t),n.apply(e,[s,v,t])}}function s(n){var i=n.which?3==n.which:2==n.button;i||c||r.apply(e,arguments)!==!1&&(c=!0,d=t(e).height(),f=t(e).width(),h=t(e).offset(),t(u).bind(v),t(u.body).addClass("sp-dragging"),g||a(n),o(n))}function l(){c&&(t(u).unbind(v),t(u.body).removeClass("sp-dragging"),i.apply(e,arguments)),c=!1}n=n||function(){},r=r||function(){},i=i||function(){};var u=document,c=!1,h={},d=0,f=0,g="ontouchstart"in window,v={};v.selectstart=o,v.dragstart=o,v["touchmove mousemove"]=a,v["touchend mouseup"]=l,t(e).bind("touchstart mousedown",s)}function h(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,t.apply(i,o)};n&&clearTimeout(r),!n&&r||(r=setTimeout(a,e))}}var d={beforeShow:s,move:s,change:s,show:s,hide:s,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},f=[],p=!!/msie/i.exec(window.navigator.userAgent),g=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),v=function(){var e=t("<input type='color' value='!' />")[0];return"color"===e.type&&"!"!==e.value}(),y=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),m=function(){var t="";if(p)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),b="spectrum.id";t.fn.spectrum=function(e,n){if("string"==typeof e){var r=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=f[t(this).data(b)];if(n){var o=n[e];if(!o)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?r=n.get():"container"==e?r=n.container:"option"==e?r=n.option.apply(n,i):"destroy"==e?(n.destroy(),t(this).removeData(b)):o.apply(n,i)}}),r}return this.spectrum("destroy").each(function(){var n=t.extend({},e,t(this).data()),r=o(this,n);t(this).data(b,r.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=c,t.fn.spectrum.defaults=d,t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){v||t("input[type=color]").spectrum({preferredFormat:"hex6"})},function(){function t(t){var n={r:0,g:0,b:0},i=1,a=!1,s=!1;return"string"==typeof t&&(t=A(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(n=e(t.r,t.g,t.b),a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=D(t.s),t.v=D(t.v),n=o(t.h,t.s,t.v),a=!0,s="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=D(t.s),t.l=D(t.l),n=r(t.h,t.s,t.l),a=!0,s="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=E(i),{ok:a,format:t.format||s,r:j(255,$(n.r,0)),g:j(255,$(n.g,0)),b:j(255,$(n.b,0)),a:i}}function e(t,e,n){return{r:255*_(t,255),g:255*_(e,255),b:255*_(n,255)}}function n(t,e,n){t=_(t,255),e=_(e,255),n=_(n,255);var r,i,o=$(t,e,n),a=j(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case t:r=(e-n)/l+(n>e?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:s}}function r(t,e,n){function r(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var i,o,a;if(t=_(t,360),e=_(e,100),n=_(n,100),0===e)i=o=a=n;else{var s=.5>n?n*(1+e):n+e-n*e,l=2*n-s;i=r(l,s,t+1/3),o=r(l,s,t),a=r(l,s,t-1/3)}return{r:255*i,g:255*o,b:255*a}}function i(t,e,n){t=_(t,255),e=_(e,255),n=_(n,255);var r,i,o=$(t,e,n),a=j(t,e,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case t:r=(e-n)/l+(n>e?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:s}}function o(t,e,n){t=6*_(t,360),e=_(e,100),n=_(n,100);var r=L.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,u=[n,a,o,o,s,n][l],c=[s,n,n,a,o,o][l],h=[o,o,s,n,n,a][l];return{r:255*u,g:255*c,b:255*h}}function a(t,e,n,r){var i=[P(R(t).toString(16)),P(R(e).toString(16)),P(R(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function s(t,e,n,r){var i=[P(M(r)),P(R(t).toString(16)),P(R(e).toString(16)),P(R(n).toString(16))];return i.join("")}function l(t,e){e=0===e?0:e||10;var n=F(t).toHsl();return n.s-=e/100,n.s=S(n.s),F(n)}function u(t,e){e=0===e?0:e||10;var n=F(t).toHsl();return n.s+=e/100,n.s=S(n.s),F(n)}function c(t){return F(t).desaturate(100)}function h(t,e){e=0===e?0:e||10;var n=F(t).toHsl();return n.l+=e/100,n.l=S(n.l),F(n)}function d(t,e){e=0===e?0:e||10;var n=F(t).toRgb();return n.r=$(0,j(255,n.r-R(255*-(e/100)))),n.g=$(0,j(255,n.g-R(255*-(e/100)))),n.b=$(0,j(255,n.b-R(255*-(e/100)))),F(n)}function f(t,e){e=0===e?0:e||10;var n=F(t).toHsl();return n.l-=e/100,n.l=S(n.l),F(n)}function p(t,e){var n=F(t).toHsl(),r=(R(n.h)+e)%360;return n.h=0>r?360+r:r,F(n)}function g(t){var e=F(t).toHsl();return e.h=(e.h+180)%360,F(e)}function v(t){var e=F(t).toHsl(),n=e.h;return[F(t),F({h:(n+120)%360,s:e.s,l:e.l}),F({h:(n+240)%360,s:e.s,l:e.l})]}function y(t){var e=F(t).toHsl(),n=e.h;return[F(t),F({h:(n+90)%360,s:e.s,l:e.l}),F({h:(n+180)%360,s:e.s,l:e.l}),F({h:(n+270)%360,s:e.s,l:e.l})]}function m(t){var e=F(t).toHsl(),n=e.h;return[F(t),F({h:(n+72)%360,s:e.s,l:e.l}),F({h:(n+216)%360,s:e.s,l:e.l})]}function b(t,e,n){e=e||6,n=n||30;var r=F(t).toHsl(),i=360/n,o=[F(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(F(r));return o}function x(t,e){e=e||6;for(var n=F(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(F({h:r,s:i,v:o})),o=(o+s)%1;return a}function w(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function E(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function _(t,e){C(t)&&(t="100%");var n=k(t);return t=j(e,$(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),L.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function S(t){return j(1,$(0,t))}function T(t){return parseInt(t,16)}function C(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function k(t){return"string"==typeof t&&-1!=t.indexOf("%")}function P(t){return 1==t.length?"0"+t:""+t}function D(t){return 1>=t&&(t=100*t+"%"),t}function M(t){return Math.round(255*parseFloat(t)).toString(16)}function N(t){return T(t)/255}function A(t){t=t.replace(I,"").replace(O,"").toLowerCase();var e=!1;if(q[t])t=q[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Y.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Y.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Y.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Y.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Y.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Y.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Y.hex8.exec(t))?{a:N(n[1]),r:T(n[2]),g:T(n[3]),b:T(n[4]),format:e?"name":"hex8"}:(n=Y.hex6.exec(t))?{r:T(n[1]),g:T(n[2]),b:T(n[3]),format:e?"name":"hex"}:(n=Y.hex3.exec(t))?{r:T(n[1]+""+n[1]),g:T(n[2]+""+n[2]),b:T(n[3]+""+n[3]),format:e?"name":"hex"}:!1}var I=/^[\s,#]+/,O=/\s+$/,B=0,L=Math,R=L.round,j=L.min,$=L.max,z=L.random,F=function X(e,n){if(e=e?e:"",n=n||{},e instanceof X)return e;if(!(this instanceof X))return new X(e,n);var r=t(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=R(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=R(this._r)),this._g<1&&(this._g=R(this._g)),this._b<1&&(this._b=R(this._b)),this._ok=r.ok,this._tc_id=B++};F.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=E(t),this._roundA=R(100*this._a)/100,this},toHsv:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=i(this._r,this._g,this._b),e=R(360*t.h),n=R(100*t.s),r=R(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=R(360*t.h),r=R(100*t.s),i=R(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+i+"%)":"hsla("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return a(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return s(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:R(this._r),g:R(this._g),b:R(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+R(this._r)+", "+R(this._g)+", "+R(this._b)+")":"rgba("+R(this._r)+", "+R(this._g)+", "+R(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:R(100*_(this._r,255))+"%",g:R(100*_(this._g,255))+"%",b:R(100*_(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+R(100*_(this._r,255))+"%, "+R(100*_(this._g,255))+"%, "+R(100*_(this._b,255))+"%)":"rgba("+R(100*_(this._r,255))+"%, "+R(100*_(this._g,255))+"%, "+R(100*_(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:H[a(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+s(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=F(t);n=i.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(m,arguments)},triad:function(){return this._applyCombination(v,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},F.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&("a"===r?n[r]=t[r]:n[r]=D(t[r]));t=n}return F(t,e)},F.equals=function(t,e){return t&&e?F(t).toRgbString()==F(e).toRgbString():!1},F.random=function(){return F.fromRatio({r:z(),g:z(),b:z()})},F.mix=function(t,e,n){n=0===n?0:n||50;var r,i=F(t).toRgb(),o=F(e).toRgb(),a=n/100,s=2*a-1,l=o.a-i.a;r=s*l==-1?s:(s+l)/(1+s*l),r=(r+1)/2;var u=1-r,c={r:o.r*r+i.r*u,g:o.g*r+i.g*u,b:o.b*r+i.b*u,a:o.a*a+i.a*(1-a)};return F(c)},F.readability=function(t,e){var n=F(t),r=F(e),i=n.toRgb(),o=r.toRgb(),a=n.getBrightness(),s=r.getBrightness(),l=Math.max(i.r,o.r)-Math.min(i.r,o.r)+Math.max(i.g,o.g)-Math.min(i.g,o.g)+Math.max(i.b,o.b)-Math.min(i.b,o.b);return{brightness:Math.abs(a-s),color:l}},F.isReadable=function(t,e){var n=F.readability(t,e);return n.brightness>125&&n.color>500},F.mostReadable=function(t,e){for(var n=null,r=0,i=!1,o=0;o<e.length;o++){var a=F.readability(t,e[o]),s=a.brightness>125&&a.color>500,l=3*(a.brightness/125)+a.color/500;(s&&!i||s&&i&&l>r||!s&&!i&&l>r)&&(i=s,r=l,n=F(e[o]))}return n};var q=F.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},H=F.hexNames=w(q),Y=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=F}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})})},{}],107:[function(t,e,n){var r=jQuery=t("jquery"),i=t("cytoscape"),o=e.exports=function(t){this.theme=t};o.prototype.getColor=function(t){var e="black";return r("#acolor").length>0?"A"===t?e=r("#acolor").spectrum("get").toHexString():"C"===t?e=r("#ccolor").spectrum("get").toHexString():"U"===t?e=r("#ucolor").spectrum("get").toHexString():"G"===t?e=r("#gcolor").spectrum("get").toHexString():"hbond"===t?e="#3A9AD9":"violation"===t&&(e="red"):"A"===t?e="#64F73F":"C"===t?e="#FFB340":"U"===t?e="#3C88EE":"G"===t?e="#EB413C":"hbond"===t?e="#3A9AD9":"violation"===t&&(e="red"),e},o.prototype.getWeight=function(t){var e;return e="hbond"===t||"violation"===t?4:5},o.prototype.getCytoscapeStyle=function(){var t=i.stylesheet().selector("node").css({content:"data(label)","text-valign":"center",color:"white","text-outline-width":2,"text-outline-color":"#778899"}).selector("edge").css({"background-color":"white"
}).selector(".chosen").css({"background-color":"black",opacity:.6}).selector(".edgehandles-hover").css({"background-color":"red"}).selector(".edgehandles-source").css({"border-width":2,"border-color":"red"}).selector(".edgehandles-target").css({"border-width":2,"border-color":"red"}).selector(".edgehandles-preview, .edgehandles-ghost-edge").css({"line-color":"red","target-arrow-color":"red","target-arrow-color":"red"}).selector(".wcwccis").css({"mid-target-arrow-shape":"circle","mid-target-arrow-color":"red"}).selector(".wcsgcis").css({"source-arrow-shape":"circle","source-arrow-color":"red","target-arrow-shape":"triangle","target-arrow-color":"red"}).selector(".sgwccis").css({"target-arrow-shape":"circle","target-arrow-color":"red","source-arrow-shape":"triangle","source-arrow-color":"red"}).selector(".hgsgcis").css({"source-arrow-shape":"square","source-arrow-color":"red","target-arrow-shape":"triangle","target-arrow-color":"red"}).selector(".sghgcis").css({"target-arrow-shape":"square","target-arrow-color":"red","source-arrow-shape":"triangle","source-arrow-color":"red"}).selector(".wchgcis").css({"source-arrow-shape":"circle","source-arrow-color":"red","target-arrow-shape":"square","target-arrow-color":"red"}).selector(".hgwccis").css({"target-arrow-shape":"circle","target-arrow-color":"red","source-arrow-shape":"square","source-arrow-color":"red"}).selector(".sgsgcis").css({"mid-target-arrow-shape":"triangle","mid-target-arrow-color":"red"}).selector(".wcwctrans").css({"mid=target-arrow-shape":"circle","mid-target-arrow-color":"red","mid-target-arrow-fill":"hollow"}).selector(".wcsgtrans").css({"source-arrow-shape":"circle","source-arrow-color":"red","target-arrow-shape":"triangle","target-arrow-color":"red","target-arrow-fill":"hollow","source-arrow-fill":"hollow"}).selector(".sgwctrans").css({"target-arrow-shape":"circle","target-arrow-color":"red","source-arrow-shape":"triangle","source-arrow-color":"red","source-arrow-fill":"hollow","target-arrow-fill":"hollow"}).selector(".hgsgtrans").css({"source-arrow-shape":"square","source-arrow-color":"red","target-arrow-shape":"triangle","target-arrow-color":"red","target-arrow-fill":"hollow","source-arrow-fill":"hollow"}).selector(".sghgtrans").css({"target-arrow-shape":"square","target-arrow-color":"red","source-arrow-shape":"triangle","source-arrow-color":"red","source-arrow-fill":"hollow","target-arrow-fill":"hollow"}).selector(".wchgtrans").css({"source-arrow-shape":"circle","source-arrow-color":"red","target-arrow-shape":"square","target-arrow-color":"red","target-arrow-fill":"hollow","source-arrow-fill":"hollow"}).selector(".hgwctrans").css({"target-arrow-shape":"circle","target-arrow-color":"red","source-arrow-shape":"square","source-arrow-color":"red","source-arrow-fill":"hollow","target-arrow-fill":"hollow"}).selector(".sgsgtrans").css({"mid-target-arrow-shape":"triangle","mid-target-arrow-color":"red","mid-target-arrow-fill":"hollow"}).selector(".hghgcis").css({"mid-target-arrow-shape":"square","mid-target-arrow-color":"red"}).selector(".hghgtrans").css({"mid-target-arrow-shape":"square","mid-target-arrow-color":"red","mid-target-arrow-fill":"hollow"});return t}},{cytoscape:25,jquery:26}],108:[function(t,e,n){var r=t("backbone"),i=t("../models/ncanno"),o=(jQuery=t("jquery"),t("bootstrap"),r.View.extend({events:{"click #annook":"applyAnno","click #wc1":"selectWc1","click #hg1":"selectHg1","click #sg1":"selectSg1","click #wc2":"selectWc2","click #hg2":"selectHg2","click #sg2":"selectSg2","click #st1":"selectStericityCis","click #st2":"selectStericityTrans"},initialize:function(t,e,n,r,o){var a=document.createElement("div");o.parentNode.appendChild(a),this.setElement(a),this.anno=new i(t,e,n,r),this.defineStyle(),this.render()},applyAnno:function(){var t=this.anno.get("base1"),e=this.anno.get("base2"),n=this.anno.get("stericity");this.anno.get("edge")._private.classes={},this.anno.get("edge").addClass(t+e+n),this.remove()},render:function(){var t=this.anno.get("edge").source().data("label"),e=this.anno.get("edge").target().data("label"),n=this.anno.getLabels();this.el.innerHTML+="<div class='col-md-4'><span>Residue: "+t+"</span><div class='dropdown'><button class='btn btn-default dropdown-toggle' type='button' id='menu1' data-toggle='dropdown'>"+n[0]+"<span class='caret'></span></button><ul class='dropdown-menu' role='menu' aria-labelledby='menu1'><li role='presentation'><span class='text-muted' id='wc1' style='cursor: pointer;'>Watson-Crick</span></li><li role='presentation'><span class='text-muted' id='hg1' style='cursor: pointer;'>Hoogsteen</span></li><li role='presentation'><span class='text-muted' id='sg1' style='cursor: pointer;'>Sugar</span></li></ul></div></div>",this.el.innerHTML+="<div class='col-md-4'><span>Residue: "+e+"</span><div class='dropdown'><button class='btn btn-default dropdown-toggle' type='button' id='menu2' data-toggle='dropdown'>"+n[1]+"<span class='caret'></span></button><ul class='dropdown-menu' role='menu' aria-labelledby='menu2'><li role='presentation'><span class='text-muted' id='wc2' style='cursor: pointer;'>Watson-Crick</span></li><li role='presentation'><span class='text-muted' id='hg2' style='cursor: pointer;'>Hoogsteen</span></li><li role='presentation'><span class='text-muted' id='sg2' style='cursor: pointer;'>Sugar</span></li></ul></div></div>",this.el.innerHTML+="<div class='col-md-3'><div class='dropdown'><button class='btn btn-default dropdown-toggle' type='button' id='menu3' data-toggle='dropdown' style='margin-top: 19px;'>"+n[2]+"<span class='caret'></span></button><ul class='dropdown-menu'><li role='presentation'><span class='text-muted' id='st1' style='cursor: pointer;'>cis</span></li><li role='presentation'><span class='text-muted' id='st2' style='cursor: pointer;'>trans</span></li></ul></div></div>",this.el.innerHTML+="<div class='col-md-1'><button class='btn btn-default' type='button' id='annook' style='margin-top: 19px;'>OK</button></div>"},defineStyle:function(){var t=this.el.style;t.display="block",t.position="absolute",t.left="1%",t.width="435px",t.height="170px",t.padding="10px",t.paddingRight="55px",t.border="1px solid black",t.borderRadius="1px",t.backgroundColor="#F6F6F6",t.overflow="auto",t.fontWeight="bold",t.textAlign="center",t.zIndex=1002},selectWc1:function(){this.anno.set("base1","wc"),document.getElementById("menu1").innerHTML="Watson-Crick<span class='caret'></span>"},selectHg1:function(){this.anno.set("base1","hg"),document.getElementById("menu1").innerHTML="Hoogsteen<span class='caret'></span>"},selectSg1:function(){this.anno.set("base1","sg"),document.getElementById("menu1").innerHTML="Sugar<span class='caret'></span>"},selectWc2:function(){this.anno.set("base2","wc"),document.getElementById("menu2").innerHTML="Watson-Crick<span class='caret'></span>"},selectHg2:function(){this.anno.set("base2","hg"),document.getElementById("menu2").innerHTML="Hoogsteen<span class='caret'></span>"},selectSg2:function(){this.anno.set("base2","sg"),document.getElementById("menu2").innerHTML="Sugar<span class='caret'></span>"},selectStericityCis:function(){this.anno.set("stericity","cis"),document.getElementById("menu3").innerHTML="Cis<span class='caret'></span>"},selectStericityTrans:function(){this.anno.set("stericity","trans"),document.getElementById("menu3").innerHTML="Trans<span class='caret'></span>"}}));e.exports=o},{"../models/ncanno":100,backbone:10,bootstrap:11,jquery:26}],109:[function(t,e,n){var r=t("backbone"),i=jQuery=t("jquery"),o=(t("../utils/spectrum")(i),t("../utils/lasso")(i),t("underscore"),t("tooltip")),a=r.View.extend({events:{"click #export":"exportAsPNG","click #center":"center","click #lasso":"activateLasso","click #discovery":"activateDiscovery","click #newbond":"activateBondDrawing"},initialize:function(t){this.el=t.el,this.el.className+="container-fluid",this.el.id="opts",this.struct=t.struct,this.vis=t.vis,this.listenTo(this.vis,"rendered",this.checkMode)},render:function(){o({showDelay:100,offset:{x:-85,y:0},style:{"border-radius":"5px"}}),this.el.innerHTML+='<div class="cntrl"><button class="icon" id="discovery" data-tooltip="Exploration mode" value="Discovery mode" readonly="readonly"><img class="mode" src="http://www.cipherpoint.com/wp-content/uploads/2014/07/search.png"></button><button class="icon" id="lasso" value="Lasso mode"  data-tooltip="Selection mode" readonly="readonly"><img class="mode" src="https://d30y9cdsu7xlg0.cloudfront.net/png/21906-200.png"></button><button class="icon" id="newbond" value="Bond drawing mode" data-tooltip="Editing mode" readonly="readonly"><img class="mode" src="http://vseo.vn/dao-tao-seo/uploads/tin-tuc/anchor-link.png"></button></div>',this.el.innerHTML+='<div class="col-md-3"><p class="res">A</p></div>',this.el.innerHTML+='<div class="col-md-3"><p class="res">C</p></div>',this.el.innerHTML+='<div class="col-md-3"><p class="res">G</p></div>',this.el.innerHTML+='<div class="col-md-3"><p class="res">U</p></div>',this.el.innerHTML+='<div class="col-md-3"><input type="text" id="acolor"></div>',this.el.innerHTML+='<div class="col-md-3"><input type="text" id="ccolor"></div>',this.el.innerHTML+='<div class="col-md-3"><input type="text" id="gcolor"></div>',this.el.innerHTML+='<div class="col-md-3"><input type="text" id="ucolor"></div>',this.el.innerHTML+='<div class="col-md-9 colsel"><p>Color of selected nucleic acids</p></div>',this.el.innerHTML+='<div class="col-md-3 colsel"><input type="text" id="selcolor"></div>',this.el.innerHTML+='<div class="cntrl"><input class="button" id="center" value="Reset viewport" readonly="readonly"><input class="button" id="export" value="Export as PNG" readonly="readonly"></div>',this.initColors(this)},initColors:function(t){var e=t.struct.get("residues"),n=t;i("#acolor").spectrum({color:"#64F73F",change:function(t){e.setResidueColor("A",t.toHexString()),n.vis.cy.nodes("[label='A']").css("background-color",t.toHexString())}}),i("#ccolor").spectrum({color:"#FFB340",change:function(t){e.setResidueColor("C",t.toHexString()),n.vis.cy.nodes("[label='C']").css("background-color",t.toHexString())}}),i("#gcolor").spectrum({color:"#EB413C",change:function(t){e.setResidueColor("G",t.toHexString()),n.vis.cy.nodes("[label='G']").css("background-color",t.toHexString())}}),i("#ucolor").spectrum({color:"#3C88EE",change:function(t){e.setResidueColor("U",t.toHexString()),n.vis.cy.nodes("[label='U']").css("background-color",t.toHexString())}}),i("#selcolor").spectrum({color:"#F6F6F6",change:function(t){var r=n.vis.cy.$(".chosen");e.setSelectionColor(r,t.toHexString()),r.css("background-color",t.toHexString())}})},exportAsPNG:function(){var t=this.vis.cy,e=t.png({scale:5}),n=window.open();n.document.write("<img src="+e+" />"),n.focus()},center:function(){var t=this.vis.cy;t.center(),t.fit()},activateLasso:function(){var t=[],e=this.vis.cy,n=this;e.userPanningEnabled(!1),e.userZoomingEnabled(!1),e.nodes().lock(),e.edgehandles("disable"),this.bondDrawing=!1,i(".cy").lasso().on("lassoBegin",function(e,r){t=[],canvas=n.vis.el.childNodes[1],c2=canvas.getContext("2d"),c2.fillStyle="rgba(100, 100, 100, 0.02)",c2.beginPath(),c2.moveTo(e.pageX,e.pageY)}).bind("lassoPoint",function(e,n){c2.lineTo(n[0],n[1]),c2.fill(),t.push({x:n[0],y:n[1]})}).on("lassoDone",function(r,i){c2.closePath(),c2.clearRect(0,0,canvas.width,canvas.height);for(var o=e.nodes("[type!='index']"),a=0;a<o.length;a++)n.isPointInPoly(t,e.$("#"+o[a].id()).renderedPosition())&&e.$("#"+o[a].id()).addClass("chosen")})},isPointInPoly:function(t,e){var n,r,i=!1;for(n=0,r=t.length-1;n<t.length;r=n++)t[n].y>e.y!=t[r].y>e.y&&e.x<(t[r].x-t[n].x)*(e.y-t[n].y)/(t[r].y-t[n].y)+t[n].x&&(i=!i);return i},activateDiscovery:function(){var t=this.vis.cy;this.removeLasso(),t.edgehandles("disable"),t.userPanningEnabled(!0),t.userZoomingEnabled(!0),t.nodes().unlock(),this.bondDrawing=!1},activateBondDrawing:function(){var t=this.vis.cy;this.removeLasso(),t.edgehandles("enable"),this.bondDrawing=!0},removeLasso:function(){i(".cy").lasso().off("lassoBegin"),i(".cy").lasso().off("lassoDone"),i(".cy").lasso().unbind("lassoPoint")},checkMode:function(){this.bondDrawing&&this.vis.cy.edgehandles("enable")}});e.exports=a},{"../utils/lasso":104,"../utils/spectrum":106,backbone:10,jquery:26,tooltip:77,underscore:88}],110:[function(t,e,n){var r=t("backbone"),i=r.View.extend({events:{"click #perform":"drawInput"},initialize:function(t){this.struct=t.struct,this.el=t.el,this.el.className+="container-fluid",this.el.id="seqinput",this.listenTo(this.struct,"change:seq",this.updateSeq),this.listenTo(this.struct,"change:dotbr",this.updateDotbr)},render:function(){this.el.innerHTML+='<div class="col-md-11 seqin"><input type="text" class="alertfield" id="alert" readonly><input class="textbox" id="seqbox"><input class="textbox" id="dotbrbox"></div>',this.el.innerHTML+='<div class="col-md-1 seqin"><input class="button" id="perform" value="Display" readonly="readonly"></div>',document.getElementById("seqbox").value=this.struct.get("seq"),document.getElementById("dotbrbox").value=this.struct.get("dotbr"),this.el.style.paddingBottom="20px"},updateSeq:function(){document.getElementById("seqbox").value=this.struct.get("seq")},updateDotbr:function(){document.getElementById("dotbrbox").value=this.struct.get("dotbr")},drawInput:function(){var t=[document.getElementById("seqbox").value,document.getElementById("dotbrbox").value],e=this.checkInput(t);if(e.fine)this.struct.set("seq",t[0]),this.struct.set("dotbr",t[1]),this.struct.set("renderSwitch",!this.struct.get("renderSwitch"));else{var n=document.getElementById("alert");n&&(n.value=e.msg)}},checkInput:function(t){var e=!0,n="";return 0===t[0].length||0===t[1].length?(e=!1,n="Please enter a sequence!"):t[0].length!=t[1].length?(e=!1,n="Sequences must have equal length!"):t[1].match("^[().]+$")?t[0].match("^[ACGUTRYSWKMBDHVNacgutryswkmbdhvn-]+$")||(e=!1,n="Sequence may only contain IUPAC-characters!"):(e=!1,n='Dot-bracket sequence may only contain "(", ")", or "."!'),{fine:e,msg:n}}});e.exports=i},{backbone:10}],111:[function(t,e,n){var r=t("backbone"),i=t("cytoscape"),o=jQuery=t("jquery"),a=(t("../models/link"),t("./annoview")),s=(t("cytoscape-edgehandles")(i,o),t("../utils/style")),l=r.View.extend({initialize:function(t){this.el=t.el,this.struct=t.struct,this.resindex=t.resindex,this.annotate=!0,this.listenTo(this.struct,"change:renderSwitch",this.render)},render:function(){var t=this;t.innerHTML="",this.cy=i({container:t.el,style:(new s).getCytoscapeStyle(),elements:t.struct.toCytoscape(),layout:{name:"preset"},ready:function(){this.edges("[label='violation']").each(function(t,e){0===Object.keys(e._private.classes).length&&e.addClass("wcwccis")}),this.on("tapstart",function(t){this.$(".chosen").removeClass("chosen")}),this.on("tapdragover","node",function(t){var e=document.getElementById("seqbox");e&&this.id()<e.value.length&&(e.selectionStart=parseInt(this.id()),e.selectionEnd=parseInt(this.id())+1)}),this.on("tapdragout","node",function(t){var e=document.getElementById("seqbox");e&&this.id()<e.value.length&&(e.selectionEnd=-1)}),this.on("tap","edge",function(e){if(t.annotate&&"violation"===this.data("label")){var n=this._private.classes;for(var r in n)break;new a(r.substring(0,2),r.substring(2,4),r.substring(4,r.length+1),this,t.el)}}),t.resindex&&t.setResidueNodes(this)},userPanningEnabled:!0,userZoomingEnabled:!0}),this.cy.edgehandles({loopAllowed:function(t){return!1},complete:function(e,n,r){t.struct.get("links").newBond(e[0].id(),n[0].id())},enabled:!1,preview:!1}),this.trigger("rendered")},setResidueNodes:function(t){for(var e=1;e<this.struct.get("seq").length/5;e++)pos=this.getPos(this.struct,5*e-1),this.cy.add({group:"nodes",data:{id:(this.struct.get("seq").length+e).toString(),label:5*e+"",type:"index"},position:{x:pos[0],y:pos[1]},selected:!1,selectable:!1,locked:!1,grabbable:!0,css:{"background-color":"#fff"}}),t.add({group:"edges",data:{id:"index"+e,source:5*e-1,target:this.struct.get("seq").length+e,label:5*e,weight:4},css:{"line-color":"black",width:4}})},getPos:function(t,e){for(var n,r,i,o,a,s=50,l=!1,u=t.get("residues").at(e).get("x"),c=t.get("residues").at(e).get("y"),h=0;!l&&1>h;){n=h*Math.PI*2,r=Math.cos(n)*s+u,i=Math.sin(n)*s+c;for(var d=0;d<t.get("seq").length+1;d++){if(d===t.get("seq").length){l=!0;break}if(o=t.get("residues").at(d).get("x"),a=t.get("residues").at(d).get("y"),Math.pow(r-o,2)+Math.pow(i-a,2)<Math.pow(s,2))break}h+=.05}return[r,i]},changeBondType:function(t,e){if("canonical"===e)this.cy.$("#"+t)[0].style("line-color","#3A9AD9"),this.cy.$("#"+t)[0].style("width",4),this.cy.$("#"+t)[0]._private.classes={};else{if("non-canonical"!==e)throw new Error("Type must be 'canoncial' or 'non-canonical'");this.cy.$("#"+t)[0].style("line-color","red"),this.cy.$("#"+t)[0].style("width",4),this.cy.$("#"+t)[0].addClass("wcwccis")}},addNCBond:function(t,e){this.cy.add({group:"edges",data:{id:t+"to"+e,source:t.toString(),target:e.toString()},css:{"line-color":"red",width:4}}),this.cy.$("#"+t+"to"+e)[0].addClass("wcwccis")},setLeontisWesthof:function(t,e){var n=["wcwccis","wcwctrans","sgsgcis","sgsgtrans","hghgcis","hghgtrans","wcsgcis","wcsgtrans","sgwccis","sgwctrans","wchgcis","wchgtrans","hgwccis","hgwctrans","hgsgcis","hgsgtrans","sghgcis","sghgtrans"];if(-1===n.indexOf(e))throw new Error("LW-Class must be one of "+n);for(var r=Object.keys(this.cy.$("#"+t)[0]._private.classes),i=0;i<r.length;i++)this.cy.$("#"+t)[0].removeClass(r[i]);this.cy.$("#"+t)[0].addClass(e)}});e.exports=l},{"../models/link":98,"../utils/style":107,"./annoview":108,backbone:10,cytoscape:25,"cytoscape-edgehandles":24,jquery:26}],drawrnajs:[function(t,e,n){var r=t("backbone"),i=t("./models/structure"),o=t("./views/vispanel"),a=t("./views/seqpanel"),s=t("./views/optspanel"),l=r.View.extend({initialize:function(t){var e=t.layout||"naview";if(this.struct=new i(t.seq,t.dotbr,e),this.el=t.el,t.seqpanel){var n=document.createElement("div");this.el.appendChild(n),this.seq=new a({struct:this.struct,el:n})}var r=document.createElement("div");if(r.className="cy",this.el.appendChild(r),this.vis=new o({el:r,struct:this.struct,resindex:t.resindex}),t.optspanel){var l=document.createElement("div");this.el.appendChild(l),this.optns=new s({el:l,struct:this.struct,vis:this.vis}),this.vis.el.style.width="70%"}},render:function(){this.seq&&this.seq.render(),this.optns&&this.optns.render(),this.vis.render()}});e.exports=l},{"./models/structure":103,"./views/optspanel":109,"./views/seqpanel":110,"./views/vispanel":111,backbone:10}]},{},[]);