<tool id="FilterUncorrectabledPEfastq" name="Filter uncorrect PE reads from Rcorrector" version="0.1.0">
    <description>for paired-end reads only</description>
    <requirements>
        <requirement type="package" version="2.7">python</requirement>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
        ln -s '$input1' input_1.fq && ln -s '$input2' input_2.fq &&
        python '$__tool_directory__/FilterUncorrectabledPEfastq.py' 
        -1 input_1.fq -2 input_2.fq -o fixed 2>&1 > rmunfixable.log && cat rmunfixable.log
    ]]></command>
    <inputs>
        <param type="data" name="input1" label="FastQ file R1 (left)" format="fastq,fastqsanger" />
        <param type="data" name="input2" label="FastQ file R2 (right)" format="fastq,fastqsanger" />
    </inputs>
    <outputs>
        <data name="output1" format="fastq" label="${tool.name} on ${on_string} fixed R1" from_work_dir="fixed_input_1.fq">
        </data> 
        <data name="output2" format="fastq" label="${tool.name} on ${on_string}: fixed R2" from_work_dir="fixed_input_2.fq">
        </data> 
    </outputs>
	<tests>
        <test>
            <param name="input1" value="sample_read1.cor.fq" ftype="fastq"/>
            <param name="input2" value="sample_read2.cor.fq" ftype="fastq"/>
            <output name="output1" file="fixed_sample_read1.cor.fq" ftype="fastq"/>
            <output name="output2" file="fixed_sample_read2.cor.fq" ftype="fastq"/>
        </test>
    </tests>
    <help><![CDATA[
What is FilterUncorrectabledPEfastq?

It removes uncorrectable paired-end reads from a Rcorrector result file.

    ]]>
    </help>
    <citations>
        <citation type="bibtex">
            @misc{githubFilterUncorrectabledPEfastq,
            author = {Adam H. Freedman},
            year = {2016},
            title = {FilterUncorrectabledPEfastq},
            publisher = {GitHub},
            journal = {GitHub repository},
            url = {https://github.com/harvardinformatics/TranscriptomeAssemblyTools/blob/master/FilterUncorrectabledPEfastq.py}
            }
        </citation>
    </citations>
</tool>
