<tool id="biscot" name="BiSCoT" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="20.01">
    <description>Bionano scaffolding correction tool</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command detect_errors="exit_code"><![CDATA[
        biscot
        --cmap-ref '${cmap_ref}'
        --cmap-1 '${cmap_1}'
        --xmap-1 '${xmap_1}'
        --key $key
        --contigs $contigs
        #if $secondary_map.cmap_2
            --cmap-2 '${cmap_2}'
            --xmap-2 '${xmap_2}'
        #end if
        #if $xmap_2enz
            --xmap-2enz '${xmap_2enz}'
        #end if
        $aggressive
        $only_confirmed_pos
    ]]>    </command>
    <inputs>
        <param argument="--cmap-ref" type="data" format="cmap" label="Reference CMAP file" help="TODO" />
        <param argument="--cmap-1" type="data" format="cmap" label="Query CMAP file" help="TODO" />
        <param argument="--xmap-1" type="data" format="xml" label="XML configuration file" help="TODO" />
        <param argument="--contigs" type="data" format="fasta" label="Contigs file" help="Contigs file that was scaffolded by the Bionano scaffold" />
        <param argument="--key" type="data" format="tabular" label="Bionano key file" help="Bionano key file giving the correspondance between maps and contigs" />
        <section name="secondary_map" title="Secondary map">
            <param argument="--cmap-2" type="data" format="cmap" optional="true" label="Query CMAP file" help="TODO" />
            <param argument="--xmap-2" type="data" format="xml" optional="true" label="XML configuration file" help="TODO" />
        </section>
        <param argument="--xmap-2enz" type="data" format="xml" optional="true" label="Two enzymes XML configuration file" help="TODO" />
        <param argument="--aggressive" type="boolean" truevalue="--aggressive" falsevalue="" checked="false" 
            label="Enable BLAT phase" help="TODO" />
        <param argument="--only-confirmed-pos" type="boolean" truevalue="--only-confirmed-pos" falsevalue="" checked="false" 
            label="Only confirmed positions" help="To be retained, an alignment position in --xmap-1 or --xmap-2 has to be present in --xmap-2enz" />
    </inputs>
    <outputs>
        <data name="tmp" format="txt" label="${tool.name} on ${on_string}: temp"/>
  </outputs>
    <tests>

    </tests>
    <help><![CDATA[
    

    ]]>    </help>
    <expand macro="citations"/>
</tool>
