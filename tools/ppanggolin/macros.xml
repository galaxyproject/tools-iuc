<macros>
    <token name="@TOOL_VERSION@">2.2.4</token>
    <token name="@VERSION_SUFFIX@">1</token>
    <xml name="citation">
        <citations>
            <citation type="doi">10.1371/journal.pcbi.1007732</citation> 
            <citation type="doi">10.1093/bioinformatics/btaa792</citation> 
        </citations>
    </xml>
    <xml name="requirements">
        <requirements>
            <requirement type="package" version="@TOOL_VERSION@">ppanggolin</requirement>
        </requirements>
    </xml>
    <xml name="xrefs">
        <xrefs>
            <xref type="bio.tools">ppanggolin</xref>
        </xrefs>
    </xml>
    <token name="@ORGANISM_LIST@"><![CDATA[
        touch ./tmp_ppanggolin/organism_list/organism.list &&
        #set extension_input_files = ""
        #for $counter_input_files, $file in enumerate($genomes):
            #if $counter_input_files == 0:
            	#set extension_input_files = $file.ext
            #else:
                #if $file.ext != $extension_input_files:
                    #raise Exception("All the genome files must be of the same datatype, either all genbank files or all fasta files.")
            	#end if
            #end if
            
            #set base_name = re.sub('[^\w\-_\.]', '_', str($file.element_identifier))
            echo -e '${base_name}\t${file}' >> ./tmp_ppanggolin/organism_list/organism.list &&
        #end for
    ]]></token>
    <token name="@inputs_identity_value@">0.8</token>
    <token name="@inputs_identity_min@">0</token>
    <token name="@inputs_identity_max@">1</token>
    <token name="@inputs_coverage_value@">0.8</token>
    <token name="@inputs_coverage_min@">0</token>
    <token name="@inputs_coverage_max@">1</token>
    <token name="@inputs_soft_core_value@">0.95</token>
    <token name="@inputs_soft_core_min@">0</token>
    <token name="@inputs_soft_core_max@">1</token>
</macros>
