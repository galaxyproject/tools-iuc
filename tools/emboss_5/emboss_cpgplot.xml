<tool id="EMBOSS: cpgplot15" name="cpgplot"  version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@">
  <description>Plot CpG rich areas</description>
  <macros>
    <token name="@COMMAND@">cpgplot</token>
    <import>macros.xml</import>
  </macros>
  <expand macro="bio_tools" />
  <expand macro="requirements" />
  <expand macro="version_command" />
  <command><![CDATA[
    @COMMAND@
      -sequence '$input1'
      -window $window
      -minlen $minlen
      -minpc $minpc
      -outfile '$outfile'
      -graph png
      -goutfile goutfile
      -outfeat '$outfeat'
      -minoe $minoe
      -auto
  ]]></command>
  <inputs>
    <param name="input1" type="data" format="data" label="On query" />
    <param name="window" type="integer" value="100" label="Window size" />
    <param name="minlen" type="integer" value="200" label="Minimum length" />
    <param name="minoe" type="float" value="0.6" label="Minimum average observed to expected ratio" />
    <param name="minpc" type="float" value="50.0" label="Minimum average percentage of G plus C" />
  </inputs>
  <outputs>
    <data name="outfile" format="cpgplot" label="${tool.name} on ${on_string}"/>
    <data name="goutfile" format="png" from_work_dir="goutfile.1.png" label="${tool.name} on ${on_string}: png"/>
    <data name="outfeat" format="gff" label="${tool.name} on ${on_string}: gff"/>
  </outputs>
  <tests>
    <test>
      <param name="input1" value="U68037.fas" ftype="fasta"/>
      <output name="outfile" value="emboss_cpgplot.cpgplot"/>
      <output name="goutfile">
        <assert_contents>
          <has_size min="1"/>
        </assert_contents>
      </output>
      <output name="outfeat" value="emboss_cpgplot.gff" lines_diff="2"/>
    </test>
  </tests>
  <help>
@DOC_LINK@
  </help>
  <expand macro="citations" />
</tool>
