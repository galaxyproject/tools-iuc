<macros>
  <xml name="requirements">
    <requirements>
      <requirement type="package" version="1.3.2">scanpy</requirement>
      <requirement type="package" version="0.0.2">scanpy-scripts</requirement>
      <yield/>
    </requirements>
  </xml>
  <xml name="citations">
    <citations>
      <citation type="doi">10.1186/s13059-017-1382-0</citation>
      <citation type="bibtex">
	@misc{githubscanpy-scripts,
	author = {LastTODO, FirstTODO},
	year = {2018},
	title = {scanpy-scripts},
	publisher = {GitHub},
	journal = {GitHub repository},
	url = {https://github.com/ebi-gene-expression-group/scanpy-scripts},
      }</citation>
      <yield />
    </citations>
  </xml>
  <xml name="input_object_params">
    <param name="input_obj_file" type="data" format="h5" label="Input object in hdf5 format" argument="--input-object-file"/>
    <param name="input_format" type="select" argument="--input-format" hidden="true">
      <option value="anndata" selected="true">AnnData format hdf5</option>
      <option value="loom">Loom format hdf5, current support is incomplete</option>
    </param> 
  </xml>
  <xml name="output_object_params">
    <param name="output_format" type="select" argument="--output-format" hidden="true">
      <option value="anndata" selected="true">AnnData format hdf5</option>
      <option value="loom">Loom format hdf5, current support is defective</option>
    </param> 
  </xml>
  <xml name="output_plot_params">
    <param name="color_by" type="text" label="Color by attributes, comma separated strings" value="n_genes" argument="--color"/>
    <param name="groups" type="text" label="Restrict plotting to named groups, comma separated strings" optional="ture" argument="--groups"/>
    <param name="projection" type="select" label="Plot projection" argument="--projection">
      <option value="2d" selected="true">2D</option>
      <option value="3d">3D</option>
    </param>
    <param name="components" type="text" label="Components to plot, comma separated integers" value="1,2" argument="--components"/>
    <param name="palette" type="text" label="Palette" optional="true" argument="--palette"/>
    <param name="use_raw" type="boolean" label="Use raw attributes if present" checked="false" argument="--use-raw"/>
    <param name="show_edges" type="boolean" label="Show edges" checked="false" argument="--edges"/>
    <param name="show_arrows" type="boolean" label="Show arrows" checked="false" argument="--arrows"/>
    <param name="color_order" type="boolean" label="Element with high color-by value plot on top" checked="true" argument="--no-sort-order"/>
    <param name="omit_frame" type="boolean" label="Show frame" checked="false" argument="--frameoff"/>
  </xml>
</macros>
