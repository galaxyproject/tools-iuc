<tool id="test" name="Test" version="1.3.3+galaxy1">
    <description>with test</description>
    <macros>
        <token name="@CMD_level_2@"><![CDATA[
with open("$output", "w") as f:
    f.write("test")
]]></token>
<token name="@CMD_level_1@"><![CDATA[
@CMD_level_2@
]]></token>
    </macros>
    <command detect_errors="exit_code"><![CDATA[
          python $script_file
      ]]></command>
    <configfiles>
        <configfile name="script_file"><![CDATA[
@CMD_level_1@

#if $test1
    #if $test2
    @CMD_level_1@
    #end if
#end if

@CMD_level_1@
]]></configfile>
    </configfiles>
    <inputs>
        <param name="test1" type="boolean" truevalue="true" falsevalue="false" label="test1"/> 
        <param name="test2" type="boolean" truevalue="true" falsevalue="false" label="test2"/> 
    </inputs>
    <outputs>
        <data name="output" format="txt" label="Test"/>
    </outputs>
    <tests>
    </tests>
    <help><![CDATA[
 ]]></help>
    <citations>
    </citations>
</tool>
