<tool id="mothur_get_sabund" name="Get.sabund" version="@WRAPPER_VERSION@.0">
    <description>Get sabund from a otu list or rabund</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements" />

    <command interpreter="python"><![CDATA[
        mothur_wrapper.py 
        --cmd='get.sabund'
        --result='^mothur.\S+\.logfile$:'$logfile,'^\S+\.sabund$:'$sabund
        --outputdir='$logfile.extra_files_path'
        #if isinstance($otu.datatype, $__app__.datatypes_registry.get_datatype_by_extension('list').__class__):
            --list="$otu"
        #elif isinstance($otu.datatype, $__app__.datatypes_registry.get_datatype_by_extension('rabund').__class__):
            --rabund="$otu"
        #end if
        #if $label.__str__ != "None" and len($label.__str__) > 0:
            --label="$label"
        #end if
        #if $count.__str__ != "None" and len($count.__str__) > 0:
            --count="$count"
        #end if
    ]]></command>
    <inputs>
        <param name="otu" type="data" format="list,mothur.rabund" label="list,rabund - List or Rabund"/>
        <param name="label" type="select" multiple="true" label="label - select OTU distance labels" help="(all used if none are selected)">
            <expand macro="labeloptions"/>
        </param>
        <param name = "count" type="data" format="mothur.count_table" optional="true" help ="If your list file contains only the unique sequence names because you ran cluster with a count file, be sure to include the count file."/>

    </inputs>
    <outputs>
        <data format="html" name="logfile" label="${tool.name} on ${on_string}: logfile" />
        <data format="mothur.sabund" name="sabund" label="${tool.name} on ${on_string}: sabund (Species Abundance)"/>
    </outputs>
    <tests>
    </tests>
    <help>
        <![CDATA[

@MOTHUR_OVERVIEW@


**Command Documenation**

The get.sabund_ command generates an sabund_ file from a list_ or rabund_ file.

.. _sabund: http://www.mothur.org/wiki/Sabund_file
.. _list: http://www.mothur.org/wiki/List_file
.. _rabund: http://www.mothur.org/wiki/Rabund_file
.. _get.sabund: http://www.mothur.org/wiki/Get.sabund

]]>
    </help>
    <expand macro="citations" />
</tool>
