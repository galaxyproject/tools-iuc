<tool id="hal_hal2paf" name="hal2paf" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@">
    <description>exports pairwise alignment to PAF</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/> 
    <expand macro="stdio"/>
    <command detect_errors="aggressive"><![CDATA[
        hal2paf 
            #if $inputFormat == "mmap":
                --format 'mmap'
            #end if
            #if $rootGenome:
                --rootGenome '$rootGenome'
            #end if
            $onlySequenceNames
            '$input_hal' > '$out_paf'
    ]]></command>
    <inputs>
        <expand macro="input_hal"/>        
        <expand macro="hal_backend_format"/>   
        <param argument="--rootGenome" type="text" value="" optional="true" label="Root genome" help="Process only genomes belonging to the subtree rooted at the root genome">
            <expand macro="sanitizer_default"/>
            <expand macro="validator_trim"/>
        </param>
        <param argument="--onlySequenceNames" type="boolean" truevalue="--onlySequenceNames" falsevalue="" checked="false" label="Only sequence names" help="Use only sequence names for output names. By default, the UCSC convention of Genome.Sequence is used"/>  
    </inputs>
    <outputs>
        <data format="paf" label="${tool.name} on ${on_string}: PAF" name="out_paf"/>
    </outputs>
    <tests>
        <test expect_num_outputs="1">
            <param name="input_hal" value="halTest.hal"/>
            <output name="out_paf" md5="1d75051a104e3409c70ecb09866c952a" ftype="paf"/>
        </test>
        <test expect_num_outputs="1">
            <param name="input_hal" value="halTest.hal"/>
            <param name="rootGenome" value="Genome_0"/>
            <param name="onlySequenceNames" value="true"/>
            <output name="out_paf" md5="d6b9601e5247ce6dd93df2a732acc642" ftype="paf"/>
        </test>
    </tests>
    <help><![CDATA[
hal2paf exports each branch of an input HAL file as a pairwise alignment in PAF format. 
    ]]></help>
    <expand macro="citation"/>
    <expand macro="creator"/>
</tool>