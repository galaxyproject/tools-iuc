<tool id="extract_aln_ends.py" name="Extract alignment ends." version="1.0.0">
    <description>from SAM or BAM.</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <expand macro="stdio"/>
    <command>
        <![CDATA[
extract_aln_ends.py
#if $positional_1 and $positional_1 is not None:
$positional_1
#end if

> $default]]>
    </command>
    <inputs>
        <param area="false" label="Alignments in SAM or BAM format." name="positional_1" type="data" format="sam,bam"/>
    </inputs>
    <outputs>
        <data format="bed" hidden="false" name="default"/>
    </outputs>
    <tests>
        <test>
            <param name="positional_1" value="twomates.sam"/>
            <output name="default" file="tworeads_aln_ends.bed"/>
        </test>
    </tests>
    <help>
        <![CDATA[
Extract alignment ends from bam file.

The resulting bed file contains the outer coordinates of the alignments. The bed
name field is set to the read id and the score field is set to the edit distance
of the alignment. The crosslinked nucleotide is one nt upstream of the 5'-end of
the bed entries.

This tool only reports results for alignments that are properly aligned in FR
("forward-reverse") direction.

Input:

* bam file containing alignments (paired-end sequencing)

Output:

* bed6 file containing outer coordinates (sorted by read id)
]]>
    </help>
    <expand macro="citations"/>
</tool>
