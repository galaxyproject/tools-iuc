<tool id="igblastn" name="igblastn against V regions fasta (FREE NCBI ~old~ germlines)" version="0.1.0" python_template_version="3.8">
    <requirements>
        <requirement type="package" version="1.15.0">igblast</requirement>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
        
        igblastn -germline_db_V '$__tool_directory__/tool-data/germlines/human_gl_V.old' 
                 -germline_db_J '$__tool_directory__/tool-data/germlines/human_gl_J.old' 
                 -germline_db_D '$__tool_directory__/tool-data/germlines/human_gl_D.old' 
                 -query '$input_fastq' > '$output_csv'

]]></command>
    <inputs>
        <param type="data" name="input_fastq" format="fastq" />
    </inputs>
    <outputs>
        <data name="output_csv" format="txt" /> <!--from_work_dir="test-data/igblast_output.csv" />-->
    </outputs>
    <tests>
        <test>
            <param name="input_fastq" value="MS12_collapse-unique.fastq"/>
            <output name="output_csv" file="igblast_output.txt"/>
        </test>
    </tests>
    <help><![CDATA[
        USAGE
          igblastn [-h] [-help] [-germline_db_V germline_database_name]
            [-num_alignments_V int_value] [-germline_db_V_seqidlist filename]
            [-germline_db_D germline_database_name] [-num_alignments_D int_value]
            [-germline_db_D_seqidlist filename]
            [-germline_db_J germline_database_name] [-num_alignments_J int_value]
            [-germline_db_J_seqidlist filename] [-auxiliary_data filename]
            [-min_D_match min_D_match] [-V_penalty V_penalty] [-D_penalty D_penalty]
            [-J_penalty J_penalty] [-num_clonotype num_clonotype]
            [-clonotype_out clonotype_out] [-allow_vdj_overlap]
            [-organism germline_origin] [-domain_system domain_system]
            [-ig_seqtype sequence_type] [-focus_on_V_segment] [-extend_align5end]
            [-min_V_length Min_V_Length] [-min_J_length Min_J_Length]
            [-show_translation] [-db database_name] [-dbsize num_letters]
            [-gilist filename] [-seqidlist filename] [-negative_gilist filename]
            [-negative_seqidlist filename] [-taxids taxids] [-negative_taxids taxids]
            [-taxidlist filename] [-negative_taxidlist filename]
            [-entrez_query entrez_query] [-db_soft_mask filtering_algorithm]
            [-db_hard_mask filtering_algorithm] [-subject subject_input_file]
            [-subject_loc range] [-query input_file] [-sra accession]
            [-out output_file] [-evalue evalue] [-word_size int_value]
            [-gapopen open_penalty] [-gapextend extend_penalty]
            [-qcov_hsp_perc float_value] [-max_hsps int_value]
            [-xdrop_ungap float_value] [-xdrop_gap float_value]
            [-xdrop_gap_final float_value] [-searchsp int_value]
            [-sum_stats bool_value] [-ungapped] [-culling_limit int_value]
            [-best_hit_overhang float_value] [-best_hit_score_edge float_value]
            [-subject_besthit] [-window_size int_value]
            [-off_diagonal_range int_value] [-lcase_masking] [-query_loc range]
            [-strand strand] [-parse_deflines] [-outfmt format] [-show_gis]
            [-num_descriptions int_value] [-num_alignments int_value]
            [-line_length line_length] [-sorthits sort_hits] [-sorthsps sort_hsps]
            [-max_target_seqs num_sequences] [-num_threads int_value] [-remote]
            [-version]

        DESCRIPTION
           BLAST for Ig and TCR sequences
    ]]></help>
    <citations>
        <citation type="bibtex">
@misc{githubigblast,
  author = {LastTODO, FirstTODO},
  year = {TODO},
  title = {igblast},
  publisher = {GitHub},
  journal = {GitHub repository},
  url = {https://github.com/ncbi/igblast},
}</citation>
    </citations>
</tool>
