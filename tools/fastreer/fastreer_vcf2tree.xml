<tool id="fastreer_vcf2tree" name="VCF2TREE" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@">
    <description>Newick tree from VCF files</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <expand macro="version_command"/>
    <command detect_errors="exit_code"><![CDATA[
        fastreeR VCF2TREE 
        #for $f in $input_vcfs:
            -i '$f'
        #end for
        -o '$output'
        -b $bootstraps
        --threads \${GALAXY_SLOTS:-1}
        --verbose
    ]]></command>
    <inputs>
        <param name="input_vcfs" type="data" format="vcf,vcf_bgzip" multiple="true" label="VCF input files" help="VCF input files"/>
        <param name="bootstraps" type="integer" min="0" value="0" label="Number of bootstrap replicates" help="Number of bootstrap replicates"/>
    </inputs>
    <outputs>
        <data name="output" format="newick" label="Output Tree"/>
    </outputs>
    <tests>
        <test>
            <param name="input_vcfs" value="test.vcf"/>
            <param name="bootstraps" value="0"/>
            <output name="output" file="expected.vcf.nwk"/>
        </test>
    </tests>
    <help><![CDATA[
        Computes a phylogenetic tree from one or more VCF files using neighbor-joining.
        Optional parameter for bootsrapping support calculation.
    ]]></help>
    <expand macro="citations"/>
</tool>
