<macros>
    <token name="@VERSION@">0.39.2.1</token>
    <token name="@GALAXY_VERSION@">galaxy0</token>
    <xml name="requirements">
        <requirements>
            <requirement type="package" version="0.39.2">bustools</requirement>
        </requirements>
    </xml>
    <xml name="citations">
        <citations>
            <citation type="doi">10.1101/472571</citation>
        </citations>
    </xml>
    <token name="@SORT@"><![CDATA[
bustools sort -o out.sorted.bus
'${file}'
    ]]>
    </token>
    <token name="@TEXT@"><![CDATA[
bustools text -o out.text.tsv '${file}'
    ]]>
    </token>
    <token name="@CORRECT@"><![CDATA[
bustools correct -o out.corrected.bus
#if $commandselect.whitelist:
    -w '${commandselect.whitelist}'
#end if
'${file}'
    ]]>
    </token>
    <token name="@COUNT@"><![CDATA[
bustools count -o out.count.bus
#if $commandselect.genemap:
    -g '${commandselect.genemap}'
#end if
#if $commandselect.ecmap:
    -e '${commandselect.ecmap}'
#end if
#if $commandselect.txtnames:
    -t '${commandselect.txtnames}'
#end if
#if $commandselect.genecounts:
    --genecounts
#end if
'${file}'
    ]]>
    </token>
    <token name="@CAPTURE@"><![CDATA[
mkdir out.capture &&
bustools capture -o out.capture
#if $commandselect.capture:
    -c '${commandselect.capture}'
#end if
#if $commandselect.ecmap:
    -e '${commandselect.ecmap}'
#end if
#if $commandselect.txtnames:
    -t '${commandselect.txtnames}'
#end if
'${file}'
    ]]>
    </token>
    <token name="@help@"><![CDATA[
bustools is a program for manipulating BUS files for single cell RNA-Seq datasets. bustools works with BUS files which can be generated efficiently from raw sequencing data, e.g. using kallisto.

There are currently 5 commands in bustools:

* **sort:**       Sort bus file by barcodes and UMI

* **text:**       Output as tab separated text file

* **correct:**    Error correct bus files

* **count:**      Generate count matrices from bus file

* **capture:**    Capture reads mapping to a transcript capture list

    ]]>
    </token>
</macros>
