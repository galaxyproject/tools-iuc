<tool id="tooldistillator" name="ToolDistillator" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@">
    <description>
        Extract information from output files of specific tools and expose it as JSON files
    </description>
    <macros>
        <import>macro.xml</import>
    </macros>
    <expand macro="biotools"/>
    <expand macro="requirements"/>
    <expand macro="version_command"/>
    <command detect_errors="aggressive"><![CDATA[
#import re
set -x pipefail;

mkdir "tooldistillator_folder" &&

#set $counter = len($tool_section.tools)-1
    #for $i, $tool in enumerate( $tool_section.tools )
        #if $tool.select_tool.tool_list == 'staramr':
ln -s '$tool.select_tool.input' 'resfinder.tsv' &&
            #if $tool.select_tool.mlst_file_path
ln -s '$tool.select_tool.mlst_file_path' 'mlst.tsv' &&
            #end if
            #if $tool.select_tool.plasmidfinder_file_path
ln -s '$tool.select_tool.plasmidfinder_file_path' 'plasmidfinder.tsv' &&
            #end if
            #if $tool.select_tool.pointfinder_file_path
ln -s '$tool.select_tool.pointfinder_file_path' 'pointfinder.tsv' &&
            #end if
            #if $tool.select_tool.setting_file_path
ln -s '$tool.select_tool.setting_file_path' 'setting.tsv' &&
            #end if
        #end if

tooldistillator
    $tool.select_tool.tool_list
    --hid '$tool.select_tool.input.hid'
        #if $tool.select_tool.tool_list == 'staramr':
    'resfinder.tsv'
        #else
    '$tool.select_tool.input'
        #end if
        #if $tool.select_tool.origin.origin == 'true':
    --analysis_software_version '$tool.select_tool.origin.analysis_software_version'
        #else
    --analysis_software_version '$tool.select_tool.input.creating_job.tool_version'
        #end if
    --reference_database_version '$tool.select_tool.reference_database_version'
        #if $tool.select_tool.tool_list == 'amrfinderplus':
            #if $tool.select_tool.point_mutation_report_path
    --point_mutation_report_path '$tool.select_tool.point_mutation_report_path'
    --point_mutation_report_hid '$tool.select_tool.point_mutation_report_path.hid'
            #end if
            #if $tool.select_tool.nucleotide_sequence_path
    --nucleotide_sequence_path '$tool.select_tool.nucleotide_sequence_path'
    --nucleotide_sequence_hid '$tool.select_tool.nucleotide_sequence_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'bakta'
            #if $tool.select_tool.annotation_tabular_path
    --annotation_tabular_path '$tool.select_tool.annotation_tabular_path'
    --annotation_tabular_hid '$tool.select_tool.annotation_tabular_path.hid'
            #end if
            #if $tool.select_tool.annotation_genbank_path
    --annotation_genbank_path '$tool.select_tool.annotation_genbank_path'
    --annotation_genbank_hid '$tool.select_tool.annotation_genbank_path.hid'
            #end if
            #if $tool.select_tool.annotation_embl_path
    --annotation_embl_path '$tool.select_tool.annotation_embl_path'
    --annotation_embl_hid '$tool.select_tool.annotation_embl_path.hid'
            #end if
            #if $tool.select_tool.contig_sequences_path
    --contig_sequences_path '$tool.select_tool.contig_sequences_path'
    --contig_sequences_hid '$tool.select_tool.contig_sequences_path.hid'
            #end if
            #if $tool.select_tool.nucleotide_annotation_path
    --nucleotide_annotation_path '$tool.select_tool.nucleotide_annotation_path'
    --nucleotide_annotation_hid '$tool.select_tool.nucleotide_annotation_path.hid'
            #end if
            #if $tool.select_tool.amino_acid_annotation_path
    --amino_acid_annotation_path '$tool.select_tool.amino_acid_annotation_path'
    --amino_acid_annotation_hid '$tool.select_tool.amino_acid_annotation_path.hid'
            #end if
            #if $tool.select_tool.summary_result_path
    --summary_result_path '$tool.select_tool.summary_result_path'
    --summary_result_hid '$tool.select_tool.summary_result_path.hid'
            #end if
            #if $tool.select_tool.gff_file_path
    --gff_file_path '$tool.select_tool.gff_file_path'
    --gff_file_hid '$tool.select_tool.gff_file_path.hid'
            #end if
            #if $tool.select_tool.hypothetical_protein_path
    --hypothetical_protein_path '$tool.select_tool.hypothetical_protein_path'
    --hypothetical_protein_hid '$tool.select_tool.hypothetical_protein_path.hid'
            #end if
            #if $tool.select_tool.hypothetical_tabular_path
    --hypothetical_tabular_path '$tool.select_tool.hypothetical_tabular_path'
    --hypothetical_tabular_hid '$tool.select_tool.hypothetical_tabular_path.hid'
            #end if
            #if $tool.select_tool.plot_file_path
    --plot_file_path '$tool.select_tool.plot_file_path'
    --plot_file_hid '$tool.select_tool.plot_file_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'bandage':
            #if $tool.select_tool.bandage_plot_path
    --bandage_plot_path '$tool.select_tool.bandage_plot_path'
    --bandage_plot_hid '$tool.select_tool.bandage_plot_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'bwa':
            #if $tool.select_tool.paired_second_file_path
    --paired_second_file_path '$tool.select_tool.paired_second_file_path'
    --paired_second_file_hid '$tool.select_tool.paired_second_file_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'bracken':
            #if $tool.select_tool.kraken_report_path
    --kraken_report_path '$tool.select_tool.kraken_report_path'
    --kraken_report_hid '$tool.select_tool.kraken_report_path.hid'
            #end if
    --threshold '$tool.select_tool.threshold'
    --read_len '$tool.select_tool.read_len'
    --level '$tool.select_tool.level'
        #elif $tool.select_tool.tool_list == 'checkm2':
            #if $tool.select_tool.diamond_results_path
    --diamond_results_path '$tool.select_tool.diamond_results_path'
    --diamond_results_hid '$tool.select_tool.diamond_results_path.hid'
            #end if
            #if $tool.select_tool.protein_zip_path
    --protein_zip_path '$tool.select_tool.protein_zip_path'
    --protein_zip_hid '$tool.select_tool.protein_zip_path.hid'
            #end if
            #if $tool.select_tool.checkm2_log_path
    --checkm2_log_path '$tool.select_tool.checkm2_log_path'
    --checkm2_log_hid '$tool.select_tool.checkm2_log_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'concoct':
            #if $tool.select_tool.fasta_bin_zip_folder_path
    --fasta_bin_zip_folder_path '$tool.select_tool.fasta_bin_zip_folder_path'
    --fasta_bin_zip_folder_hid '$tool.select_tool.fasta_bin_zip_folder_path.hid'
            #end if
            #if $tool.select_tool.contigs_cut_up_file_path
    --contigs_cut_up_file_path '$tool.select_tool.contigs_cut_up_file_path'
    --contigs_cut_up_file_hid '$tool.select_tool.contigs_cut_up_file_path.hid'
            #end if 
            #if $tool.select_tool.coordinates_cut_up_file_path
    --contigs_cut_up_file_path '$tool.select_tool.coordinates_cut_up_file_path'
    --coordinates_cut_up_file_hid '$tool.select_tool.coordinates_cut_up_file_path.hid'
            #end if   
            #if $tool.select_tool.coverage_table_file_path
    --coverage_table_file_path '$tool.select_tool.coverage_table_file_path'
    --coverage_table_file_hid '$tool.select_tool.coverage_table_file_path.hid'
            #end if
            #if $tool.select_tool.log_file_path
    --log_file_path '$tool.select_tool.log_file_path'
    --log_file_hid '$tool.select_tool.log_file_path.hid'
            #end if                                            
        #elif $tool.select_tool.tool_list == 'coreprofiler':
            #if $tool.select_tool.profiles_json_path
    --profiles_json_path '$tool.select_tool.profiles_json_path'
    --profiles_json_hid '$tool.select_tool.profiles_json_path.hid'
            #end if
            #if $tool.select_tool.alleles_fna_path
    --alleles_fna_path '$tool.select_tool.alleles_fna_path'
    --alleles_fna_hid '$tool.select_tool.alleles_fna_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'coverm':
            #if $tool.select_tool.dereplication_cluster_definition_path
    --dereplication_cluster_definition_path '$tool.select_tool.dereplication_cluster_definition_path'
    --dereplication_cluster_definition_hid '$tool.select_tool.dereplication_cluster_definition_path.hid'
            #end if
            #if $tool.select_tool.dereplication_representative_fasta_zip_path
    --dereplication_representative_fasta_zip_path '$tool.select_tool.dereplication_representative_fasta_zip_path'
    --dereplication_representative_fasta_zip_hid '$tool.select_tool.dereplication_representative_fasta_zip_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'dastool':
            #if $tool.select_tool.fasta_bin_zip_folder_path
    --fasta_bin_zip_folder_path '$tool.select_tool.fasta_bin_zip_folder_path'
    --fasta_bin_zip_folder_hid '$tool.select_tool.fasta_bin_zip_folder_path.hid'
            #end if
            #if $tool.select_tool.contig_to_bin_file_path
    --contig_to_bin_file_path '$tool.select_tool.contig_to_bin_file_path'
    --contig_to_bin_file_hid '$tool.select_tool.contig_to_bin_file_path.hid'
            #end if
            #if $tool.select_tool.quality_and_completness_file_path
    --quality_and_completness_file_path '$tool.select_tool.quality_and_completness_file_path'
    --quality_and_completness_file_hid '$tool.select_tool.quality_and_completness_file_path.hid'
            #end if       
            #if $tool.select_tool.protein_sequences_file_path
    --protein_sequences_file_path '$tool.select_tool.protein_sequences_file_path'
    --protein_sequences_file_hid '$tool.select_tool.protein_sequences_file_path.hid'
            #end if       
            #if $tool.select_tool.unbinned_sequences_file_path
    --unbinned_sequences_file_path '$tool.select_tool.unbinned_sequences_file_path'
    --unbinned_sequences_file_hid '$tool.select_tool.unbinned_sequences_file_path.hid'
            #end if 
            #if $tool.select_tool.log_file_path
    --log_file_path '$tool.select_tool.log_file_path'
    --log_file_hid '$tool.select_tool.log_file_path.hid'
            #end if                                             
        #elif $tool.select_tool.tool_list == 'deeparg':
            #if $tool.select_tool.report_arg_merged_path
    --report_ARG_merged_path '$tool.select_tool.report_arg_merged_path'
    --report_ARG_merged_hid '$tool.select_tool.report_arg_merged_path.hid'
            #end if
            #if $tool.select_tool.report_arg_merged_quant_subtype_path
    --report_ARG_merged_quant_subtype_path '$tool.select_tool.report_arg_merged_quant_subtype_path'
    --report_ARG_merged_quant_subtype_hid '$tool.select_tool.report_arg_merged_quant_subtype_path.hid'
            #end if
            #if $tool.select_tool.report_arg_merged_quant_type_path
    --report_ARG_merged_quant_type_path '$tool.select_tool.report_arg_merged_quant_type_path'
    --report_ARG_merged_quant_type_hid '$tool.select_tool.report_arg_merged_quant_type_path.hid'
            #end if
            #if $tool.select_tool.report_potential_arg_path
    --report_potential_ARG_path '$tool.select_tool.report_potential_arg_path'
    --report_potential_ARG_hid '$tool.select_tool.report_potential_arg_path.hid'
            #end if  
            #if $tool.select_tool.sequence_clean_file_path
    --sequence_clean_file_path '$tool.select_tool.sequence_clean_file_path'
    --sequence_clean_file_hid '$tool.select_tool.sequence_clean_file_path.hid'
            #end if
            #if $tool.select_tool.bam_clean_file_path
    --bam_clean_file_path '$tool.select_tool.bam_clean_file_path'
    --bam_clean_file_hid '$tool.select_tool.bam_clean_file_path.hid'
            #end if
            #if $tool.select_tool.sam_clean_file_path
    --sam_clean_file_path '$tool.select_tool.sam_clean_file_path'
    --sam_clean_file_hid '$tool.select_tool.sam_clean_file_path.hid'
            #end if     
            #if $tool.select_tool.bam_clean_sorted_file_path
    --bam_clean_sorted_file_path '$tool.select_tool.bam_clean_sorted_file_path'
    --bam_clean_sorted_file_hid '$tool.select_tool.bam_clean_sorted_file_path.hid'
            #end if
            #if $tool.select_tool.daa_clean_align_file_path
    --daa_clean_align_file_path '$tool.select_tool.daa_clean_align_file_path'
    --daa_clean_align_file_hid '$tool.select_tool.daa_clean_align_file_path.hid'
            #end if  
        #elif $tool.select_tool.tool_list == 'drep':
            #if $tool.select_tool.fasta_dereplicated_bin_zip_folder_path
    --fasta_dereplicated_bin_zip_folder_path '$tool.select_tool.fasta_dereplicated_bin_zip_folder_path'
    --fasta_dereplicated_bin_zip_folder_hid '$tool.select_tool.fasta_dereplicated_bin_zip_folder_path.hid'
            #end if
            #if $tool.select_tool.bdb_file_path
    --bdb_file_path '$tool.select_tool.bdb_file_path'
    --bdb_file_hid '$tool.select_tool.bdb_file_path.hid'
            #end if  
            #if $tool.select_tool.cdb_file_path
    --cdb_file_path '$tool.select_tool.cdb_file_path'
    --cdb_file_hid '$tool.select_tool.cdb_file_path.hid'
            #end if
            #if $tool.select_tool.chdb_file_path
    --chdb_file_path '$tool.select_tool.chdb_file_path'
    --chdb_file_hid '$tool.select_tool.chdb_file_path.hid'
            #end if
            #if $tool.select_tool.mdb_file_path
    --mdb_file_path '$tool.select_tool.mdb_file_path'
    --mdb_file_hid '$tool.select_tool.mdb_file_path.hid'
            #end if
            #if $tool.select_tool.ndb_file_path
    --ndb_file_path '$tool.select_tool.ndb_file_path'
    --ndb_file_hid '$tool.select_tool.ndb_file_path.hid'
            #end if
            #if $tool.select_tool.sdb_file_path
    --sdb_file_path '$tool.select_tool.sdb_file_path'
    --sdb_file_hid '$tool.select_tool.sdb_file_path.hid'
            #end if    
            #if $tool.select_tool.wdb_file_path
    --wdb_file_path '$tool.select_tool.wdb_file_path'
    --wdb_file_hid '$tool.select_tool.wdb_file_path.hid'
            #end if         
            #if $tool.select_tool.winning_genomes_pdf_path
    --winning_genomes_pdf_path '$tool.select_tool.winning_genomes_pdf_path'
    --winning_genomes_pdf_hid '$tool.select_tool.winning_genomes_pdf_path.hid'
            #end if
            #if $tool.select_tool.cluster_scoring_pdf_path
    --cluster_scoring_pdf_path '$tool.select_tool.cluster_scoring_pdf_path'
    --cluster_scoring_pdf_hid '$tool.select_tool.cluster_scoring_pdf_path.hid'
            #end if
            #if $tool.select_tool.clustering_scatterplots_pdf_path
    --clustering_scatterplots_pdf_path '$tool.select_tool.clustering_scatterplots_pdf_path'
    --clustering_scatterplots_pdf_hid '$tool.select_tool.clustering_scatterplots_pdf_path.hid'
            #end if
            #if $tool.select_tool.primary_clustering_dendrogram_pdf_path
    --primary_clustering_dendrogram_pdf_path '$tool.select_tool.primary_clustering_dendrogram_pdf_path'
    --primary_clustering_dendrogram_pdf_hid '$tool.select_tool.primary_clustering_dendrogram_pdf_path.hid'
            #end if
            #if $tool.select_tool.secondary_clustering_dendrogram_pdf_path
    --secondary_clustering_dendrogram_pdf_path '$tool.select_tool.secondary_clustering_dendrogram_pdf_path'
    --secondary_clustering_dendrogram_pdf_hid '$tool.select_tool.secondary_clustering_dendrogram_pdf_path.hid'
            #end if
            #if $tool.select_tool.secondary_clustering_mds_pdf_path
    --secondary_clustering_mds_pdf_path '$tool.select_tool.secondary_clustering_mds_pdf_path'
    --secondary_clustering_mds_pdf_hid '$tool.select_tool.secondary_clustering_mds_pdf_path.hid'
            #end if
            #if $tool.select_tool.log_file_path
    --log_file_path '$tool.select_tool.log_file_path'
    --log_file_hid '$tool.select_tool.log_file_path.hid'
            #end if                                                                                                                                                                       
        #elif $tool.select_tool.tool_list == 'eggnogmapper':
            #if $tool.select_tool.seed_orthologs_report_path
    --seed_orthologs_report_path '$tool.select_tool.seed_orthologs_report_path'
    --seed_orthologs_report_hid '$tool.select_tool.seed_orthologs_report_path.hid'
            #end if
            #if $tool.select_tool.orthologs_report_path
    --orthologs_report_path '$tool.select_tool.orthologs_report_path'
    --orthologs_report_hid '$tool.select_tool.orthologs_report_path.hid'
            #end if                   
        #elif $tool.select_tool.tool_list == 'fastp':
            #if $tool.select_tool.trimmed_forward_R1_path
    --trimmed_forward_R1_path '$tool.select_tool.trimmed_forward_R1_path'
    --trimmed_forward_R1_hid '$tool.select_tool.trimmed_forward_R1_path.hid'
            #end if
            #if $tool.select_tool.trimmed_reverse_R2_path
    --trimmed_reverse_R2_path '$tool.select_tool.trimmed_reverse_R2_path'
    --trimmed_reverse_R2_hid '$tool.select_tool.trimmed_reverse_R2_path.hid'
            #end if
            #if $tool.select_tool.html_report_path
    --html_report_path '$tool.select_tool.html_report_path'
    --html_report_hid '$tool.select_tool.html_report_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'fastqc':
            #if $tool.select_tool.html_report_path
    --html_report_path '$tool.select_tool.html_report_path'
    --html_report_hid '$tool.select_tool.html_report_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'flye':
            #if $tool.select_tool.contig_graph_path
    --contig_graph_path '$tool.select_tool.contig_graph_path'
    --contig_graph_hid '$tool.select_tool.contig_graph_path.hid'
            #end if
            #if $tool.select_tool.tsv_file_path
    --tsv_file_path '$tool.select_tool.tsv_file_path'
    --tsv_file_hid '$tool.select_tool.tsv_file_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'groot':
            #if $tool.select_tool.bam_file_path
    --bam_file_path '$tool.select_tool.bam_file_path'
    --bam_file_hid '$tool.select_tool.bam_file_path.hid'
            #end if
            #if $tool.select_tool.groot_log_path
    --groot_log_path '$tool.select_tool.groot_log_path'
    --groot_log_hid '$tool.select_tool.groot_log_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'gtdbtk':
            #if $tool.select_tool.classify_directory_path
    --classify_directory_path '$tool.select_tool.classify_directory_path'
    --classify_directory_hid '$tool.select_tool.classify_directory_path.hid'
            #end if
            #if $tool.select_tool.align_directory_path
    --align_directory_path '$tool.select_tool.align_directory_path'
    --align_directory_hid '$tool.select_tool.align_directory_path.hid'
            #end if        
            #if $tool.select_tool.identify_directory_path
    --identify_directory_path '$tool.select_tool.identify_directory_path'
    --identify_directory_hid '$tool.select_tool.identify_directory_path.hid'
            #end if
            #if $tool.select_tool.log_file_path
    --log_file_path '$tool.select_tool.log_file_path'
    --log_file_hid '$tool.select_tool.log_file_path.hid'
            #end if                            
        #elif $tool.select_tool.tool_list == 'integronfinder2':
            #if $tool.select_tool.summary_file_path
    --summary_file_path '$tool.select_tool.summary_file_path'
    --summary_file_hid '$tool.select_tool.summary_file_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'isescan':
            #if $tool.select_tool.summary_path
    --summary_path '$tool.select_tool.summary_path'
    --summary_hid '$tool.select_tool.summary_path.hid'
            #end if
            #if $tool.select_tool.annotation_path
    --annotation_path '$tool.select_tool.annotation_path'
    --annotation_hid '$tool.select_tool.annotation_path.hid'
            #end if
            #if $tool.select_tool.orf_fna_path
    --orf_fna_path '$tool.select_tool.orf_fna_path'
    --orf_fna_hid '$tool.select_tool.orf_fna_path.hid'
            #end if
            #if $tool.select_tool.orf_faa_path
    --orf_faa_path '$tool.select_tool.orf_faa_path'
    --orf_faa_hid '$tool.select_tool.orf_faa_path.hid'
            #end if
            #if $tool.select_tool.is_fna_path
    --is_fna_path '$tool.select_tool.is_fna_path'
    --is_fna_hid '$tool.select_tool.is_fna_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'kraken2':
            #if $tool.select_tool.seq_classification_file_path
    --seq_classification_file_path '$tool.select_tool.seq_classification_file_path'
    --seq_classification_file_hid '$tool.select_tool.seq_classification_file_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'maxbin2':
            #if $tool.select_tool.fasta_bin_zip_folder_path
    --fasta_bin_zip_folder_path '$tool.select_tool.fasta_bin_zip_folder_path'
    --fasta_bin_zip_folder_hid '$tool.select_tool.fasta_bin_zip_folder_path.hid'
            #end if
            #if $tool.select_tool.bin_predicted_markers_zip_folder_path
    --bin_predicted_markers_zip_folder_path '$tool.select_tool.bin_predicted_markers_zip_folder_path'
    --bin_predicted_markers_zip_folder_hid '$tool.select_tool.bin_predicted_markers_zip_folder_path.hid'
            #end if
            #if $tool.select_tool.too_short_sequences_file_path
    --too_short_sequences_file_path '$tool.select_tool.too_short_sequences_file_path'
    --too_short_sequences_file_hid '$tool.select_tool.too_short_sequences_file_path.hid'
            #end if    
            #if $tool.select_tool.unclassified_sequences_file_path
    --unclassified_sequences_file_path '$tool.select_tool.unclassified_sequences_file_path'
    --unclassified_sequences_file_hid '$tool.select_tool.unclassified_sequences_file_path.hid'
            #end if   
            #if $tool.select_tool.marker_gene_presence_file_path
    --marker_gene_presence_file_path '$tool.select_tool.marker_gene_presence_file_path'
    --marker_gene_presence_file_hid '$tool.select_tool.marker_gene_presence_file_path.hid'
            #end if
            #if $tool.select_tool.marker_gene_presence_plot_path
    --marker_gene_presence_plot_path '$tool.select_tool.marker_gene_presence_plot_path'
    --marker_gene_presence_plot_hid '$tool.select_tool.marker_gene_presence_plot_path.hid'
            #end if   
            #if $tool.select_tool.log_file_path
    --log_file_path '$tool.select_tool.log_file_path'
    --log_file_hid '$tool.select_tool.log_file_path.hid'
            #end if                                                  
        #elif $tool.select_tool.tool_list == 'megahit':
            #if $tool.select_tool.intermediate_contig_folder_path
    --intermediate_contig_folder_path '$tool.select_tool.intermediate_contig_folder_path'
    --intermediate_contig_folder_hid '$tool.select_tool.intermediate_contig_folder_path.hid'
            #end if
            #if $tool.select_tool.log_file_path
    --log_file_path '$tool.select_tool.log_file_path'
    --log_file_hid '$tool.select_tool.log_file_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'metabat2':
            #if $tool.select_tool.fasta_bin_zip_folder_path
    --fasta_bin_zip_folder_path '$tool.select_tool.fasta_bin_zip_folder_path'
    --fasta_bin_zip_folder_hid '$tool.select_tool.fasta_bin_zip_folder_path.hid'
            #end if
            #if $tool.select_tool.too_short_sequences_file_path
    --too_short_sequences_file_path '$tool.select_tool.too_short_sequences_file_path'
    --too_short_sequences_file_hid '$tool.select_tool.too_short_sequences_file_path.hid'
            #end if     
            #if $tool.select_tool.unbinned_sequences_file_path
    --unbinned_sequences_file_path '$tool.select_tool.unbinned_sequences_file_path'
    --unbinned_sequences_file_hid '$tool.select_tool.unbinned_sequences_file_path.hid'
            #end if
            #if $tool.select_tool.low_depth_sequences_file_path
    --low_depth_sequences_file_path '$tool.select_tool.low_depth_sequences_file_path'
    --low_depth_sequences_file_hid '$tool.select_tool.low_depth_sequences_file_path.hid'
            #end if                               
        #elif $tool.select_tool.tool_list == 'mmseqs2linclust':
            #if $tool.select_tool.cluster_fasta_like_path
    --cluster_fasta_like_path '$tool.select_tool.cluster_fasta_like_path'
    --cluster_fasta_like_hid '$tool.select_tool.cluster_fasta_like_path.hid'
            #end if
            #if $tool.select_tool.tsv_file_path
    --tsv_file_path '$tool.select_tool.tsv_file_path'
    --tsv_file_hid '$tool.select_tool.tsv_file_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'mmseqs2taxonomy':
            #if $tool.select_tool.kraken_report_path
    --kraken_report_path '$tool.select_tool.kraken_report_path'
    --kraken_report_hid '$tool.select_tool.kraken_report_path.hid'
            #end if
            #if $tool.select_tool.krona_report_path
    --krona_report_path '$tool.select_tool.krona_report_path'
    --krona_report_hid '$tool.select_tool.krona_report_path.hid'
            #end if            
        #elif $tool.select_tool.tool_list == 'plasmidfinder':
            #if $tool.select_tool.plasmid_result_tabular_path
    --plasmid_result_tabular_path '$tool.select_tool.plasmid_result_tabular_path'
    --plasmid_result_tabular_hid '$tool.select_tool.plasmid_result_tabular_path.hid'
            #end if
            #if $tool.select_tool.genome_hit_path
    --genome_hit_path '$tool.select_tool.genome_hit_path'
    --genome_hit_hid '$tool.select_tool.genome_hit_path.hid'
            #end if
            #if $tool.select_tool.plasmid_hit_path
    --plasmid_hit_path '$tool.select_tool.plasmid_hit_path'
    --plasmid_hit_hid '$tool.select_tool.plasmid_hit_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'prodigal':
            #if $tool.select_tool.protein_translation_file_path
    --protein_translation_file_path '$tool.select_tool.protein_translation_file_path'
    --protein_translation_file_hid '$tool.select_tool.protein_translation_file_path.hid'
            #end if
            #if $tool.select_tool.potential_gene_start_file_path
    --potential_gene_start_file_path '$tool.select_tool.potential_gene_start_file_path'
    --potential_gene_start_file_hid '$tool.select_tool.potential_gene_start_file_path.hid'
            #end if
            #if $tool.select_tool.gbk_genes_coordinate_file_path
    --gbk_genes_coordinate_file_path '$tool.select_tool.gbk_genes_coordinate_file_path'
    --gbk_genes_coordinate_file_hid '$tool.select_tool.gbk_genes_coordinate_file_path.hid'
            #end if
            #if $tool.select_tool.gff_genes_coordinate_file_path
    --gff_genes_coordinate_file_path '$tool.select_tool.gff_genes_coordinate_file_path'
    --gff_genes_coordinate_file_hid '$tool.select_tool.gff_genes_coordinate_file_path.hid'
            #end if
            #if $tool.select_tool.sco_genes_coordinate_file_path
    --sco_genes_coordinate_file_path '$tool.select_tool.sco_genes_coordinate_file_path'
    --sco_genes_coordinate_file_hid '$tool.select_tool.sco_genes_coordinate_file_path.hid'
            #end if                                    
        #elif $tool.select_tool.tool_list == 'quast':
            #if $tool.select_tool.quast_html_path
    --quast_html_path '$tool.select_tool.quast_html_path'
    --quast_html_hid '$tool.select_tool.quast_html_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'recentrifuge':
            #if $tool.select_tool.rcf_stat_path
    --rcf_stat_path '$tool.select_tool.rcf_stat_path'
    --rcf_stat_hid '$tool.select_tool.rcf_stat_path.hid'
            #end if
            #if $tool.select_tool.rcf_html_path
    --rcf_html_path '$tool.select_tool.rcf_html_path'
    --rcf_html_hid '$tool.select_tool.rcf_html_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'shovill':
            #if $tool.select_tool.contig_graph_path
    --contig_graph_path '$tool.select_tool.contig_graph_path'
    --contig_graph_hid '$tool.select_tool.contig_graph_path.hid'
            #end if
            #if $tool.select_tool.bam_file_path
    --bam_file_path '$tool.select_tool.bam_file_path'
    --bam_file_hid '$tool.select_tool.bam_file_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'staramr':
            #if $tool.select_tool.mlst_file_path
    --mlst_file_path 'mlst.tsv'
    --mlst_file_hid '$tool.select_tool.mlst_file_path.hid'
            #end if
            #if $tool.select_tool.plasmidfinder_file_path
    --plasmidfinder_file_path 'plasmidfinder.tsv'
    --plasmidfinder_file_hid '$tool.select_tool.plasmidfinder_file_path.hid'
            #end if
            #if $tool.select_tool.pointfinder_file_path
    --pointfinder_file_path 'pointfinder.tsv'
    --pointfinder_file_hid '$tool.select_tool.pointfinder_file_path.hid'
            #end if
            #if $tool.select_tool.setting_file_path
    --setting_file_path 'setting.tsv'
    --setting_file_hid '$tool.select_tool.setting_file_path.hid'
            #end if
        #elif $tool.select_tool.tool_list == 'sylphtax':
            #if $tool.select_tool.taxonomic_profile_folder_path
    --taxonomic_profile_folder_path '$tool.select_tool.taxonomic_profile_folder_path'
    --taxonomic_profile_folder_hid '$tool.select_tool.taxonomic_profile_folder_path.hid'
            #end if            
        #elif $tool.select_tool.tool_list == 'tabular_file':
    --analysis_software_name '$tool.select_tool.analysis_software_name'
        #end if
    -o 'tooldistillator_folder/$($tool.select_tool.tool_list)_$(i)_output.json'
| tee '$logfile'
        #if $i < $counter
            &&
        #end if
    #end for
        ]]>
    </command>
    <inputs>
        <section name="tool_section" title="Available tools" expanded="true">
            <repeat name="tools" title="Tool" min="0">
                <conditional name="select_tool">
                    <param name="tool_list" type="select" label="Available tools">
                        <option value="abricate">Abricate</option>
                        <option value="amrfinderplus">AMRFinderPlus</option>
                        <option value="argnorm">argNorm</option>
                        <option value="bakta">Bakta</option>
                        <option value="bandage">Bandage</option>
                        <option value="bracken">Bracken</option>
                        <option value="bwa">BWA</option>
                        <option value="checkm2">CheckM2</option>
                        <option value="concoct">Concoct</option>
                        <option value="coreprofiler">CoreProfiler</option>
                        <option value="coverm">CoverM</option>
                        <option value="dastool">DasTool</option>
                        <option value="deeparg">DeepARG</option>
                        <option value="drep">dRep</option>
                        <option value="eggnogmapper">Eggnog-Mapper</option>
                        <option value="fastp">Fastp</option>
                        <option value="fastqc">Fastqc</option>
                        <option value="filtlong">Filtlong</option>
                        <option value="flye">Flye</option>
                        <option value="groot">Groot</option>
                        <option value="gtdbtk">GTDB-tk</option>
                        <option value="integronfinder2">Integronfinder2</option>
                        <option value="isescan">ISEScan</option>
                        <option value="kraken2">Kraken2</option>
                        <option value="maxbin2">Maxbin2</option>
                        <option value="megahit">Megahit</option>
                        <option value="metabat2">Metabat2</option>
                        <option value="mmseqs2linclust">MMseqs2 linclust</option>
                        <option value="mmseqs2taxonomy">MMseqs2 taxonomy</option>
                        <option value="multiqc">MultiQC</option>
                        <option value="plasmidfinder">PlasmidFinder</option>
                        <option value="polypolish">Polypolish</option>
                        <option value="prodigal">Prodigal</option>
                        <option value="quast">Quast</option>
                        <option value="recentrifuge">Recentrifuge</option>
                        <option value="refseqmasher">RefSeqMasher</option>
                        <option value="shovill">Shovill</option>
                        <option value="staramr">Staramr</option>
                        <option value="sylph">Sylph</option>
                        <option value="sylphtax">Sylph-tax</option>                        
                        <option value="tabular_file">tabular_generic_file</option>
                    </param>
                    <when value="abricate">
                        <param name="input" type="data" format="tabular" multiple="false" label="Abricate report file" help="Tabular file from abricate output"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="amrfinderplus">
                        <param name="input" type="data" format="tabular" multiple="false" label="AMRFinderPlus report file" help="Tabular file from AMRFinderPlus output"/>
                        <param argument="--point_mutation_report_path" type="data" format="tabular" multiple="false" optional="true" label="AMRFinderPlus point mutation report file" help="AMRFinderPlus Tabular point mutation report file"/>
                        <param argument="--nucleotide_sequence_path" type="data" format="fasta" multiple="false" optional="true" label="AMRFinderPlus nucleotide identified sequence fasta file" help="AMRFinderPlus nucleotide identified sequence fasta file"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="argnorm">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="argNorm report file" help="Tabular file from argNorm output"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="bakta">
                        <param name="input" type="data" format="json" multiple="false" label="Bakta report file" help="Json file from bakta output"/>
                        <param argument="--annotation_tabular_path" type="data" format="tabular" multiple="false" optional="true" label="Bakta annotation file" help="Tabular annotation file"/>
                        <param argument="--annotation_genbank_path" type="data" format="txt" multiple="false" optional="true" label="Bakta genbank file" help="Genbank annotation file"/>
                        <param argument="--annotation_embl_path" type="data" format="txt" multiple="false" optional="true" label="Bakta embl file" help="EMBL annotation file"/>
                        <param argument="--contig_sequences_path" type="data" format="fasta" multiple="false" optional="true" label="Contig sequences" help="Contig sequences files"/>
                        <param argument="--hypothetical_protein_path" type="data" format="fasta" multiple="false" optional="true" label="Hypothetical protein" help="Hypothetical protein fasta file"/>
                        <param argument="--hypothetical_tabular_path" type="data" format="tabular" multiple="false" optional="true" label="Hypothetical annotation" help="Hypothetical protein annotation"/>
                        <param argument="--plot_file_path" type="data" format="svg" multiple="false" optional="true" label="Plot file" help="Plot of the annotation in svg format"/>
                        <param argument="--summary_result_path" type="data" format="txt" multiple="false" optional="true" label="Bakta summary file" help="Summary file from bakta output"/>
                        <param argument="--nucleotide_annotation_path" type="data" format="fasta" multiple="false" optional="true" label="Bakta nucleotide annotation" help="Nucleotide sequence annotation file"/>
                        <param argument="--amino_acid_annotation_path" type="data" format="fasta" multiple="false" optional="true" label="Bakta protein annotation" help="Amino acid sequence annotation file"/>
                        <param argument="--gff_file_path" type="data" format="gff3" multiple="false" optional="true" label="Bakta annotation file" help="Annotation file in gff"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="bandage">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Bandage report file" help="Tabular file from bandage output"/>
                        <param argument="--bandage_plot_path" type="data" format="svg" multiple="false" optional="true" label="Bandage plot" help="Bandage visualisation file"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="bracken">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Bracken report file" help="Tabular file from bracken output"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                        <param argument="--kraken_report_path" type="data" format="txt,tabular" multiple="false" optional="true" label="Kraken re-estimated report" help="New kraken report from bracken tool"/>
                        <param argument="--threshold" type="integer" min="0" optional="true" label="PRIOR on read numbers" help="Prior of read for estimation, default is 0"/>
                        <param argument="--read_len" type="integer" min="0" optional="true" label="Read length"/>
                        <param argument="--level" type="select" label="Taxonomic level estimation" optional="true" help="Level of final abundance (from Domain to subspecies, default on species)">
                            <option value="D">Domain</option>
                            <option value="P">Phylum</option>
                            <option value="C">Class</option>
                            <option value="O">Order</option>
                            <option value="F">Family</option>
                            <option value="G">Genus</option>
                            <option value="S">Species</option>
                            <option value="S+">Subspecies</option>
                        </param>
                    </when>
                    <when value="bwa">
                        <param name="input" type="data" format="bam" multiple="false" label="BWA bam file" help="Bam file from BWA output"/>
                        <param argument="--paired_second_file_path" type="data" format="bam" multiple="false" optional="true" label="BWA second bam file" help="If paired inputs are used for BWA"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="checkm2">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="CheckM2 quality report file" help="Tabular file from CheckM2 output"/>
                        <param argument="--diamond_results_path" type="data" format="txt,tabular" optional="true" multiple="false" label="CheckM2 Diamond results file" help="DIAMOND_RESULTS file from CheckM2"/>
                        <param argument="--protein_zip_path" type="data" format="zip,tar,tar.gz" optional="true" multiple="false" label="Archive file with protein files from CheckM2" help="Protein sequence fasta files in an archive file for CheckM2"/>
                        <param argument="--checkm2_log_path" type="data" format="txt" multiple="false" optional="true" label="CheckM2 log file" help="Log file from CheckM2"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="concoct">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Concoct merge cut clusters file" help="Tabular file with merge cut clusters from Concoct output"/>
                        <param argument="--fasta_bin_zip_folder_path" type="data" format="zip,tar,tar.gz" optional="true" multiple="false" label="Concoct bins in fasta format in ZIP folder" help="ZIP folder with bins in fasta format from Concoct"/>
                        <param argument="--contigs_cut_up_file_path" type="data" format="fasta" optional="true" multiple="false" label="Concoct FASTA contigs cut up file" help="Fasta file with contigs cut up from Concoct"/>
                        <param argument="--coordinates_cut_up_file_path" type="data" format="bed" optional="true" multiple="false" label="Concoct BED coordinates contigs cut up file" help="Coordinates contigs cut up in bed file from Concoct"/>
                        <param argument="--coverage_table_file_path" type="data" format="tabular" optional="true" multiple="false" label="Concoct TABULAR coverage table file" help="Tabular file with coverage table from Concoct"/>
                        <param argument="--log_file_path" type="data" format="txt" optional="true" multiple="false" label="Concoct log file" help="Log file from Concoct"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>                                          
                    <when value="coreprofiler">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="CoreProfiler allele calling report file" help="Tabular file from CoreProfiler output"/>
                        <param argument="--profiles_json_path" type="data" format="json" optional="true" multiple="false" label="Coreprofiler JSON results file" help="JSON file containing info about files with temporary alleles"/>
                        <param argument="--alleles_fna_path" type="data" format="fasta" optional="true" multiple="false" label="Coreprofiler FASTA results file" help=" FASTA file with new alleles sequences if detected"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="coverm">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="CoverM coverage report file" help="Coverage file from CoverM output"/>
                        <param argument="--dereplication_cluster_definition_path" type="data" format="txt,tabular" optional="true" multiple="false" label="CoverM dereplicated clusters file" help="Tabular file with dereplicated genomes and cluster definition for each genome"/>
                        <param argument="--dereplication_representative_fasta_zip_path" type="data" format="zip,tar,tar.gz" optional="true" multiple="false" label="CoverM representative genomes from ZIP file" help="ZIP file with representative genomes after dereplication"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="dastool">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="DasTool bin summary report file" help="Tabular file with bin summary from DasTool output"/>
                        <param argument="--fasta_bin_zip_folder_path" type="data" format="zip,tar,tar.gz" optional="true" multiple="false" label="DasTool bins fasta format in ZIP folder" help="ZIP folder with bins in fasta format from DasTool"/>
                        <param argument="--contig_to_bin_file_path" type="data" format="tabular" optional="true" multiple="false" label="DasTool contig to bin file" help="Tabular file with contig to bin association from DasTool"/>
                        <param argument="--quality_and_completness_file_path" type="data" format="tabular" optional="true" multiple="false" label="DasTool quality and completness file" help="Tabular file with quality and completness information from DasTool"/>
                        <param argument="--protein_sequences_file_path" type="data" format="fasta" optional="true" multiple="false" label="DasTool proteins sequences fasta file" help="Fasta file with proteins sequences from DasTool"/>
                        <param argument="--unbinned_sequences_file_path" type="data" format="fasta" optional="true" multiple="false" label="DasTool unbinned sequences fasta file" help="Fasta file with unbinned sequences from DasTool"/>    
                        <param argument="--log_file_path" type="data" format="txt" optional="true" multiple="false" label="DasTool log file" help="Log file from DasTool"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>        
                    </when>                    
                    <when value="deeparg">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="DeepARG ARG report file" help="Tabular file from DeepARG output (corresponding to .clean.deeparg.mapping.ARG file)"/>
                        <param argument="--report_arg_merged_path" type="data" format="txt,tabular" optional="true" multiple="false" label="DeepARG ARG merged report file" help="ARG merged file (.clean.deeparg.mapping.ARG.merged)"/>
                        <param argument="--report_arg_merged_quant_subtype_path" type="data" format="txt,tabular" optional="true" multiple="false" label="DeepARG ARG merged quantitative subtype report file" help="ARG merged quant subtype file (.clean.deeparg.mapping.ARG.merged.quant.subtype)"/>
                        <param argument="--report_arg_merged_quant_type_path" type="data" format="txt,tabular" optional="true" multiple="false" label="DeepARG ARG merged quantitative type report file" help="ARG merged quant type file (.clean.deeparg.mapping.ARG.merged.quant.type)"/>                        
                        <param argument="--report_potential_arg_path" type="data" format="txt,tabular" optional="true" multiple="false" label="DeepARG potential ARG file" help="Potential ARG file (.clean.deeparg.mapping.potential.ARG)"/>                                                
                        <param argument="--sequence_clean_file_path" type="data" format="fasta" optional="true" multiple="false" label="DeepARG clean sequences fasta file" help="Clean sequences file (.clean)"/>                                                                        
                        <param argument="--bam_clean_file_path" type="data" format="bam" optional="true" multiple="false" label="DeepARG clean sequences bam file" help="Clean sequences bam file (.clean.bam)"/> 
                        <param argument="--sam_clean_file_path" type="data" format="sam" optional="true" multiple="false" label="DeepARG clean sequences sam file" help="Clean sequences sam file (.clean.sam)"/> 
                        <param argument="--bam_clean_sorted_file_path" type="data" format="bam" optional="true" multiple="false" label="DeepARG clean sorted sequences bam file" help="Clean sorted sequences bam file (.clean.sorted.bam)"/> 
                        <param argument="--daa_clean_align_file_path" type="data" format="daa" optional="true" multiple="false" label="DeepARG clean aligned sequences daa file" help="Clean aligned sequences daa file (.clean.deeparg.align.daa)"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="drep">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="dRep quality and cluster information on de-replicated genomes" help="Tabular file from dRep output with quality and cluster information on de-replicated genomes (corresponding to Widb file)"/>
                        <param argument="--fasta_dereplicated_bin_zip_folder_path" type="data" format="zip,tar,tar.gz" optional="true" multiple="false" label="dRep ZIP folder with dereplicated bins" help="Dereplicated bins in ZIP folder from dRep"/>
                        <param argument="--bdb_file_path" type="data" format="txt,tabular" optional="true" multiple="false" label="dRep file with genome input locations, filenames, and lengths" help="Tabular file from dRep output with genome input locations, filenames, and lengths (corresponding to Bdb file)"/>
                        <param argument="--cdb_file_path" type="data" format="txt,tabular" optional="true" multiple="false" label="dRep file with primary cluster, Secondary cluster,and information on clustering method for each genome" help="Tabular file from dRep output with primary cluster, Secondary cluster,and information on clustering method for each genome (corresponding to Cdb file)"/>
                        <param argument="--chdb_file_path" type="data" format="txt,tabular" optional="true" multiple="false" label="dRep file with CheckM results for all genomes" help="Tabular file from dRep output with CheckM results for all genomes (corresponding to Chdb file)"/>
                        <param argument="--mdb_file_path" type="data" format="txt,tabular" optional="true" multiple="false" label="dRep file with pair-wise Mash comparison results" help="Tabular file from dRep output with pair-wise Mash comparison results (corresponding to Mdb file)"/>
                        <param argument="--ndb_file_path" type="data" format="txt,tabular" optional="true" multiple="false" label="dRep file with secondary comparison results" help="Tabular file from dRep output with secondary comparison results (corresponding to Ndb file)"/>
                        <param argument="--sdb_file_path" type="data" format="txt,tabular" optional="true" multiple="false" label="dRep file with the score of each genome" help="Tabular file from dRep output with the score of each genome (corresponding to Sdb file)"/>
                        <param argument="--wdb_file_path" type="data" format="txt,tabular" optional="true" multiple="false" label="dRep file with the cluster and score of de-replicated genomes" help="Tabular file from dRep output with the cluster and score of de-replicated genomes (corresponding to Wdb file)"/>
                        <param argument="--winning_genomes_pdf_path" type="data" format="pdf" optional="true" multiple="false" label="dRep pdf file with winning genomes" help="PDF file from dRep output with winning genomes"/>
                        <param argument="--cluster_scoring_pdf_path" type="data" format="pdf" optional="true" multiple="false" label="dRep pdf file with cluster scoring" help="PDF file from dRep output with cluster scoring"/>
                        <param argument="--clustering_scatterplots_pdf_path" type="data" format="pdf" optional="true" multiple="false" label="dRep pdf file with clustering scatterplots" help="PDF file from dRep output with clustering scatterplots"/>
                        <param argument="--primary_clustering_dendrogram_pdf_path" type="data" format="pdf" optional="true" multiple="false" label="dRep pdf file with primary clustering dendrogram" help="PDF file from dRep output with primary clustering dendrogram"/>
                        <param argument="--secondary_clustering_dendrogram_pdf_path" type="data" format="pdf" optional="true" multiple="false" label="dRep pdf file with secondary clustering dendrogram" help="PDF file from dRep output with secondary clustering dendrogram"/>
                        <param argument="--secondary_clustering_mds_pdf_path" type="data" format="pdf" optional="true" multiple="false" label="dRep pdf file with secondary clustering MDS" help="PDF file from dRep output with secondary clustering MDS"/>
                        <param argument="--log_file_path" type="data" format="txt" optional="true" multiple="false" label="dRep log file" help="Log file from dRep"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>                    
                    <when value="eggnogmapper">
                        <param name="input" type="data" format="tabular" multiple="false" label="Annotation report file" help="Eggnogmapper annotation report file"/>
                        <param argument="--seed_orthologs_report_path" type="data" format="tabular" optional="true" multiple="false" label="Eggnogmapper seed orthologs report file" help="Seed orthologs report file from eggnogmapper"/>
                        <param argument="--orthologs_report_path" type="data" format="tabular" optional="true" multiple="false" label="Eggnogmapper orthologs report file" help="Orthologs report file from eggnogmapper"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>                    
                    <when value="fastp">
                        <param name="input" type="data" format="json" multiple="false" label="Fastp report file" help="Fastp result in json format"/>
                        <param argument="--trimmed_forward_R1_path" type="data" format="fastq,fastq.gz" optional="true" multiple="false" label="Fastp trimmed R1" help="trimmed file R1"/>
                        <param argument="--trimmed_reverse_R2_path" type="data" format="fastq,fastq.gz" optional="true" multiple="false" label="Fastp trimmed R2" help="trimmed file R2"/>
                        <param argument="--html_report_path" type="data" format="html" multiple="false" optional="true" label="Fastp report html" help="Fastp result in html format"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="fastqc">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Fastqc report file" help="Fastqc result in txt format"/>
                        <param argument="--html_report_path" type="data" format="html" multiple="false" optional="true" label="Fastqc report html" help="Fastqc result in html format"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="filtlong">
                        <param name="input" type="data" format="fastq,fastq.gz" multiple="false" label="Filtered long reads from Filtlong" help="Filtlong reads in fastq format"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="flye">
                        <param name="input" type="data" format="fasta" multiple="false" label="Contigs file" help="Contig fasta file from assembly"/>
                        <param argument="--contig_graph_path" type="data" format="html" multiple="false" optional="true" label="Flye Graphical Fragment Assembly file" help="Assembly graph file from Flye"/>
                        <param argument="--tsv_file_path" type="data" format="txt,tabular" multiple="false" optional="true" label="Flye Assembly info file" help="Assembly info file from Flye"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="groot">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Groot report" help="Final report from Groot"/>
                        <param argument="--bam_file_path" type="data" format="bam" multiple="false" optional="true" label="Groot Binary Alignment file" help="Binary Alignment file from Groot"/>
                        <param argument="--groot_log_path" type="data" format="txt" multiple="false" optional="true" label="Groot log file" help="Log file from Groot"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="gtdbtk">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="GTDB-tk taxonomy summary report file" help="Taxonomy report file from GTDB-tk"/>
                        <param argument="--classify_directory_path" type="data" format="zip,tar,tar.gz" multiple="false" optional="true" label="GTDB-tk classify ZIP directory" help="Classify zipped directory from GTDB-tk"/>
                        <param argument="--align_directory_path" type="data" format="zip,tar,tar.gz" multiple="false" optional="true" label="GTDB-tk align ZIP directory" help="Align zipped directory from GTDB-tk"/>
                        <param argument="--identify_directory_path" type="data" format="zip,tar,tar.gz" multiple="false" optional="true" label="GTDB-tk identify ZIP directory" help="Identify zipped directory from GTDB-tk"/>
                        <param argument="--log_file_path" type="data" format="txt" multiple="false" optional="true" label="GTDB-tk log file" help="Log file from GTDB-tk"/>                        
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>                    
                    <when value="integronfinder2">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Integronfinder report" help="Integron file from integronfinder2"/>
                        <param argument="--summary_file_path" type="data" format="txt,tabular" multiple="false" optional="true" label="Summary report" help="Summary file from integronfinder2"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="isescan">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Isescan report" help="IseScan file from integronfinder2"/>
                        <param argument="--summary_path" type="data" format="tabular" optional="true" multiple="false" label="summary file" help="ISEscan summary"/>
                        <param argument="--annotation_path" type="data" format="gff" optional="true" multiple="false" label="annotation results" help="Annotation in gff file format"/>
                        <param argument="--orf_fna_path" type="data" format="fasta" optional="true" multiple="false" label="ORF fna file" help="Nuleotide sequence to the ORFs"/>
                        <param argument="--orf_faa_path" type="data" format="fasta" optional="true" multiple="false" label="ORF faa file" help="Amino acid sequence to the ORFs"/>
                        <param argument="--is_fna_path" type="data" format="fasta" optional="true" multiple="false" label="IS fna file" help="Nuleotide sequence to the inserted elements"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="kraken2">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="kraken report" help="Taxonomic assignation file from kraken2"/>
                        <param argument="--seq_classification_file_path" type="data" format="txt,tabular" optional="true" multiple="false" label="Sequence assignation" help="Reads assignation file"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="maxbin2">
                        <param name="input" type="data" format="tabular" multiple="false" label="Maxbin2 bin summary file" help="Bin summary file from Maxbin2"/>
                        <param argument="--fasta_bin_zip_folder_path" type="data" format="zip,tar,tar.gz" optional="true" multiple="false" label="Maxbin2 bins fasta ZIP folder" help="ZIP folder with bins from Maxbin2"/>
                        <param argument="--bin_predicted_markers_zip_folder_path" type="data" format="zip,tar,tar.gz" optional="true" multiple="false" label="Maxbin2 bin predicted markers ZIP folder" help="Bin predicted markers ZIP folder for Maxbin2"/>                        
                        <param argument="--too_short_sequences_file_path" type="data" format="fasta" optional="true" multiple="false" label="Maxbin2 too short sequences fasta file" help="Too short sequences file from Maxbin2"/>                                               
                        <param argument="--unclassified_sequences_file_path" type="data" format="fasta" optional="true" multiple="false" label="Maxbin2 unclassified sequences fasta file" help="Unclassified sequences file from Maxbin2"/>                                               
                        <param argument="--marker_gene_presence_file_path" type="data" format="tabular" optional="true" multiple="false" label="Maxbin2 marker gene presence file" help="Marker gene presence file from Maxbin2"/>
                        <param argument="--marker_gene_presence_plot_path" type="data" format="pdf" optional="true" multiple="false" label="Maxbin2 marker gene presence plot file" help="Marker gene presence plot file from Maxbin2"/>                                               
                        <param argument="--log_file_path" type="data" format="txt" optional="true" multiple="false" label="Maxbin2 log file" help="Log file from Maxbin2"/>                                                                                                                                              
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>                    
                    <when value="megahit">
                        <param name="input" type="data" format="fasta" multiple="false" label="Megahit contigs fasta file" help="Sequences fasta file from Megahit assembly"/>
                        <param argument="--intermediate_contig_folder_path" type="data" format="zip,tar,tar.gz" optional="true" multiple="false" label="Megahit intermediate contig ZIP folder" help="ZIP folder with intermediate contigs from Megahit"/>
                        <param argument="--log_file_path" type="data" format="txt" optional="true" multiple="false" label="Megahit log file" help="Log file from Megahit"/>                        
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="metabat2">
                        <param name="input" type="data" format="tabular" multiple="false" label="Metabat2 cluster memberships file" help="Tabular file with cluster membership from Metabat2"/>
                        <param argument="--fasta_bin_zip_folder_path" type="data" format="zip,tar,tar.gz" optional="true" multiple="false" label="Metabat2 bins fasta ZIP folder" help="ZIP folder with bins from Metabat2"/>
                        <param argument="--too_short_sequences_file_path" type="data" format="fasta" optional="true" multiple="false" label="Metabat2 too short sequences fasta file" help="Fasta file with too short sequences from Metabat2"/>
                        <param argument="--unbinned_sequences_file_path" type="data" format="fasta" optional="true" multiple="false" label="Metabat2 unbinned sequences fasta file" help="Fasta file with unbinned sequences from Metabat2"/>                        
                        <param argument="--low_depth_sequences_file_path" type="data" format="fasta" optional="true" multiple="false" label="Metabat2 low depth sequences fasta file" help="Fasta file with low depth sequences from Metabat2"/>                        
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>                                        
                    <when value="mmseqs2linclust">
                        <param name="input" type="data" format="fasta" multiple="false" label="MMseqs2 linclust representative sequences fasta file" help="Representative sequences fasta file from MMseqs2 linclust module"/>
                        <param argument="--cluster_fasta_like_path" type="data" format="fasta" optional="true" multiple="false" label="MMseqs2 linclust clusters fasta file" help="Contigs clusters fasta file from MMseqs2 linclust module"/>
                        <param argument="--tsv_file_path" type="data" format="txt,tabular" optional="true" multiple="false" label="MMseqs2 linclust clusters tsv file" help="Contigs clusters tsv file from MMseqs2 linclust module"/>                        
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="mmseqs2taxonomy">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="MMseqs2 taxonomy report file" help="taxonomy report file from MMseqs2 taxonomy module"/>
                        <param argument="--kraken_report_path" type="data" format="txt,tabular" optional="true" multiple="false" label="MMseqs2 taxonomy report file (kraken format)" help="Kraken taxonomy report from MMseqs2 taxonomy module"/>
                        <param argument="--krona_report_path" type="data" format="html" optional="true" multiple="false" label="MMseqs2 taxonomy report file (krona format)" help="Krona taxonomy report from MMseqs2 taxonomy module"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>                                    
                    <when value="multiqc">
                        <param name="input" type="data" format="html" multiple="false" label="MultiQC report" help="Html report from MultiQC"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="plasmidfinder">
                        <param name="input" type="data" format="json" multiple="false" label="Json report" help="Plasmidfinder result from json file"/>
                        <param argument="--plasmid_result_tabular_path" type="data" format="tabular" optional="true" multiple="false" label="Result in tabular format" help="Plasmid result in tabular format"/>
                        <param argument="--genome_hit_path" type="data" format="fasta" optional="true" multiple="false" label="Genome hits" help="Sequence hit in the analyzed genome"/>
                        <param argument="--plasmid_hit_path" type="data" format="fasta" optional="true" multiple="false" label="Plasmid hits" help="Plasmid sequence identified"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="polypolish">
                        <param name="input" type="data" format="fasta" multiple="false" label="Contigs file" help="Contig fasta file from Polypolish"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="prodigal">
                        <param name="input" type="data" format="fasta" multiple="false" label="Prodigal nucleotides sequence fasta file" help="Fasta file with nucleotide sequences from Prodigal"/>
                        <param argument="--protein_translation_file_path" type="data" format="fasta" multiple="false" optional="true" label="Prodigal protein translation fasta file" help="Fasta file with protein sequences from Prodigal"/>
                        <param argument="--potential_gene_start_file_path" type="data" format="tabular,txt" multiple="false" optional="true" label="Prodigal potential gene start file" help="Tabular file with potential gene start from Prodigal"/>
                        <param argument="--gbk_genes_coordinate_file_path" type="data" format="genbank" multiple="false" optional="true" label="Prodigal GBK genes coordinate file" help="GBK file with genes coordinate from Prodigal"/>
                        <param argument="--gff_genes_coordinate_file_path" type="data" format="gff" multiple="false" optional="true" label="Prodigal GFF3 genes coordinate file" help="GFF3 file with genes coordinate from Prodigal"/>
                        <param argument="--sco_genes_coordinate_file_path" type="data" format="genbank" multiple="false" optional="true" label="Prodigal SCO genes coordinate file" help="SCO file with genes coordinate from Prodigal"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>                    
                    <when value="quast">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Quast report" help="Tabular Quast report"/>
                        <param argument="--quast_html_path" type="data" format="html" multiple="false" optional="true" label="Quast html report" help="Quast html report"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="recentrifuge">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Recentrifuge data file"/>
                        <param argument="--rcf_stat_path" type="data" format="txt,tabular" optional="true" multiple="false" label="Recentrifuge stat file"/>
                        <param argument="--rcf_html_path" type="data" format="html" optional="true" multiple="false" label="Recentrifuge html report file"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="refseqmasher">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="RefsesMasher results"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="shovill">
                        <param name="input" type="data" format="fasta" multiple="false" label="Contigs file" help="Contig fasta file from assembly"/>
                        <param argument="--contig_graph_path" type="data" format="txt" optional="true" multiple="false" label="Contig graph file" help="Graphic file assembly"/>
                        <param argument="--bam_file_path" type="data" format="bam" optional="true" multiple="false" label="Bam file" help="Alignemnt file in bam format"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="staramr">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Resfinder report" help="Resfinder result from starAMR"/>
                        <param argument="--mlst_file_path" type="data" format="txt,tabular" optional="true" multiple="false" label="MLST results" help="mlst scheme file result from starAMR"/>
                        <param argument="--plasmidfinder_file_path" type="data" optional="true" format="txt,tabular" multiple="false" label="Plasmid results" help="Plasmidfinder result from starAMR"/>
                        <param argument="--pointfinder_file_path" type="data" optional="true" format="txt,tabular" multiple="false" label="Pointfinder results" help="PointFinder result from starAMR"/>
                        <param argument="--setting_file_path" type="data" optional="true" format="txt,tabular" multiple="false" label="Setting informations" help="Settings file from starAMR"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="sylph">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Sylph report" help="Final report from Sylph"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                    <when value="sylphtax">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Sylph-tax merge report" help="Final report from Sylph-tax"/>
                        <param argument="--taxonomic_profile_folder_path" type="data" format="zip,tar,tar.gz" optional="true" multiple="false" label="Sylph-tax folder with taxonomy for every folder" help="ZIP folder with taxonomy for each sample from sylph-tax"/>                        
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when> 
                    <when value="tabular_file">
                        <param name="input" type="data" format="txt,tabular" multiple="false" label="Tabular file type" help="Generic result file in tabular format with header"/>
                        <param argument="--analysis_software_name" type="text" multiple="false" optional="true" label="Tool name" help="Tool name which generated the result file"/>
                        <expand macro="analysis_software_version"/>
                        <expand macro="reference_database_version"/>
                    </when>
                </conditional>
            </repeat>
        </section>
        <param name="log" type="boolean" truevalue="true"  falsevalue="" label="Add log" help="Activate/Deactivate the log"/>
    </inputs>
    <outputs>
        <collection name="output_json" type="list" label="${tool.name} on ${on_string}: JSON">
            <discover_datasets pattern="(?P&lt;designation&gt;.+)\.json" format="json" directory="tooldistillator_folder" />
        </collection>
        <data name="logfile" format="txt" label="${tool.name} on ${on_string}: Log">
            <filter> log == True </filter>
        </data>
    </outputs>
    <tests>
        <test expect_num_outputs="2"> <!-- TEST_1 abricate with logfile -->
            <section name="tool_section">
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="abricate"/>
                        <param name="input" value="abricate/report.tsv" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="false"/>
                        </conditional>
                        <param name="reference_database_version" value="2.0" />
                    </conditional>
                </repeat>
            </section>
            <param name="log" value="true"/>
            <output_collection name="output_json" type="list">
                <expand macro="element_assert" name="abricate_0_output" text="Enterococcus faecalis V583"/>
            </output_collection>
            <output name="logfile" compare="sim_size" > 
                <assert_contents><has_size value="0"/></assert_contents>
            </output>
        </test>
        <test expect_num_outputs="1"> <!-- TEST_2 bakta all files -->
            <section name="tool_section">
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="bakta"/>
                        <param name="input" value="bakta/bakta.json" ftype="json"/>
                        <param name="annotation_tabular_path" value="bakta/bakta_summary.txt" ftype="txt"/>
                        <param name="annotation_genbank_path" value="bakta/bakta_summary.txt" ftype="txt"/>
                        <param name="annotation_embl_path" value="bakta/bakta_summary.txt" ftype="txt"/>
                        <param name="contig_sequences_path" value="bakta/bakta_summary.txt" ftype="txt"/>
                        <param name="hypothetical_protein_path" value="bakta/bakta_summary.txt" ftype="txt"/>
                        <param name="hypothetical_tabular_path" value="bakta/bakta_summary.txt" ftype="txt"/>
                        <param name="summary_result_path" value="bakta/bakta_summary.txt" ftype="txt"/>
                        <param name="nucleotide_annotation_path" value="bakta/bakta_nucleotide_annotation.ffn" ftype="fasta"/>
                        <param name="amino_acid_annotation_path" value="bakta/bakta_aminoacid.faa" ftype="fasta"/>
                        <param name="gff_file_path" value="bakta/bakta_annotation.gff3" ftype="gff3"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.8.1"/>
                        </conditional>
                        <param name="reference_database_version" value="5.0"/>
                    </conditional>
                </repeat>
            </section>
            <output_collection name="output_json" type="list" count="1">
                <expand macro="element_assert" name="bakta_0_output" text="hypothetical protein"/>
            </output_collection>
        </test>
        <test expect_num_outputs="1"> <!-- TEST_3 bakta with no files -->
            <section name="tool_section">
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="bakta"/>
                        <param name="input" value="bakta/bakta.json" ftype="json"/>
                    </conditional>
                </repeat>
            </section>
            <output_collection name="output_json" type="list" count="1">
                <expand macro="element_assert" name="bakta_0_output" text="hypothetical protein"/>
            </output_collection>
        </test>
        <test expect_num_outputs="1"> <!-- TEST_4 All tool in repeat -->
            <section name="tool_section">
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="abricate"/>
                        <param name="input" value="abricate/report.tsv" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="2.0" />
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="amrfinderplus"/>
                        <param name="input" value="amrfinderplus/AMRFinderPlus_report.tsv" ftype="tabular"/>
                        <param name="point_mutation_report_path" value="amrfinderplus/AMRFinderPlus_Point_mutation_report.tsv" ftype="tabular"/>
                        <param name="nucleotide_sequence_path" value="amrfinderplus/AMRFinderPlus_Nucleotide_identified_sequences.fasta" ftype="fasta"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="3.11.26"/>
                        </conditional>
                        <param name="reference_database_version" value="v3.11-2023-04-17.1"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="argnorm"/>
                        <param name="input" value="argnorm/output.tsv" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0.0"/>
                        </conditional>
                        <param name="reference_database_version" value=""/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="bakta"/>
                        <param name="input" value="bakta/bakta.json" ftype="json"/>
                        <param name="annotation_tabular_path" value="bakta/bakta_annotation.tsv" ftype="tabular"/>
                        <param name="annotation_genbank_path" value="bakta/bakta_gbff.gbff"/>
                        <param name="annotation_embl_path" value="bakta/bakta_embl.embl"/>
                        <param name="contig_sequences_path" value="bakta/bakta_contigs_sequences.fna" ftype="fasta"/>
                        <param name="hypothetical_protein_path" value="bakta/bakta_hypothetical.faa" ftype="fasta"/>
                        <param name="hypothetical_tabular_path" value="bakta/bakta_hypothetical.tsv" ftype="tabular"/>
                        <param name="plot_file_path" value="bakta/bakta_plot.svg"/>
                        <param name="summary_result_path" value="bakta/bakta_summary.txt" ftype="txt"/>
                        <param name="nucleotide_annotation_path" value="bakta/bakta_nucleotide_annotation.ffn" ftype="fasta"/>
                        <param name="amino_acid_annotation_path" value="bakta/bakta_aminoacid.faa" ftype="fasta"/>
                        <param name="gff_file_path" value="bakta/bakta_annotation.gff3" ftype="gff3"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.8.1"/>
                        </conditional>
                        <param name="reference_database_version" value="5.0"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="bandage"/>
                        <param name="input" value="bandage/bandage_info.txt" ftype="txt"/>
                        <param name="bandage_plot_path" value="bandage/bandage_plot.svg"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="1.0"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="bracken"/>
                        <param name="input" value="bracken/bracken_report.tsv" ftype="tabular"/>
                        <param name="kraken_report_path" value="bracken/bracken_kraken_report.tsv"/>
                        <param name="read_len" value="100"/>
                        <param name="level" value="S"/>
                        <param name="threshold" value="1"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="1.0"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="bwa"/>
                        <param name="input" value="bwa/aligned_R1.bam" ftype="bam"/>
                        <param name="paired_second_file_path" value="bwa/aligned_R2.bam"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="2.2.1"/>
                        </conditional>
                        <param name="reference_database_version" value="tests/data/dummy/flye/assembly.fasta"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="checkm2"/>
                        <param name="input" value="checkm2/quality_report.tsv" ftype="tabular"/>
                        <param name="diamond_results_path" value="checkm2/DIAMOND_RESULTS.tsv"/>
                        <param name="checkm2_log_path" value="checkm2/checkm2.log"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0.2"/>
                        </conditional>
                        <param name="reference_database_version" value="Uniref"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="concoct"/>
                        <param name="input" value="concoct/merge_cut_clusters.csv" ftype="tabular"/>
                        <param name="contigs_cut_up_file_path" value="concoct/cut_up_contigs.fasta" ftype="fasta"/>
                        <param name="coordinates_cut_up_file_path" value="concoct/coordinates_cut_up.bed" ftype="bed"/>
                        <param name="coverage_table_file_path" value="concoct/coverage_table.tabular" ftype="tabular"/>
                        <param name="log_file_path" value="concoct/log_file.txt" ftype="txt"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.1.0"/>
                        </conditional>
                    </conditional>
                </repeat>        
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="coreprofiler"/>
                        <param name="input" value="coreprofiler/results.tsv" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.1.1"/>
                        </conditional>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="coverm"/>
                        <param name="input" value="coverm/coverage_report.tsv" ftype="tabular"/>
                        <param name="dereplication_cluster_definition_path" value="coverm/drep_output_clust_def.tsv" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="0.7.0"/>
                        </conditional>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="dastool"/>
                        <param name="input" value="dastool/summary_bins.tabular" ftype="tabular"/>
                        <param name="contig_to_bin_file_path" value="dastool/contigs_to_bin.tabular" ftype="tabular"/>
                        <param name="quality_and_completness_file_path" value="dastool/quality_and_completeness.tabular" ftype="tabular"/>
                        <param name="protein_sequences_file_path" value="dastool/proteins.fasta" ftype="tabular"/>
                        <param name="unbinned_sequences_file_path" value="dastool/unbinned.fasta" ftype="tabular"/>
                        <param name="log_file_path" value="dastool/log_file.txt" ftype="txt"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.1.7"/>
                        </conditional>
                    </conditional>
                </repeat>       
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="deeparg"/>
                        <param name="input" value="deeparg/result_file.clean.deeparg.mapping.ARG" ftype="tabular"/>
                        <param name="report_arg_merged_path" value="deeparg/result_file.clean.deeparg.mapping.ARG.merged" ftype="tabular"/>
                        <param name="report_arg_merged_quant_subtype_path" value="deeparg/result_file.clean.deeparg.mapping.ARG.merged.quant.subtype" ftype="tabular"/>
                        <param name="report_arg_merged_quant_type_path" value="deeparg/result_file.clean.deeparg.mapping.ARG.merged.quant.type" ftype="tabular"/>
                        <param name="report_potential_arg_path" value="deeparg/result_file.clean.deeparg.mapping.potential.ARG" ftype="tabular"/>
                        <param name="sequence_clean_file_path" value="deeparg/result_file.clean" ftype="fasta"/>
                        <param name="bam_clean_file_path" value="deeparg/result_file.clean.bam" ftype="bam"/> 
                        <param name="sam_clean_file_path" value="deeparg/result_file.clean.sam" ftype="sam"/> 
                        <param name="bam_clean_sorted_file_path" value="deeparg/result_file.clean.sorted.bam" ftype="bam"/> 
                        <param name="daa_clean_align_file_path" value="deeparg/result_file.clean.deeparg.align.daa" ftype="daa"/> 
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0.4"/>
                        </conditional>
                        <param name="reference_database_version" value="deeparg_1.0.4"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="drep"/>
                        <param name="input" value="drep/Widb.csv" ftype="tabular"/>
                        <param name="bdb_file_path" value="drep/Bdb.csv" ftype="tabular"/>
                        <param name="cdb_file_path" value="drep/Cdb.csv" ftype="tabular"/>
                        <param name="chdb_file_path" value="drep/Chdb.csv" ftype="tabular"/>
                        <param name="mdb_file_path" value="drep/Mdb.csv" ftype="tabular"/>
                        <param name="ndb_file_path" value="drep/Ndb.csv" ftype="tabular"/>
                        <param name="sdb_file_path" value="drep/Sdb.csv" ftype="tabular"/>
                        <param name="wdb_file_path" value="drep/Wdb.csv" ftype="tabular"/>
                        <param name="winning_genomes_pdf_path" value="drep/winning_genomes.pdf" ftype="pdf"/>
                        <param name="cluster_scoring_pdf_path" value="drep/cluster_scoring.pdf" ftype="pdf"/>
                        <param name="clustering_scatterplots_pdf_path" value="drep/clustering_scatterplots.pdf" ftype="pdf"/>
                        <param name="primary_clustering_dendrogram_pdf_path" value="drep/primary_clustering_dendrogram.pdf" ftype="pdf"/>
                        <param name="secondary_clustering_dendrogram_pdf_path" value="drep/secondary_clustering_dendrogram.pdf" ftype="pdf"/>                        
                        <param name="secondary_clustering_mds_pdf_path" value="drep/secondary_clustering_MDS.pdf" ftype="pdf"/>
                        <param name="log_file_path" value="drep/log_file.txt" ftype="txt"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="3.4.2"/>
                        </conditional>
                        <param name="reference_database_version" value=""/>
                    </conditional>
                </repeat>              
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="eggnogmapper"/>
                        <param name="input" value="eggnogmapper/annotation_report.tsv" ftype="tabular"/>
                        <param name="seed_orthologs_report_path" value="eggnogmapper/seed_orthologs.tsv"/>
                        <param name="orthologs_report_path" value="eggnogmapper/orthologs.tsv"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="2.1.12"/>
                        </conditional>
                        <param name="reference_database_version" value="Eggnog-DB"/>
                    </conditional>
                </repeat>              
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="fastp"/>
                        <param name="input" value="fastp/fastp_report.json" ftype="json"/>
                        <param name="trimmed_forward_R1_path" value="fastp/trimmed_R1.fastq.gz"/>
                        <param name="trimmed_reverse_R2_path" value="fastp/trimmed_R2.fastq.gz"/>
                        <param name="html_report_path" value="fastp/fastp_report.html"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="1.0"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="fastqc"/>
                        <param name="input" value="fastqc/fastqc_report.txt" ftype="txt"/>
                        <param name="html_report_path" value="fastqc/fastqc_report.html"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="0.12.1"/>
                        </conditional>
                        <param name="reference_database_version" value=""/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="filtlong"/>
                        <param name="input" value="filtlong/filtered_sample.fastq.gz" ftype="fastq.gz"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="0.2.1"/>
                        </conditional>
                        <param name="reference_database_version" value=""/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="flye"/>
                        <param name="input" value="flye/assembly.fasta" ftype="fasta"/>
                        <param name="contig_graph_path" value="flye/assembly.gfa" ftype="txt"/>
                        <param name="tsv_file_path" value="flye/assembly_infos.tsv" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="2.9.1"/>
                        </conditional>
                        <param name="reference_database_version" value=""/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="groot"/>
                        <param name="input" value="groot/report.tsv" ftype="tabular"/>
                        <param name="groot_log_path" value="groot/groot.log" ftype="txt"/>
                        <param name="bam_file_path" value="groot/groot.bam" ftype="bam"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.1.2"/>
                        </conditional>
                        <param name="reference_database_version" value="groot-db.90"/>
                    </conditional>
                </repeat>                
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="gtdbtk"/>
                        <param name="input" value="gtdbtk/taxonomy_summary.tsv" ftype="tabular"/>
                        <param name="log_file_path" value="gtdbtk/log_file.txt" ftype="txt"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="2.4.1"/>
                        </conditional>
                        <param name="reference_database_version" value="release220"/>
                    </conditional>
                </repeat>                                
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="integronfinder2"/>
                        <param name="input" value="integronfinder2/results.integrons" ftype="tabular"/>
                        <param name="summary_file_path" value="integronfinder2/results.summary" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="1.0"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="isescan"/>
                        <param name="input" value="isescan/results.tsv" ftype="tabular"/>
                        <param name="summary_path" value="isescan/summary.tsv"/>
                        <param name="annotation_path" value="isescan/annotation.gff"/>
                        <param name="orf_fna_path" value="isescan/orf.fna"/>
                        <param name="orf_faa_path" value="isescan/orf.faa"/>
                        <param name="is_fna_path" value="isescan/is.fna"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="1.0"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="kraken2"/>
                        <param name="input" value="kraken2/taxonomy_report.tsv" ftype="tabular"/>
                        <param name="seq_classification_file_path" value="kraken2/taxonomy_result.tsv" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="1.0"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="maxbin2"/>
                        <param name="input" value="maxbin2/bin_summary.tabular" ftype="tabular"/>                        
                        <param name="too_short_sequences_file_path" value="maxbin2/too_short_sequences.fasta" ftype="fasta"/>
                        <param name="unclassified_sequences_file_path" value="maxbin2/unclassified_sequences.fasta" ftype="fasta"/>
                        <param name="marker_gene_presence_file_path" value="maxbin2/marker_gene_presence.tabular" ftype="tabular"/>
                        <param name="marker_gene_presence_plot_path" value="maxbin2/marker_gene_presence_plot.pdf" ftype="pdf"/>
                        <param name="log_file_path" value="maxbin2/log_file.txt" ftype="txt"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="2.2.7"/>
                        </conditional>
                        <param name="reference_database_version" value=""/>
                    </conditional>
                </repeat>                
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="megahit"/>
                        <param name="input" value="megahit/assembly.fasta" ftype="fasta"/>
                        <param name="log_file_path" value="megahit/log.txt" ftype="txt"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.2.9"/>
                        </conditional>
                        <param name="reference_database_version" value=""/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="metabat2"/>
                        <param name="input" value="metabat2/cluster_membership.tsv" ftype="tabular"/>
                        <param name="too_short_sequences_file_path" value="metabat2/too_short.fa" ftype="fasta"/>
                        <param name="unbinned_sequences_file_path" value="metabat2/unbinned.fa" ftype="fasta"/>
                        <param name="low_depth_sequences_file_path" value="metabat2/low_depth.fa" ftype="fasta"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="2.17"/>
                        </conditional>
                    </conditional>
                </repeat>                
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="mmseqs2linclust"/>
                        <param name="input" value="mmseqs2linclust/rep_seq.fasta" ftype="fasta"/>
                        <param name="cluster_fasta_like_path" value="mmseqs2linclust/cluster_fasta_like.fasta" ftype="fasta"/>
                        <param name="tsv_file_path" value="mmseqs2linclust/tsv_file.tsv" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="17-b804f"/>
                        </conditional>
                        <param name="reference_database_version" value=""/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="mmseqs2taxonomy"/>
                        <param name="input" value="mmseqs2taxonomy/tax_output.tsv" ftype="tabular"/>
                        <param name="kraken_report_path" value="mmseqs2taxonomy/kraken_report.txt" ftype="txt"/>
                        <param name="krona_report_path" value="mmseqs2taxonomy/krona_report.html"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="17-b804f"/>
                        </conditional>
                        <param name="reference_database_version" value="Uniref50"/>
                    </conditional>
                </repeat>                
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="plasmidfinder"/>
                        <param name="input" value="plasmidfinder/plasmidfinder_result.json" ftype="json"/>
                        <param name="genome_hit_path" value="plasmidfinder/genome_hit.fasta" ftype="fasta"/>
                        <param name="plasmid_hit_path" value="plasmidfinder/plasmid_hit.fasta" ftype="fasta"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="1.0"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="polypolish"/>
                        <param name="input" value="polypolish/polished_assembly.fasta" ftype="fasta"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="0.2.1"/>
                        </conditional>
                        <param name="reference_database_version" value=""/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="prodigal"/>
                        <param name="input" value="prodigal/output.fnn" ftype="fasta"/>
                        <param name="protein_translation_file_path" value="prodigal/output.faa"/>
                        <param name="potential_gene_start_file_path" value="prodigal/output.start"/>
                        <param name="gbk_genes_coordinate_file_path" value="prodigal/output.gbk"/>
                        <param name="gff_genes_coordinate_file_path" value="prodigal/output.gff"/>
                        <param name="sco_genes_coordinate_file_path" value="prodigal/output.sco"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="2.6.3"/>
                        </conditional>
                        <param name="reference_database_version" value=""/>
                    </conditional>
                </repeat>                
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="quast"/>
                        <param name="input" value="quast/quast_result.tsv" ftype="tabular"/>
                        <param name="quast_html_path" value="quast/quast_report.html"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="0.5.0"/>
                        </conditional>
                        <param name="reference_database_version" value=""/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="recentrifuge"/>
                        <param name="input" value="recentrifuge/rcf_data.tsv" ftype="tabular"/>
                        <param name="rcf_stat_path" value="recentrifuge/rcf_stat.tsv" ftype="tabular"/>
                        <param name="rcf_html_path" value="recentrifuge/rcf_report.html"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="1.0"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="refseqmasher"/>
                        <param name="input" value="refseqmasher/refsesqmasher.tsv" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="1.0"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="shovill"/>
                        <param name="input" value="shovill/contigs.fa" ftype="fasta"/>
                        <param name="contig_graph_path" value="shovill/contigs.gfa" ftype="txt"/>
                        <param name="bam_file_path" value="shovill/alignment.bam" ftype="bam"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="1.0"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="sylph"/>
                        <param name="input" value="sylph/report.tsv" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="0.8.1"/>
                        </conditional>
                        <param name="reference_database_version" value="gtdb-r220-c200-dbv1.syldb"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="sylphtax"/>
                        <param name="input" value="sylphtax/merge_report.tsv" ftype="tabular"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.2.0"/>
                        </conditional>
                        <param name="reference_database_version" value="GTDB_r220"/>
                    </conditional>
                </repeat>
                <repeat name="tools">
                    <conditional name="select_tool">
                        <param name="tool_list" value="tabular_file"/>
                        <param name="input" value="tabular_file/report.tsv" ftype="tabular"/>
                        <param name="analysis_software_name" value="test_galaxy"/>
                        <conditional name="origin">
                            <param name="origin" value="true"/>
                            <param name="analysis_software_version" value="1.0"/>
                        </conditional>
                        <param name="reference_database_version" value="1.0"/>
                    </conditional>
                </repeat>
            </section>
            <output_collection name="output_json" type="list" count="39">
                <expand macro="element_assert" name="abricate_0_output" text="Enterococcus faecalis V583"/>
                <expand macro="element_assert" name="amrfinderplus_1_output" text="mercury resistance transcriptional regulator MerR"/>
                <expand macro="element_assert" name="argnorm_2_output" text="erm(G)_1_M15332"/>
                <expand macro="element_assert" name="bakta_3_output" text="hypothetical protein"/>
                <expand macro="element_assert" name="bandage_4_output" text="3042326"/>
                <expand macro="element_assert" name="bracken_5_output" text="Staphylococcus_aureus"/>
                <expand macro="element_assert" name="bwa_6_output" text="bwa_report"/>
                <expand macro="element_assert" name="checkm2_7_output" text="UniRef100_B5R745"/>
                <expand macro="element_assert" name="concoct_8_output" text="k141_10283"/>
                <expand macro="element_assert" name="coreprofiler_9_output" text="accC_S_6db3bfc0871923e1aedb4998b3c93b37"/>
                <expand macro="element_assert" name="coverm_10_output" text="genome1"/>
                <expand macro="element_assert" name="dastool_11_output" text="MetaBAT2_4"/>
                <expand macro="element_assert" name="deeparg_12_output" text="ZP_04557016|FEATURES|tetQ|tetracycline|tetQ"/>
                <expand macro="element_assert" name="drep_13_output" text="MaxBin2_002.fasta"/>
                <expand macro="element_assert" name="eggnogmapper_14_output" text="449673.BACSTE_02616"/>
                <expand macro="element_assert" name="fastp_15_output" text="705053822"/>
                <expand macro="element_assert" name="fastqc_16_output" text="Sequences flagged as poor quality"/>
                <expand macro="element_assert" name="filtlong_17_output" text="filtlong_report"/>
                <expand macro="element_assert" name="flye_18_output" text="contig_2"/>
                <expand macro="element_assert" name="groot_19_output" text="groot-db_RESFINDER__erm(F)_4_M62487"/>
                <expand macro="element_assert" name="gtdbtk_20_output" text="d__Bacteria;p__Bacillota_A;c__Clostridia;o__Oscillospirales;f__Ruminococcaceae;g__Faecalibacterium;s__Faecalibacterium prausnitzii_D"/>
                <expand macro="element_assert" name="integronfinder2_21_output" text="2353.0"/>
                <expand macro="element_assert" name="isescan_22_output" text="IS200/IS605"/>
                <expand macro="element_assert" name="kraken2_23_output" text="Enterococcus_faecalis"/>
                <expand macro="element_assert" name="maxbin2_24_output" text="out.005.fasta"/>
                <expand macro="element_assert" name="megahit_25_output" text="k141_27293"/>
                <expand macro="element_assert" name="metabat2_26_output" text="cluster_1_k117_19573"/>
                <expand macro="element_assert" name="mmseqs2linclust_27_output" text="MYSTERY.179"/>
                <expand macro="element_assert" name="mmseqs2taxonomy_28_output" text="Burkholderiaceae"/>
                <expand macro="element_assert" name="plasmidfinder_29_output" text="repUS40_1_repB"/>
                <expand macro="element_assert" name="polypolish_30_output" text="320811"/>
                <expand macro="element_assert" name="prodigal_31_output" text="NZ_CP043953.1_1"/>
                <expand macro="element_assert" name="quast_32_output" text="2944723"/>
                <expand macro="element_assert" name="recentrifuge_33_output" text="6.4917947578"/>
                <expand macro="element_assert" name="refseqmasher_34_output" text="GCF_000519925.1"/>
                <expand macro="element_assert" name="shovill_35_output" text="436224"/>
                <expand macro="element_assert" name="sylph_36_output" text="gtdb_genomes_reps_r220/database/GCF/000/012/825/GCF_000012825.1_genomic.fna.gz"/>
                <expand macro="element_assert" name="sylphtax_37_output" text="d__Archaea|p__Methanobacteriota|c__Methanobacteria|o__Methanobacteriales|f__Methanobacteriaceae|g__Methanobrevibacter_A|s__Methanobrevibacter_A smithii|t__GCF_000016525.1"/>
                <expand macro="element_assert" name="tabular_file_38_output" text="NP_814691"/>
            </output_collection>
        </test>
    </tests>
    <help><![CDATA[
**What it does**

ToolDistillator is a tool to extract information from output files of specific tools, expose it as JSON files, and aggregate over several tools.

This tool here is extracting information from output files of specific tools and exposing it as JSON files

** Tool input**

A diverse set of tools is available, along with a generic one for tabular files with headers. There is also a command to aggregate JSON outputs.

+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Tools                       | Version        | Default input file                    | Optional files                                                                                                                                                                                                                                                                                                                                                  |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Abricate                    | 1.0.1          | output.tsv                            |                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| AMRFinderPlus               | 3.11.26        | report.tsv                            | point_mutation_report.tsv, nucleotide_sequence.fasta                                                                                                                                                                                                                                                                                                            |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| argNorm                     | 1.0.0          | output.tsv                            |                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Bakta                       | 1.7.0          | output.json                           | protein.faa, nucleotide.fna, annotation.gff3, summary.txt                                                                                                                                                                                                                                                                                                       |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Bandage                     | 0.8.1          | info.txt                              | bandage_plot.svg                                                                                                                                                                                                                                                                                                                                                |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Bracken                     | 2.8            | output.tsv                            | taxonomy.tsv                                                                                                                                                                                                                                                                                                                                                    |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| BWA                         | 2.2.1          | input1.bam                            | input2.bam                                                                                                                                                                                                                                                                                                                                                      |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| CheckM2                     | 1.0.2          | quality_report.tsv                    | DIAMOND_RESULTS.tsv, protein_files.zip, checkm2.log                                                                                                                                                                                                                                                                                                             |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Concoct                     | 1.1.0          | merge_cut_clusters.csv                | fasta_bin_zip_folder.zip, contigs_cut_up.fasta, coordinates_cut_up.bed, coverage_table.tabular, log_file.txt                                                                                                                                                                                                                                                    |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| CoreProfiler                | 1.1.1          | calling_results.tsv                   | profiles_w_tmp_alleles.json, new_alleles.fasta                                                                                                                                                                                                                                                                                                                  |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| CoverM                      | 0.7.0          | coverage_report.tsv                   | dereplication_cluster_definition.tsv, dereplication_representative_fasta_zip.zip                                                                                                                                                                                                                                                                                |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| DasTool                     | 1.1.7          | summary_bins.tabular                  | fasta_bin_zip_folder.zip, contig_to_bin.tabular, quality_and_completness.tabular, protein_sequences.fasta, unbinned_sequences.fasta, log_file.txt                                                                                                                                                                                                               |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| DeepARG                     | 1.0.4          | result_file.clean.deeparg.mapping.ARG | report_arg_merged.tsv, report_arg_merged_quant_subtype.tsv, report_arg_merged_quant_type.tsv, report_potential_arg.tsv, sequence_clean.fasta, bam_clean.bam, sam_clean.txt, bam_clean_sorted.bam, daa_clean_align.daa                                                                                                                                           |
+-----------------------------+----------------+---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------+
| dRep                        | 3.4.2          | Widb.csv                              | fasta_dereplicated_bin_zip_folder.zip, bdb_file.csv, cdb_file.csv, chdb_file.csv, mdb_file.csv, ndb_file.csv, sdb_file.csv, wdb_file.csv, winning_genomes_pdf.pdf, cluster_scoring_pdf.pdf, clustering_scatterplots_pdf.pdf, primary_clustering_dendrogram_pdf.pdf, secondary_clustering_dendrogram_pdf.pdf, secondary_clustering_mds_pdf.pdf, log_file.txt     |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Eggnog-Mapper               | 2.1.12         | annotation_report.tsv                 | seed_orthologs_report.tsv, orthologs_report.tsv                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Fastp                       | 0.23.2         | output.json                           |                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Fastqc                      | 0.12.1         | report.txt                            | report.html                                                                                                                                                                                                                                                                                                                                                     |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Filtlong                    | 0.2.1          | input.fastq                           |                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Flye                        | 2.9.1          | contig.fasta                          | contig.gfa, infos.tsv                                                                                                                                                                                                                                                                                                                                           |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Groot                       | 1.1.2          | report.tsv                            | bam_file.bam, groot_log.txt                                                                                                                                                                                                                                                                                                                                     |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GTDB-tk                     | 2.4.1          | taxonomy_summary.tsv                  | classify_directory.zip, align_directory.zip, identify_directory.zip, log_file.txt                                                                                                                                                                                                                                                                               |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Integronfinder2             | 2.0.2          | output.integrons                      | output.summary                                                                                                                                                                                                                                                                                                                                                  |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ISEScan                     | 1.7.2.3        | output.tsv                            | is.fna, orf.faa, orf.fna                                                                                                                                                                                                                                                                                                                                        |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Kraken2                     | 2.1.2          | taxonomy.tsv                          | reads_assignation.txt                                                                                                                                                                                                                                                                                                                                           |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Maxbin2                     | 2.2.7          | bin_summary.tabular                   | fasta_bin_zip_folder.zip, bin_predicted_markers_zip_folder.zip, too_short_sequences.fasta, unclassified_sequences.fasta, marker_gene_presence.tabular, marker_gene_presence_plot.pdf, log_file.txt                                                                                                                                                              |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Megahit                     | 1.2.9          | assembly.fasta                        | intermediate_contig_folder.zip, log_file.txt                                                                                                                                                                                                                                                                                                                    |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Metabat2                    | 2.17           | cluster_membership.tsv                | fasta_bin_zip_folder.zip, too_short_sequences.fasta, unbinned_sequences.fasta, low_depth_sequences.fasta                                                                                                                                                                                                                                                        |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| MMseqs2 linclust            | 17-b804f       | rep_seq.fasta                         | cluster_fasta_like.fasta, tsv_file.tsv                                                                                                                                                                                                                                                                                                                          |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| MMseqs2 taxonomy            | 17-b804f       | tax_output.tsv                        | kraken_report.txt, krona_report.html                                                                                                                                                                                                                                                                                                                            |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| MultiQC                     | 1.11           | report.html                           |                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PlasmidFinder               | 2.1.6          | output.json                           | genome_hits.fasta, plasmid_hits.fasta                                                                                                                                                                                                                                                                                                                           |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Polypolish                  | 0.5.0          | contig.fasta                          |                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Prodigal                    | 2.6.3          | output.fnn                            | protein_translation.faa, potential_gene_start.start, gbk_genes_coordinate.gbk, gff_genes_coordinate.gff, sco_genes_coordinate.sco                                                                                                                                                                                                                               |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Quast                       | 5.2.0          | output.tsv                            |                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Recentrifuge                | 1.10.0         | data.tsv                              | report.html, stat.tsv                                                                                                                                                                                                                                                                                                                                           |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| RefSeqMasher                | 0.1.2          | output.tsv                            |                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Shovill                     | 1.1.0          | contigs.fasta                         | alignment.bam, contigs.gfa                                                                                                                                                                                                                                                                                                                                      |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Staramr                     | 0.9.1          | resfinder.tsv                         | mlst.tsv, pointfinder.tsv, plasmidfinder.tsv, settings.tsv                                                                                                                                                                                                                                                                                                      |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Sylph                       | 0.8.1          | report.tsv                            |                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Sylph-tax                   | 1.2.0          | merge_report.tsv                      | taxonomic_profile_folder.zip                                                                                                                                                                                                                                                                                                                                    |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tabular_file                | 0              | output.tsv                            |                                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------+----------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

** Options **

You can add a tool version and a database version for related tools.
For some tools you can add optional files previously produced by the tool

            ]]></help>
    <expand macro="citations"/>
</tool>
