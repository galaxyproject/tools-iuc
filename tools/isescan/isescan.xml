<tool id="isescan" name="ISEScan" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@">
    <description> Insertion Sequence Elements in prokaryotic genomes </description>


    <command detect_errors="exit_code"><![CDATA[
        isescan.py
        --seqfile '$input_file'
        --output 'results'
        --nthread \${GALAXY_SLOTS:-1}
        | tee '$logfile'

    ]]></command>
    <inputs>
        <param name="input_file" type="data" format="fasta,fasta.gz" label="Genome fasta input" help="Sequence in fasta to analyse for IS"/>
        <param name="remove_shortis" argument="--removeShortIS" type="boolean" truevalue="--removeShortIS" falsevalue="" checked="true"
               label="Remove incomplete IS elements"
               help="Remove partial IS elements which include IS element with length < 400 or single copy IS element without perfect TIR"/>
        <param name="output_format" type="select" label="Output format type" help="Choose a output file format">
            <option value="raw"> Raw format (txt) </option>
            <option value="csv"> Coma separate file (CSV) </option>
            <option value="tsv"> Tabular separate file (TSV) </option>
        </param>
    </inputs>
    <outputs>
        <data name="summary" format="text" label="${tool.name} on ${on_string}: Summary"/>
        <data name="is_results" format="tabular" label="${tool.name} on ${on_string}: IS detected">
          <change_format>
              <when input="output_format" value="raw" format="txt"/>
              <when input="output_format" value="csv" format="csv"/>
              <when input="output_format" value="tsv" format="tabular"/>
          </change_format>
        </data>
        <data name="gff_file" format="gff3" label="IS annotation"/>
        <data name="is_file" format="fasta" label="${tool.name} on ${on_string}: IS nucleic sequence"/>
        <data name="tpase_fasta" format="fasta" label="${tool.name} on ${on_string}: Transposase nucleic acid sequence"/>
        <data name="tpase_amino" format="fasta" label="${tool.name} on ${on_string}: Transposase amino acid sequence"/>
    </outputs>
