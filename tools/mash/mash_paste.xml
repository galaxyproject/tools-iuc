<tool id="mash_paste" name="mash paste" version="@TOOL_VERSION@+galaxy0" profile="@PROFILE@">
    <description>Create a single sketch file from multiple sketch files.</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="xref"/>
    <expand macro="requirements"/>
    <expand macro="version_command"/>
    <command detect_errors="exit_code"><![CDATA[
		#set $list_inputs = []
		#for $file in $msh_files
			ln -s $file "${file.element_identifier}.${file.ext}" &&
			$list_inputs.append("%s.%s" % ($file.element_identifier, $file.ext))
		#end for

		#set list_files=' '.join([ '\'%s\'' % $input for $input in $list_inputs])
        mash paste result.msh $list_files &&
		mv result.msh $output
            ]]></command>
    <inputs>
        <param name="msh_files" type="data" format='msh' multiple="true" label="Sketch files to merge"/>
    </inputs>
    <outputs>
        <data name="output" format="msh" label="${tool.name} on ${on_string}: Output Sketch File"/>
    </outputs>
    <tests>
        <test expect_num_outputs="1">
            <param name="msh_files" value="test_01_mash_sketch.msh,test_02_mash_sketch.msh"/>
			<output name="output" file="res_paste.msh" compare="sim_size" />
        </test>
    </tests>
    <help><![CDATA[
	Create a single sketch file from multiple sketch files.
  ]]></help>
    <expand macro="citations"/>
</tool>