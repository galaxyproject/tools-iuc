<tool id="autocycler_gfa2fasta" name="AutoCycler GFA to FASTA" version="@TOOL_VERSION@+galaxy0" profile="@PROFILE@">
    <description>convert GFA assembly graph to FASTA sequences</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command detect_errors="exit_code"><![CDATA[
        #import re

        
        #set $identifier = re.sub('[^\w\-_\.]', '_', $in_gfa.element_identifier)
        ln -s '$in_gfa' '${identifier}' &&
        autocycler gfa2fasta
        --in_gfa '${identifier}'
        --out_fasta output.fa
        ]]></command>
    <inputs>
        <param argument="--in_gfa" type="data" format="gfa1" label="Input GFA file"
            help="Assembly graph in GFA format to convert"/>    
    </inputs>
    <outputs>
        <data name="fasta_output" format="fasta" from_work_dir="output.fa"/>
    </outputs>
    <tests>
        <test>
            <param name="in_gfa" value="clean.gfa"/>
            <output name="fasta_output" file="clean.fasta" ftype="fasta" compare="diff" lines_diff="100"/>
        </test>
    </tests>
    <help><![CDATA[
**AutoCycler GFA to FASTA Tool**

This tool converts assembly graphs in GFA format to FASTA sequences.

**Inputs**
- Input GFA file (assembly graph)

**Outputs**
- FASTA file containing sequences from the graph

**Parameters**
- Output filename: Name for the resulting FASTA file

**Notes**
- Extracts all sequences from the GFA file
- Preserves sequence identifiers from the original graph
- Useful for downstream analysis requiring FASTA format
- Maintains sequence quality and integrity
    ]]></help>
    <expand macro="citations"/>
</tool>
