<tool id="cd_hit_div" name="cd-hit-div" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@">
    <description>Sort and divide sequence database into shorter files</description>
    <macros>
        <token name="@TOOL_VERSION@">4.8.1</token>    
        <token name="@VERSION_SUFFIX@">0</token>
    </macros>
    <requirements>
        <requirement type="package" version="@TOOL_VERSION@">cd-hit</requirement>
    </requirements>
    <version_command><![CDATA[
cd-hit | grep "CD-HIT version" | cut -d" " -f 4
    ]]></version_command>
    <command detect_errors="exit_code"><![CDATA[
cd-hit-div
-i '$fasta_in'
-div $divide
-o $fasta_out

    ]]></command>
    <inputs>
        <param name="fasta_in" argument="-i" type="data" format="fasta, fasta.gz" label="Sequences to divide"/>
        <param name="divide" argument="-div" type="integer" label="Number of divides"/>
    </inputs>
    <outputs>
        <data format_source="fasta_in" name="fasta_out" metadata_source="fasta_in"/>
    </outputs>

    <tests>
        <test>
            <output name="fasta_out">
                <assert_contents>
                    <has_text_matching expression=".+"/>
                </assert_contents>
            </output> 
        </test>
    </tests>
    <help><![CDATA[
**What it does**


.. _CD-HIT: http://weizhongli-lab.org/cd-hit/

------

**Inputs**

cd-hit-div requires a FASTA file(s) as input or compressed .gz files.

------

**Outputs**

------

**References**

More information are available on `GitHub <https://github.com/weizhongli/cdhit>`_ and the `project website <http://cd-hit.org>`.
    ]]></help>
    <citations>
        <citation type="doi">10.1093/bioinformatics/btl158</citation>
        <citation type="doi">10.1093/bioinformatics/bts565</citation>
    </citations>
</tool>
