<macros>
    <token name="@TOOL_VERSION@">3.6.7</token>
    <token name="@VERSION_SUFFIX@">0</token>
    <token name="@PROFILE@">25.0</token>

    <xml name="requirements">
        <requirements>
            <requirement type="package" version="3.10.18">python</requirement>
            <requirement type="package" version="@TOOL_VERSION@">biapy</requirement>
            <requirement type="package" version="4.12.0">opencv</requirement>
            <requirement type="package" version="3.4.4">openexr</requirement>
            <requirement type="package" version="0.7.0">safetensors</requirement>
        </requirements>
    </xml>
    <xml name="creators">
        <creator>
            <person givenName="Daniel" familyName="Franco" url="https://danifranco.github.io/" identifier="https://orcid.org/0000-0002-1109-110X" />
        </creator>
    </xml>
    <xml name="citations">
        <citations>
            <citation type="doi">10.1038/s41592-025-02699-y</citation>
            <yield/>
        </citations>
    </xml>

    <xml name="train_raw_param">
        <param name="raw_train" type="data" format="tiff,tif,png,jpg,h5" multiple="true" label="Specify the training raw images" help="Select the training images; all must have the same number of channels, and each channel should contain the same type of information (see https://biapy.readthedocs.io/en/latest/get_started/how_it_works.html for details)."/>
    </xml>

    <xml name="train_raw_param_opt_custom_cfg">
        <param name="raw_train" type="data" optional="true" format="tiff,tif,png,jpg,h5" multiple="true" label="Specify the training raw images" help="Select the training images; all must have the same number of channels, and each channel should contain the same type of information (see https://biapy.readthedocs.io/en/latest/get_started/how_it_works.html for details)."/>
    </xml>

    <xml name="train_gt_param">
        <conditional name="train_gt_workflow_cond">
            <param name="workflow_check" type="select" value_from="mode_selection.workflow" label="Internal Workflow Check" visible="false"/>
            <when value="semantic">
                <expand macro="train_gt_param_question"/>
            </when>
            <when value="instance">
                <expand macro="train_gt_param_question"/>
            </when>
            <when value="detection">
                <expand macro="train_gt_param_question"/>
            </when>
            <when value="sr">
                <expand macro="train_gt_param_question"/>
            </when>
            <when value="cls">
                <expand macro="train_gt_param_question"/>
            </when>
            <when value="sr2">
                <expand macro="train_gt_param_question"/>
            </when>
            <when value="i2i">
                <expand macro="train_gt_param_question"/>
            </when>
        </conditional>
    </xml>
    <xml name="train_gt_param_question">
        <param name="gt_train" type="data" format="tiff,tif,png,jpg,h5,csv,txt" multiple="true" label="Specify the training ground truth (target) images" help="Select the ground truth (target) data for training; the expected format depends on the workflow (e.g. masks for semantic/instance segmentation, centroid files for detection, high-res images for super-resolution, paired images for image-to-image); see https://biapy.readthedocs.io/en/latest/get_started/select_workflow.html for details."/>
    </xml>

    <xml name="train_gt_param_opt_custom_cfg">
        <param name="gt_train" type="data"  optional="true" format="tiff,tif,png,jpg,h5,csv,txt" multiple="true" label="Specify the training ground truth (target) images" help="Select the ground truth (target) data for training; the expected format depends on the workflow (e.g. masks for semantic/instance segmentation, centroid files for detection, high-res images for super-resolution, paired images for image-to-image); see https://biapy.readthedocs.io/en/latest/get_started/select_workflow.html for details."/>
    </xml>

    <xml name="test_raw_param">
        <param name="raw_test" type="data" format="tiff,tif,png,jpg,h5" multiple="true" label="Specify the test raw images" help="Select the test images; all must have the same number of channels, and each channel should contain the same type of information to avoid confusing the model."/>
    </xml>
    <xml name="test_raw_param_opt_custom_cfg">
        <param name="raw_test" type="data" format="tiff,tif,png,jpg,h5" optional="true" multiple="true" label="Specify the test raw images" help="Select the test images; all must have the same number of channels, and each channel should contain the same type of information to avoid confusing the model."/>
    </xml>
    <xml name="test_gt_param_opt_custom_cfg">
        <param name="gt_test"
            type="data"
            format="tiff,tif,png,jpg,h5,csv,txt"
            multiple="true"
            label="Specify the test ground truth/target images (optional)"
            help="Select the ground truth (target) data for testing; the expected format depends on the workflow (e.g. masks for semantic/instance segmentation, centroid files for detection, high-res images for super-resolution, paired images for image-to-image). If provided, BiaPy will compute workflow-specific evaluation metrics on the test set. See https://biapy.readthedocs.io/en/latest/get_started/select_workflow.html for details."
            optional="true" />
    </xml>
    <xml name="test_gt_param">
        <conditional name="test_gt_workflow_cond">
            <param name="workflow_check" type="select" value_from="mode_selection.workflow" label="Internal Workflow Check"/>
            <when value="semantic">
                <expand macro="test_gt_param_question"/>
            </when>
            <when value="instance">
                <expand macro="test_gt_param_question"/>
            </when>
            <when value="detection">
                <expand macro="test_gt_param_question"/>
            </when>
            <when value="sr">
                <expand macro="test_gt_param_question"/>
            </when>
            <when value="cls">
                <expand macro="test_gt_param_question"/>
            </when>
            <when value="sr2">
                <expand macro="test_gt_param_question"/>
            </when>
            <when value="i2i">
                <expand macro="test_gt_param_question"/>
            </when>
        </conditional>
    </xml>
    <xml name="test_gt_param_question">
        <param name="gt_test"
            type="data"
            format="tiff,tif,png,jpg,h5,csv,txt"
            multiple="true"
            label="Specify the test ground truth/target images (optional)"
            help="Select the ground truth (target) data for testing; the expected format depends on the workflow (e.g. masks for semantic/instance segmentation, centroid files for detection, high-res images for super-resolution, paired images for image-to-image). If provided, BiaPy will compute workflow-specific evaluation metrics on the test set. See https://biapy.readthedocs.io/en/latest/get_started/select_workflow.html for details."
            optional="true" />
    </xml>
</macros>