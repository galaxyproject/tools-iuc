<tool id='strawberry' name='Strawberry' version='@TOOL_VERSION@+galaxy@SUFFIX_VERSION@' profile='20.01'>
    <description>fast and accurate ab initio transcript reconstruction and quantification</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro='xrefs' />
    <expand macro='requirements' />
    <command detect_errors='exit_code'><![CDATA[
    ~/bin/strawberry $mode_options
    #if $mode_options == ''
        

    --output-gtf output.gtf
    --num-threads \${GALAXY_SLOTS:-2}
    ]]>    </command>
    <inputs>
        <param name="bam_file" type="data" format="bam" label="BAM file" help="This step can be done using any splice-awareness aligner, e.g. Tophat 2, GSNAP, HISAT 2. 
            The BAM file needs to be sorted according to the genomic positions. If you use Tophat, the default output is already sorted. For other software, you might 
            have to sort their outputs before running Strawberry. This can be done using Samtools command samtools sort. Strawberry is designed for Illumina pair-end reads." />
        <param name="gff_file" type="data" format="gff3,gtf" label="Reference transcripts annotation file"/>
        <conditional name="mode_conditional">
            <param name="mode_options" type="select" label="Mode options">
                <option value="">Assembly and quantification mode</option>
                <option value="--no-assembly">Quantification mode</option>
                <option value="--no-quant">Assembly mode</option>
            </param>
            <when value="">
                <expand macro="common_parameters"/>
                <section name="assembly_section" title="Assembly options">
                    <expand macro="assembly_parameters"/>
                </section>
                <section name="quantification_section" title="Quantification options">
                    <expand macro="quantification_parameters"/>
                </section>
            </when>
            <when value="--no-quant">
                <expand macro="common_parameters"/>
                <section name="assembly_section" title="Assembly options">
                    <expand macro="assembly_parameters"/>
                </section>
            </when>
            <when value="--no-assembly">
                <expand macro="common_parameters"/>
                <section name="quantification_section" title="Quantification options">
                    <expand macro="quantification_parameters"/>
                </section>
            </when>
        </conditional>
        <param name="outputs" type="select" label="Output files">
            <option value="--logfile">Log file</option>
        </param>
    </inputs>
    <outputs>

    </outputs>
    <tests>

    </tests>
    <help><![CDATA[

.. class:: infomark

**Purpose**
----

]]>    </help>
    <expand macro="citations"/>
</tool>
