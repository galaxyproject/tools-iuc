<tool id="JoinProfiles" name="chewBBACA JoinProfiles" version="@CHEW_VERSION@+galaxy0" python_template_version="3.5" profile="21.05">
    <description>Join allele calling results from different runs</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements" />
    <command detect_errors="exit_code"><![CDATA[      
        chewBBACA.py JoinProfiles
            -p $input1
            #for $q in $queries 
                '${q.input2}'
            #end for
            -o JoinedProfile.tsv
    ]]></command>
    <inputs>
        <param name="input1" type="data" format="tsv" multiple="false" label="AlleleCall results" />
        <repeat name="queries" title="AlleleCall results to join">
            <param name="input2" type="data" format="tsv" label="Select"/>
        </repeat>
    </inputs>
    <outputs>
        <data format="tsv" name="JoinedProfile" from_work_dir="JoinedProfile.tsv" label="${tool.name} on ${on_string}: Joined profiles"/>
    </outputs>
    <tests>
        <test>
            <param name="input1" value="results_alleles.tsv"/>
            <param name="input2" value="results_alleles.tsv"/>
            <output name="JoinedProfile" file="JoinedProfile.tsv" compare="sim_size"/>
        </test>
    </tests>
    <help><![CDATA[
chewBBACA version: 3.3.3
Authors: Rafael Mamede, Pedro Cerqueira, Mickael Silva, João Carriço, Mário Ramirez
Github: https://github.com/B-UMMI/chewBBACA
Documentation: https://chewbbaca.readthedocs.io/en/latest/index.html
Contacts: imm-bioinfo@medicina.ulisboa.pt

============================
  chewBBACA - JoinProfiles
============================
    ]]></help>
    <expand macro="citations" />
</tool>