<tool id="NSStats" name="chewBBACA NSStats" version="@CHEW_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@">
    <description>Retrieve basic information about the species and schemas in Chewie-NS</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements" />
    <command detect_errors="exit_code"><![CDATA[
        chewBBACA.py NSStats
            -m $mode
            --sp $species_id 
            --sc $schema_id
            --ns $nomenclature_server > NSStats.txt
    ]]></command>
    <inputs>
        <param argument="--mode" type="select" label="Mode" optional="false">
            <option value="species">species: </option>
            <option value="schemas">schemas: </option>
        </param>
        <param argument="--species-id" type="select" label="Species ID" optional="true">
            <option value="1">Streptococcus pyogenes</option>
            <option value="2">Acinetobacter baumannii</option>
            <option value="3">Arcobacter butzleri</option>
            <option value="4">Campylobacter jejuni</option>
            <option value="5">Escherichia coli</option>
            <option value="6">Listeria monocytogenes</option>
            <option value="7">Yersinia enterocolitica</option>
            <option value="8">Salmonella enterica</option>
            <option value="9">Streptococcus agalactiae</option>
            <option value="10">Brucella melitensis</option>
            <option value="11">Brucella</option>
            <option value="12">Clostridium perfringens</option>
            <option value="13">Clostridium chauvoei</option>
            <option value="14">Bacillus anthracis</option>
            <option value="15">Klebsiella oxytoca</option>
            <option value="16">Clostridium neonatale</option>
        </param>
        <!-- Currently,the schema id can only be set to 1. Maybe in the next versions other values possible -->
        <param argument="--schema-id" type="integer" min="1" value="1" label="Schema ID" optional="true"/>
        <param argument="--nomenclature-server" type="select" label="Nomenclature server" optional="false">
            <option value="main" selected="true">main "https://chewbbaca.online/"</option>
            <option value="tutorial">tutorial "https://tutorial.chewbbaca.online/"</option>
            <option value="local">local "http://127.0.0.1:5000/NS/api/"</option>                
        </param>
    </inputs>
    <outputs>
        <data format="txt" name="NSStats" from_work_dir="NSStats.txt" label="${tool.name}"/>
    </outputs>
    <tests>
        <test>
            <param name="mode" value="species" />
            <output name="NSStats" file="NSStats.txt" compare="sim_size" />
        </test>
    </tests>
    <help>
chewBBACA is a software suite for the creation and evaluation of core genome and whole genome MultiLocus Sequence Typing (cg/wgMLST) schemas and results.

The NSStats module enables the retrieval of information from the Chewie-NS server. Its main objective is to provide information about the list of species and schemas in Chewie-NS, so that users can quickly identify a schema of interest and download it.

    </help>
    <expand macro="citations" />
</tool>