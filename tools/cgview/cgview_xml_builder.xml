<tool id="cgview_xml_builder" name="cgview XML builder" version="1.0+galaxy0">
    <description>Circular Genome Viewer</description>
    <requirements>
        <requirement type="package" version="1.0">cgview</requirement>
    </requirements>   
    <command detect_errors="exit_code">
        <![CDATA[
          cgview_xml_builder.pl
           -gc_content $gc_content
           -gc_skew $gc_skew
           -at_content $at_content
           -at_skew $at_skew
           -average $average
           -feature_labels $feature_labels
           -use_opacity $use_opacity
           -show_sequence_features $show_sequence_features
           -sequence '${reference}'
           -blast '${blast_output}'
           -output '${output}'
        ]]>  
    </command>
    <inputs>
        <param name="reference" type="data" format="genbank,fasta" label="Reference" help=""/>
        <param name="gc_content" type="boolean" truevalue="T" falsevalue="F" label="Display GC Content" checked="true" help=""/>
	<param name="gc_skew" type="boolean" truevalue="T" falsevalue="F" label="Display GC Skew" checked="false" help=""/>
	<param name="at_content" type="boolean" truevalue="T" falsevalue="F" label="Display AT Content" checked="false" help=""/>
	<param name="at_skew" type="boolean" truevalue="T" falsevalue="F" label="Display AT Skew" checked="false" help=""/>
	<param name="average" type="boolean" truevalue="T" falsevalue="F" label="Display deviation of GC and AT values from the average for the entire genome." checked="true" help=""/>
	<param name="feature_labels" type="boolean" truevalue="T" falsevalue="F" label="Display feature labels from GenBank file" checked="false" help=""/>
	<param name="use_opacity" type="boolean" truevalue="T" falsevalue="F" label="Draw BLAST hits with partial opacity" checked="false" help=""/>
        <param name="show_sequence_features" type="boolean" truevalue="T" falsevalue="F" label="Draw features in the reference (GenBank) file" checked="false" help=""/>
        <param name="blast_output" type="data" format="tabular" />
    </inputs>
    <outputs>
        <data name="output" format="xml"/> 
    </outputs>
    <tests>
    </tests>
    <help>
    </help>
    <citations>
        <citation type="bibtex">
            @article{
              stothard2004circular,
              title={Circular genome visualization and exploration using CGView},
              author={Stothard, Paul and Wishart, David S},
              journal={Bioinformatics},
              volume={21},
              number={4},
              pages={537--539},
              year={2004},
              publisher={Oxford University Press}
            }
    </citation>
  </citations>
</tool>
