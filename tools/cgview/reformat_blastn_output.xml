<tool id="cgview_reformat_blastn_output" name="reformat blastn output for cgview XML builder" version="1.0+galaxy0">
    <description>Reformat blastn output for cgview_xml_builder</description>
    <requirements>
    </requirements>   
    <command detect_errors="exit_code">
        <![CDATA[
          awk -F'\t' 'BEGIN {OFS = FS} $2 = $2 FS "match"' '${input}' |
          sed '1iquery_id\tmatch_id\tmatch_description\t%_identity\talignment_length\tmismatches\tgap_openings\tq_start\tq_end\ts_start\ts_end\tevalue\tbit_score' |
	  sed '1i#PROGRAM=blastn'
          > '${output}'
        ]]>  
    </command>
    <inputs>
        <param name="input" type="data" format="tabular" label="Input" help=""/>
    </inputs>
    <outputs>
        <data name="output" format="tabular"/> 
    </outputs>
    <tests>
    </tests>
    <help>
    </help>
    <citations>
        <citation type="bibtex">
            @article{
              stothard2004circular,
              title={Circular genome visualization and exploration using CGView},
              author={Stothard, Paul and Wishart, David S},
              journal={Bioinformatics},
              volume={21},
              number={4},
              pages={537--539},
              year={2004},
              publisher={Oxford University Press}
            }
    </citation>
  </citations>
</tool>
