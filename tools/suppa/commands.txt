

   


       

        <section name="ap" >
            <param name="m" value="empirical"/> <!-- Classical -->
            <param name="a" value="1000"/>
            <param name="l" value="0"/>
            <param name="pa" value="true"/>
            <param name="gc" value="true"/>
            <param name="al" value="0.06"/>
            <param name="c" value="true"/>
            <param name="me" value="true"/>
            <param name="th" value="1.1"/>
            <param name="nan" value="0.1"/>
        </section>

## 1

suppa.py generateEvents -i annotation/Homo_sapiens.GRCh37.75.formatted.gtf -o ensembl_hg19.events -e SE SS MX RI FL -f ioe
awk '
    FNR==1 && NR!=1 { while (/^<header>/) getline; }
    1 {print}
' *.ioe > ensembl_hg19.events.ioe

## 2a

suppa.py psiPerEvent -i ensembl_hg19.events.ioe -e iso_tpm_formatted.txt -o TRA2_events

## 3a

Rscript split_file.R iso_tpm_formatted.txt SRR1513329,SRR1513330,SRR1513331 SRR1513332,SRR1513333,SRR1513334 TRA2_NC_iso.tpm TRA2_KD_iso.tpm -i
Rscript split_file.R TRA2_events.psi SRR1513329,SRR1513330,SRR1513331 SRR1513332,SRR1513333,SRR1513334 TRA2_NC_events.psi TRA2_KD_events.psi -e

suppa.py diffSplice -m empirical -gc -i ensembl_hg19.events.ioe -p TRA2_KD_events.psi TRA2_NC_events.psi -e TRA2_KD_iso.tpm TRA2_NC_iso.tpm -o TRA2_diffSplice

suppa.py diffSplice -m empirical -gc -i ensembl_hg19.events.ioe -p TRA2_KD_events.dat TRA2_NC_events.dat -e TRA2_KD_iso.dat TRA2_NC_iso.dat -o TRA2_diffSplice_dat

<has_text_matching expression="0&#009;nt.+"/>
0	239nt, >F12Fcsw_481739... at +/99.16%
0&#009;239nt, &gt;F12Fcsw_481739... at +/99.16%

annotation.gtf  TRA2_KD_events.psi  TRA2_KD_iso.tpm  TRA2_NC_events.psi  TRA2_NC_iso.tpm
head -n 2000 annotation_big.gtf > annotation.gtf &&

head -n 1000 ensembl_hg19.events.ioe > events.ioe &&
head -n 3100 TRA2_KD_events.psi > sample1.psi &&
head -n 1000 TRA2_KD_iso.tpm > sample1.tpm &&
head -n 3100 TRA2_NC_events.psi > sample2.psi &&
head -n 1000 TRA2_NC_iso.tpm > sample2.tpm

suppa.py diffSplice -m empirical -gc -i events.ioe -p sample1.psi sample2.psi -e sample1.tpm sample2.tpm -o results


IOI

suppa.py generateEvents -f ioi -i Homo_sapiens.GRCh37.75.formatted.gtf -o ensembl_hg19.isoforms
# ensembl_hg19.isoforms.ioi
# Homo_sapiens.GRCh37.75.formatted.gtf
# iso_tpm_formatted.txt
# split_file.R

suppa.py psiPerIsoform -g Homo_sapiens.GRCh37.75.formatted.gtf -e iso_tpm_formatted.txt -o result.iso
# ensembl_hg19.isoforms.ioi
# Homo_sapiens.GRCh37.75.formatted.gtf
# iso_tpm_formatted.txt
# result.iso_isoform.psi
# split_file.R

Rscript split_file.R result.iso_isoform.psi SRR1513329,SRR1513330,SRR1513331 SRR1513332,SRR1513333,SRR1513334 TRA2_NC_iso.psi TRA2_KD_iso.psi -i
ensembl_hg19.isoforms.ioi
# Homo_sapiens.GRCh37.75.formatted.gtf
# iso_tpm_formatted.txt
# result.iso_isoform.psi
# split_file.R
# TRA2_KD_iso.psi
# TRA2_NC_iso.psi

Rscript split_file.R iso_tpm_formatted.txt SRR1513329,SRR1513330,SRR1513331 SRR1513332,SRR1513333,SRR1513334 TRA2_NC_iso.tpm TRA2_KD_iso.tpm -i
# ensembl_hg19.isoforms.ioi
# Homo_sapiens.GRCh37.75.formatted.gtf
# iso_tpm_formatted.txt
# result.iso_isoform.psi
# split_file.R
# TRA2_KD_iso.psi  TRA2_KD_iso.tpm
# TRA2_NC_iso.psi
# TRA2_NC_iso.tpm

# big dataset
suppa.py diffSplice -m empirical -gc -i ensembl_hg19.isoforms.ioi -p TRA2_KD_iso.psi TRA2_NC_iso.psi -e TRA2_KD_iso.tpm TRA2_NC_iso.tpm -o TRA2_diffSplice_iso
# ensembl_hg19.isoforms.ioi
# iso_tpm_formatted.txt
# split_file.R
# TRA2_diffSplice_iso.psivec
# TRA2_KD_iso.tpm
# TRA2_NC_iso.tpm
# Homo_sapiens.GRCh37.75.formatted.gtf
# result.iso_isoform.psi
# TRA2_diffSplice_iso.dpsi
# TRA2_KD_iso.psi
# TRA2_NC_iso.psi

# small dataset
head -n 1500 ../ensembl_hg19.isoforms.ioi > events.ioi &&
head -n 1500 ../TRA2_KD_iso.psi > sample1.iso.psi &&
head -n 1500 ../TRA2_KD_iso.tpm > sample1.iso.tpm &&
head -n 1500 ../TRA2_NC_iso.psi > sample2.iso.psi &&
head -n 1500 ../TRA2_NC_iso.tpm > sample2.iso.tpm &&
suppa.py diffSplice -i events.ioi -p sample1.iso.psi sample2.iso.psi -e sample1.iso.tpm sample2.iso.tpm -o results -s -th 1.0 -m empirical

suppa.py diffSplice -i 'events.ioi' -p 'sample1.iso.psi' 'sample2.iso.psi' -e 'sample1.iso.tpm' 'sample2.iso.tpm' -m empirical -a 1000 -l 0 -al 0.05   -th 1.0 -nan 0.0 -mo 'DEBUG' -o 'results' -s