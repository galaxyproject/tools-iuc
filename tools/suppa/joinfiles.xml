<?xml version="1.0"?>
<tool id="suppa_joinfiles" name="SUPPA joinFiles" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@">
    <description>of expression values</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <expand macro="version_command"/>
    <command detect_errors="exit_code"><![CDATA[
suppa.py joinFiles
-i 
#for $current in $i
    '$current'
#end for
-f 'tpm' ## tpm or psi allowed, but output file is the same
-o 'result'
    ]]></command>
    <inputs>
        <param argument="-i" type="data" format="tabular" multiple="true" min="2" label="Select expression files"/>
    </inputs>
    <outputs>
        <data name="out" format="tabular" from_work_dir="result.tpm" label="${tool.name} on ${on_string}: Merged files"/>
    </outputs>
    <tests>
        <!-- #1 default -->
        <test expect_num_outputs="1">
            <param name="i" value="sample1.tpm,sample2.tpm"/>
            <output name="out">
                <assert_contents>
                    <has_n_lines n="1000"/>
                    <has_text_matching expression="ENST00000589600.+"/>
                </assert_contents>
            </output>
        </test>
    </tests>
    <help><![CDATA[
.. class:: infomark

**What it does**

@WID@

Transcript expression files used with SUPPA typically come from calculations with multiple samples. To facilitate the generation of a single file with all the transcript expression values for all samples, SUPPA distribution includes *joinFiles* to combine multiple simple transcript expression files into one single file.

**Input**

@EXPRESSION@

**Output**

A merged file of expression values.

.. class:: infomark

**References**

@REFERENCES@
    ]]></help>
    <expand macro="citations"/>
</tool>