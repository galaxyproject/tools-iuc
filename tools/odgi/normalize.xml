<tool id="odgi_normalize" name="odgi normalize" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="24.1">
    <description>normalize variation graph structure</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command detect_errors="exit_code"><![CDATA[
odgi normalize
--idx '$idx'
--out '$output'
#if str($max_iterations)
    --max-iterations $max_iterations
#end if
$debug
@THREADS@
    ]]></command>
    <inputs>
        <expand macro="graph_input_param"/>
        <param argument="--max-iterations" type="integer" optional="true" min="1" label="Maximum normalization iterations" help="Number of passes to perform (default 10)."/>
        <param argument="--debug" type="boolean" truevalue="--debug" falsevalue="" checked="false" label="Print normalization debug information"/>
    </inputs>
    <outputs>
        <data name="output" format="odgi" label="${tool.name} on ${on_string}"/>
    </outputs>
    <tests/>
    <help format="markdown"><![CDATA[
@HELP_HEADER@

`odgi normalize` compacts unitigs and simplifies redundant furcations to produce a normalized graph.

### Inputs

- **Input odgi graph**: Graph to normalize.
- **Maximum normalization iterations**: Limit the number of passes.
- **Print normalization debug information**: Emit detailed logs.

### Outputs

- **odgi**: Normalized graph.
    ]]></help>
    <expand macro="citations"/>
</tool>
