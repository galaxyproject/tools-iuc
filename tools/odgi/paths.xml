<tool id="odgi_paths" name="odgi paths" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="24.1">
    <description>inspect and report embedded paths</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command detect_errors="exit_code"><![CDATA[
odgi paths
--idx '$idx'
#if str($delim)
    --delim '$delim'
#end if
#if str($delim_pos)
    --delim-pos $delim_pos
#end if
$list_paths
$list_paths_with_coords
$haplotypes
$scale_by_node_len
$fasta
#if $out
    $out '$graph_output'
#end if
@THREADS@
> '$output'
    ]]></command>
    <inputs>
        <expand macro="graph_input_param"/>
        <expand macro="group_delim_params"/>
        <param argument="--list-paths" type="boolean" truevalue="--list-paths" falsevalue="" checked="false" label="List all paths"/>
        <param argument="--list-paths-start-end" type="boolean" truevalue="--list-paths-start-end" falsevalue="" checked="false" label="Include start and end coordinates when listing paths" help="Only applies when listing paths."/>
        <param argument="--haplotypes" type="boolean" truevalue="--haplotypes" falsevalue="" checked="false" label="Emit haplotype matrix"/>
        <param argument="--scale-by-node-len" type="boolean" truevalue="--scale-by-node-len" falsevalue="" checked="false" label="Scale haplotype matrix cells by node length"/>
        <param argument="--fasta" type="boolean" truevalue="--fasta" falsevalue="" checked="false" label="Output each path sequence in FASTA format"/>
        <param argument="--out" type="boolean" truevalue="--out" falsevalue="" checked="false" label="Write pruned paths to a new graph"/>
    </inputs>
    <outputs>
        <expand macro="standard_text_output"/>
        <data name="graph_output" format="odgi" label="${tool.name} on ${on_string}: paths graph">
            <filter>out</filter>
        </data>
    </outputs>
    <tests/>
    <help format="markdown"><![CDATA[
@HELP_HEADER@

`odgi paths` inspects the embedded paths of an ODGI graph and reports summaries through standard output.
Common uses include listing path names, emitting FASTA sequences, or exporting a haplotype matrix.

### Inputs

- **Input odgi graph**: Variation graph in `.og` format.
- **Delimiter to define path groups**: Split path names to aggregate statistics by a shared prefix.
- **Use the N-th occurrence of the delimiter**: Pick which delimiter occurrence defines the prefix.
- **List all paths**: Print path names (optionally with coordinates).
- **Emit haplotype matrix**: Output a tab-delimited haplotype matrix, optionally scaled by node lengths.
- **Output each path sequence in FASTA format**: Emit sequences as FASTA records.
- **Write pruned paths to a new graph**: Save the graph after optional path filtering operations.

### Outputs

- **Text**: Console output from `odgi paths` (path listings, haplotype matrices, FASTA, etc.).
- **paths graph**: Optional ODGI file when writing path-filtered graphs back to disk.
    ]]></help>
    <expand macro="citations"/>
</tool>
