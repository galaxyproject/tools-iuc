<tool id="show-coords" name="Show-Coords" version="0.1.0">
	<requirements>
        <requirement type="package" version="4.0.0beta2">mummer4</requirement>
    </requirements>
    <command detect_errors="exit_code">
    	<![CDATA[
    	show-coords
    		$merge
    		$btab
    		$percent_coverage
    		$display
    		-I $identity
    		$knockout
    		$length_info
    		-L $min_alignment_length
    		$annotate
    		$sort
    		$switch
    		$delta > '$output'
    	]]>
    </command>
    <inputs>
    	<param name="delta" type="data" format="txt" label="Delta File from Nucmer or Promer" />
    	<param name="merge" type="boolean" argument="-b" truevalue="-b" falsevalue="" label="Merge" help="Merges overlapping alignments regardless of match dir or frame and does not display any idenitity information." />
    	<param name="btab" type="boolean" argument="-B" truevalue="-B" falsevalue="" label="Switch output to btab format" />
    	<param name="percent_coverage" type="boolean" argument="-c" truevalue="-c" falsevalue="" label="Include percent coverage information in the output" />
    	<param name="display" type="boolean" argument="-d" truevalue="-d" falsevalue="" label="Display" help="Display the alignment direction in the additional FRM columns" />
    	<param name="header" type="boolean" argument="-H" truevalue="-H" falsevalue="" label="Do not print the output header" />
    	<param name="identity" type="float" argument="-I" value="75.0" label="Set minimum percent identity to display" />
    	<param name="knockout" type="boolean" argument="-k" truevalue="-k" falsevalue="" label="Knockout" help="Knockout (do not display) alignments that overlap another alignment in a different frame by more than 50% of their length, AND have a smaller percent similarity or are less than 75% of the size of the other alignment (promer only)" />
    	<param name="length_info" type="boolean" argument="-l" truevalue="-l" falsevalue="" label="Include the sequence length information in the output" />
    	<param name="min_alignment_length" type="integer" argument="-L" value="100" label="Set minimum alignment length to display" />
    	<param name="annotate" type="boolean" argument="-o" truevalue="-o" falsevalue="" label="Annotate" help="Annotate maximal alignments between two sequences, i.e. overlaps between reference and query sequences" />
    	<param name="sort" type="select" label="Sorting strategy for output lines" >
    		<option value="-q">Sort output lines by query IDs and coordinates</option>
    		<option value="-r">Sort output lines by reference IDs and coordinates</option>
    	</param>
    	<param name="switch" type="boolean" argument="-T" truevalue="-T" falsevalue="" label="Switch output to tab-delimited format" />
    </inputs>
    <outputs>
        <data name="output" format="txt" from_work_dir="show-coords.txt" />
    </outputs>
    <tests>
    	<test>
            <param name="delta" ftype="txt" value="nucmer.txt" />
            <output name="output" ftype="txt" compare="diff" value="show-coords.txt" />
    	</test>
    </tests>
    <help><![CDATA[
        This program parses the delta alignment output of nucmer and promer and displays the coordinates, and other useful information about the alignments.
    ]]></help>
    <citations>
        <citation type="bibtex">
            @misc{githubmummer,
            author = {Art Delcher, Stefan Kurtz, Adam Phillippy, Steven Salzberg},
            year = {2012},
            title = {mummer4},
            publisher = {GitHub},
            journal = {GitHub repository},
            url = {https://github.com/mummer4/mummer},
        }</citation>
    </citations>
</tool>