<tool id="show-snps" name="Show-SNPs" version="0.1.0">
    <requirements>
        <requirement type="package" version="4.0.0beta2">mummer4</requirement>
    </requirements>
    <command detect_errors="exit_code">
        <![CDATA[
        show-snps
            $ambig_mapping
            $header
            $indels
            $seq_length
            $sort
            -x $flanking
            '$delta' > '$output'
        ]]>
    </command>
    <inputs>
        <param name="delta" type="data" format="txt" label="Delta File" />
        <param name="ambig_mapping" type="boolean" argument="-C" truevalue="-C" falsevalue="" label="Ambiguous Mapping" help="Do not report SNPs from alignments with an ambiguous mapping, i.e. only report SNPs where the [R] and [Q] columns equal 0 and do not output these columns" />
        <param name="header" type="boolean" argument="-H" truevalue="-H" falsevalue="" label="Do not print the output header" />
        <param name="indels" type="boolean" argument="-I" truevalue="-I" falsevalue="" label="Do not report indels" />
        <param name="seq_length" type="boolean" argument="-l" truevalue="-l" falsevalue="" label="Include sequence length information in the output" />
        <param name="sort" type="select" label="Sort output by reference/query IDs and SNP positions" >
            <option value="-q">Query</option>
            <option value="-r">Refercence</option>
        </param>
        <param name="flanking" type="integer" argument="-x" value="0" label="Flanking characters" help="Include x characters of surrounding SNP context in the output" />
    </inputs>
    <outputs>
        <data name="output" format="txt" from_work_dir="show-snps.txt" />
    </outputs>
    <tests>
        <test>
            <param name="delta" ftype="txt" value="nucmer.txt" />
            <output name="output" ftype="txt" compare="diff" value="show-snps.txt" />
        </test>
    </tests>
    <help><![CDATA[
        This program reports polymorphism contained in a delta encoded alignment file output by either nucmer or promer. It catalogs all of the single nucleotide polymorphisms (SNPs) and insertions/deletions within the delta file alignments. Polymorphisms are reported one per line, in a delimited fashion similar to show-coords. Pairing this program with the appropriate MUMmer tools can create an easy to use SNP pipeline for the rapid identification of putative SNPs between any two sequence sets.
    ]]></help>
    <citations>
        <citation type="bibtex">
            @misc{githubmummer,
            author = {Art Delcher, Stefan Kurtz, Adam Phillippy, Steven Salzberg},
            year = {2012},
            title = {mummer4},
            publisher = {GitHub},
            journal = {GitHub repository},
            url = {https://github.com/mummer4/mummer},
        }</citation>
    </citations>
</tool>