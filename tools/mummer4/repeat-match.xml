<tool id="repeat-match" name="Repeat-Match" version="0.1.0">
    <requirements>
        <requirement type="package" version="4.0.0beta2">mummer4</requirement>
    </requirements>
    <command detect_errors="exit_code">
        <![CDATA[
        repeat-match
            $speed
            $forward
            -n $match_length
            $tandem
            -V $verbose
            '$sequence' > '$output'
    	]]>
    </command>
    <inputs>
        <param name="sequence" type="data" format="fasta" label="Sequence File" />
        <param name="speed" type="boolean" argument="-E" truevalue="-E" falsevalue="" label="Use exhaustive (slow) search to find matches" />
        <param name="forward" type="boolean" argument="-f" truevalue="-f" falsevalue="" label="Forward strand only, don't use reverse complement" />
        <param name="match_length" type="integer" argument="-n" value="20" label="Set minimum exact match length" />
        <param name="tandem" type="boolean" argument="-t" truevalue="-t" falsevalue="" label="Only output tandem repeats" />
        <param name="verbose" type="integer" argument="-V" value="0" label="Set level of verbose (debugging) printing" />
    </inputs>
    <outputs>
        <data name="output" format="txt" from_work_dir="repeat-match.txt" />
    </outputs>
    <tests>
        <test>
            <param name="sequence" ftype="fasta" value="K12.fasta" />
            <output name="output" ftype="txt" compare="diff" value="repeat-match.txt" />
        </test>
    </tests>
    <help><![CDATA[
        Finds exact repeats within a single sequence.
    ]]></help>
    <citations>
        <citation type="bibtex">
            @misc{githubmummer,
            author = {Art Delcher, Stefan Kurtz, Adam Phillippy, Steven Salzberg},
            year = {2012},
            title = {mummer4},
            publisher = {GitHub},
            journal = {GitHub repository},
            url = {https://github.com/mummer4/mummer},
        }</citation>
    </citations>
</tool>