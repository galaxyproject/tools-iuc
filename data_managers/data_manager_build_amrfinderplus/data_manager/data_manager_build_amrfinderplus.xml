<tool id="data_manager_build_amrfinderplus" name="amrfinderplus_datamanager" tool_type="manage_data" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="@PROFILE@">
    <description>AMRfinderplus database builder</description>
    <macros>
        <import>macro.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command detect_errors="exit_code">
      <![CDATA[
        python '$__tool_directory__/data_manager_build_amrfinderplus.py'
        '$output_file'
        echo "ok"
      ]]></command>
    <inputs>
        <param name="database_select" type="select" label="Database version">
            <option value="latest" selected="true">Latest available version</option>
        </param>
    </inputs>
    <outputs>
        <data name="output_file" format="data_manager_json"/>
    </outputs>
    <tests>
        <!-- Test download -->
        <test expect_num_outputs="1">
            <output name="output_file" value="amrfinderplus_test_data_manager.json" />
        </test>
    </tests>
    <help><![CDATA[
        Download the latest version of amrfinderplus database from the NCBI
    ]]></help>
    <citations>
        <citation type="doi">10.1038/s41598-021-91456-0</citation>
    </citations>
</tool>
